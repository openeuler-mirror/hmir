(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[84],{

/***/ "./node_modules/regexpp/index.mjs":
/*!****************************************!*\
  !*** ./node_modules/regexpp/index.mjs ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RegExpValidator = exports.RegExpParser = exports.AST = void 0;\nexports.parseRegExpLiteral = parseRegExpLiteral;\nexports.validateRegExpLiteral = validateRegExpLiteral;\nexports.visitRegExpAST = visitRegExpAST;\n\n/*! @author Toru Nagashima <https://github.com/mysticatea> */\nvar ast = /*#__PURE__*/Object.freeze({});\nexports.AST = ast;\nlet largeIdStartRanges = undefined;\nlet largeIdContinueRanges = undefined;\n\nfunction isIdStart(cp) {\n  if (cp < 0x41) return false;\n  if (cp < 0x5b) return true;\n  if (cp < 0x61) return false;\n  if (cp < 0x7b) return true;\n  return isLargeIdStart(cp);\n}\n\nfunction isIdContinue(cp) {\n  if (cp < 0x30) return false;\n  if (cp < 0x3a) return true;\n  if (cp < 0x41) return false;\n  if (cp < 0x5b) return true;\n  if (cp === 0x5f) return true;\n  if (cp < 0x61) return false;\n  if (cp < 0x7b) return true;\n  return isLargeIdStart(cp) || isLargeIdContinue(cp);\n}\n\nfunction isLargeIdStart(cp) {\n  return isInRange(cp, largeIdStartRanges || (largeIdStartRanges = initLargeIdStartRanges()));\n}\n\nfunction isLargeIdContinue(cp) {\n  return isInRange(cp, largeIdContinueRanges || (largeIdContinueRanges = initLargeIdContinueRanges()));\n}\n\nfunction initLargeIdStartRanges() {\n  return restoreRanges(\"4q 0 b 0 5 0 6 m 2 u 2 cp 5 b f 4 8 0 2 0 3m 4 2 1 3 3 2 0 7 0 2 2 2 0 2 j 2 2a 2 3u 9 4l 2 11 3 0 7 14 20 q 5 3 1a 16 10 1 2 2q 2 0 g 1 8 1 b 2 3 0 h 0 2 t u 2g c 0 p w a 1 5 0 6 l 5 0 a 0 4 0 o o 8 a 1i k 2 h 1p 1h 4 0 j 0 8 9 g f 5 7 3 1 3 l 2 6 2 0 4 3 4 0 h 0 e 1 2 2 f 1 b 0 9 5 5 1 3 l 2 6 2 1 2 1 2 1 w 3 2 0 k 2 h 8 2 2 2 l 2 6 2 1 2 4 4 0 j 0 g 1 o 0 c 7 3 1 3 l 2 6 2 1 2 4 4 0 v 1 2 2 g 0 i 0 2 5 4 2 2 3 4 1 2 0 2 1 4 1 4 2 4 b n 0 1h 7 2 2 2 m 2 f 4 0 r 2 6 1 v 0 5 7 2 2 2 m 2 9 2 4 4 0 x 0 2 1 g 1 i 8 2 2 2 14 3 0 h 0 6 2 9 2 p 5 6 h 4 n 2 8 2 0 3 6 1n 1b 2 1 d 6 1n 1 2 0 2 4 2 n 2 0 2 9 2 1 a 0 3 4 2 0 m 3 x 0 1s 7 2 z s 4 38 16 l 0 h 5 5 3 4 0 4 1 8 2 5 c d 0 i 11 2 0 6 0 3 16 2 98 2 3 3 6 2 0 2 3 3 14 2 3 3 w 2 3 3 6 2 0 2 3 3 e 2 1k 2 3 3 1u 12 f h 2d 3 5 4 h7 3 g 2 p 6 22 4 a 8 c 2 3 f h f h f c 2 2 g 1f 10 0 5 0 1w 2g 8 14 2 0 6 1x b u 1e t 3 4 c 17 5 p 1j m a 1g 2b 0 2m 1a i 6 1k t e 1 b 17 r z 16 2 b z 3 8 8 16 3 2 16 3 2 5 2 1 4 0 6 5b 1t 7p 3 5 3 11 3 5 3 7 2 0 2 0 2 0 2 u 3 1g 2 6 2 0 4 2 2 6 4 3 3 5 5 c 6 2 2 6 39 0 e 0 h c 2u 0 5 0 3 9 2 0 3 5 7 0 2 0 2 0 2 f 3 3 6 4 5 0 i 14 22g 1a 2 1a 2 3o 7 3 4 1 d 11 2 0 6 0 3 1j 8 0 h m a 6 2 6 2 6 2 6 2 6 2 6 2 6 2 6 fb 2 q 8 8 4 3 4 5 2d 5 4 2 2h 2 3 6 16 2 2l i v 1d f e9 533 1t g70 4 wc 1w 19 3 7g 4 f b 1 l 1a h u 3 27 14 8 3 2u 3 1g 3 8 17 c 2 2 2 3 2 m u 1f f 1d 1r 5 4 0 2 1 c r b m q s 8 1a t 0 h 4 2 9 b 4 2 14 o 2 2 7 l m 4 0 4 1d 2 0 4 1 3 4 3 0 2 0 p 2 3 a 8 2 d 5 3 5 3 5 a 6 2 6 2 16 2 d 7 36 u 8mb d m 5 1c 6it a5 3 2x 13 6 d 4 6 0 2 9 2 c 2 4 2 0 2 1 2 1 2 2z y a2 j 1r 3 1h 15 b 39 4 2 3q 11 p 7 p c 2g 4 5 3 5 3 5 3 2 10 b 2 p 2 i 2 1 2 e 3 d z 3e 1y 1g 7g s 4 1c 1c v e t 6 11 b t 3 z 5 7 2 4 17 4d j z 5 z 5 13 9 1f 4d 8m a l b 7 49 5 3 0 2 17 2 1 4 0 3 m b m a u 1u i 2 1 b l b p 1z 1j 7 1 1t 0 g 3 2 2 2 s 17 s 4 s 10 7 2 r s 1h b l b i e h 33 20 1k 1e e 1e e z 9p 15 7 1 27 s b 0 9 l 2z k s m d 1g 24 18 x o r z u 0 3 0 9 y 4 0 d 1b f 3 m 0 2 0 10 h 2 o 2d 6 2 0 2 3 2 e 2 9 8 1a 13 7 3 1 3 l 2 6 2 1 2 4 4 0 j 0 d 4 4f 1g j 3 l 2 v 1b l 1 2 0 55 1a 16 3 11 1b l 0 1o 16 e 0 20 q 6e 17 39 1r w 7 3 0 3 7 2 1 2 n g 0 2 0 2n 7 3 12 h 0 2 0 t 0 b 13 8 0 m 0 c 19 k 0 z 1k 7c 8 2 10 i 0 1e t 35 6 2 1 2 11 m 0 q 5 2 1 2 v f 0 94 i 5a 0 28 pl 2v 32 i 5f 24d tq 34i g6 6nu fs 8 u 36 t j 1b h 3 w k 6 i j5 1r 3l 22 6 0 1v c 1t 1 2 0 t 4qf 9 yd 17 8 6wo 7y 1e 2 i 3 9 az 1s5 2y 6 c 4 8 8 9 4mf 2c 2 1y 2 1 3 0 3 1 3 3 2 b 2 0 2 6 2 1s 2 3 3 7 2 6 2 r 2 3 2 4 2 0 4 6 2 9f 3 o 2 o 2 u 2 o 2 u 2 o 2 u 2 o 2 u 2 o 2 7 1th 18 b 6 h 0 aa 17 105 5g 1o 1v 8 0 xh 3 2 q 2 1 2 0 3 0 2 9 2 3 2 0 2 0 7 0 5 0 2 0 2 0 2 2 2 1 2 0 3 0 2 0 2 0 2 0 2 0 2 1 2 0 3 3 2 6 2 3 2 3 2 0 2 9 2 g 6 2 2 4 2 g 3et wyl z 378 c 65 3 4g1 f 5rk 2e8 f1 15v 3t6\");\n}\n\nfunction initLargeIdContinueRanges() {\n  return restoreRanges(\"53 0 g9 33 o 0 70 4 7e 18 2 0 2 1 2 1 2 0 21 a 1d u 7 0 2u 6 3 5 3 1 2 3 3 9 o 0 v q 2k a g 9 y 8 a 0 p 3 2 8 2 2 2 4 18 2 3c e 2 w 1j 2 2 h 2 6 b 1 3 9 i 2 1l 0 2 6 3 1 3 2 a 0 b 1 3 9 f 0 3 2 1l 0 2 4 5 1 3 2 4 0 l b 4 0 c 2 1l 0 2 7 2 2 2 2 l 1 3 9 b 5 2 2 1l 0 2 6 3 1 3 2 8 2 b 1 3 9 j 0 1o 4 4 2 2 3 a 0 f 9 h 4 1m 6 2 2 2 3 8 1 c 1 3 9 i 2 1l 0 2 6 2 2 2 3 8 1 c 1 3 9 h 3 1k 1 2 6 2 2 2 3 a 0 b 1 3 9 i 2 1z 0 5 5 2 0 2 7 7 9 3 1 1q 0 3 6 d 7 2 9 2g 0 3 8 c 5 3 9 1r 1 7 9 c 0 2 0 2 0 5 1 1e j 2 1 6 a 2 z a 0 2t j 2 9 d 3 5 2 2 2 3 6 4 3 e b 2 e jk 2 a 8 pt 2 u 2 u 1 v 1 1t v a 0 3 9 y 2 3 9 40 0 3b b 5 b b 9 3l a 1p 4 1m 9 2 s 3 a 7 9 n d 2 1 1s 4 1c g c 9 i 8 d 2 v c 3 9 19 d 1d j 9 9 7 9 3b 2 2 k 5 0 7 0 3 2 5j 1l 2 4 g0 1 k 0 3g c 5 0 4 b 2db 2 3y 0 2p v ff 5 2y 1 n7q 9 1y 0 5 9 x 1 29 1 7l 0 4 0 5 0 o 4 5 0 2c 1 1f h b 9 7 h e a t 7 q c 19 3 1c d g 9 c 0 b 9 1c d d 0 9 1 3 9 y 2 1f 0 2 2 3 1 6 1 2 0 16 4 6 1 6l 7 2 1 3 9 fmt 0 ki f h f 4 1 p 2 5d 9 12 0 ji 0 6b 0 46 4 86 9 120 2 2 1 6 3 15 2 5 0 4m 1 fy 3 9 9 aa 1 4a a 4w 2 1i e w 9 g 3 1a a 1i 9 7 2 11 d 2 9 6 1 19 0 d 2 1d d 9 3 2 b 2b b 7 0 4h b 6 9 7 3 1k 1 2 6 3 1 3 2 a 0 b 1 3 6 4 4 5d h a 9 5 0 2a j d 9 5y 6 3 8 s 1 2b g g 9 2a c 9 9 2c e 5 9 6r e 4m 9 1z 5 2 1 3 3 2 0 2 1 d 9 3c 6 3 6 4 0 t 9 15 6 2 3 9 0 a a 1b f ba 7 2 7 h 9 1l l 2 d 3f 5 4 0 2 1 2 6 2 0 9 9 1d 4 2 1 2 4 9 9 96 3 ewa 9 3r 4 1o 6 q 9 s6 0 2 1i 8 3 2a 0 c 1 f58 1 43r 4 4 5 9 7 3 6 v 3 45 2 13e 1d e9 1i 5 1d 9 0 f 0 n 4 2 e 11t 6 2 g 3 6 2 1 2 4 7a 6 a 9 bn d 15j 6 32 6 6 9 3o7 9 gvt3 6n\");\n}\n\nfunction isInRange(cp, ranges) {\n  let l = 0,\n      r = ranges.length / 2 | 0,\n      i = 0,\n      min = 0,\n      max = 0;\n\n  while (l < r) {\n    i = (l + r) / 2 | 0;\n    min = ranges[2 * i];\n    max = ranges[2 * i + 1];\n\n    if (cp < min) {\n      r = i;\n    } else if (cp > max) {\n      l = i + 1;\n    } else {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction restoreRanges(data) {\n  let last = 0;\n  return data.split(\" \").map(s => last += parseInt(s, 36) | 0);\n}\n\nclass DataSet {\n  constructor(raw2018, raw2019, raw2020, raw2021) {\n    this._raw2018 = raw2018;\n    this._raw2019 = raw2019;\n    this._raw2020 = raw2020;\n    this._raw2021 = raw2021;\n  }\n\n  get es2018() {\n    return this._set2018 || (this._set2018 = new Set(this._raw2018.split(\" \")));\n  }\n\n  get es2019() {\n    return this._set2019 || (this._set2019 = new Set(this._raw2019.split(\" \")));\n  }\n\n  get es2020() {\n    return this._set2020 || (this._set2020 = new Set(this._raw2020.split(\" \")));\n  }\n\n  get es2021() {\n    return this._set2021 || (this._set2021 = new Set(this._raw2021.split(\" \")));\n  }\n\n}\n\nconst gcNameSet = new Set([\"General_Category\", \"gc\"]);\nconst scNameSet = new Set([\"Script\", \"Script_Extensions\", \"sc\", \"scx\"]);\nconst gcValueSets = new DataSet(\"C Cased_Letter Cc Cf Close_Punctuation Cn Co Combining_Mark Connector_Punctuation Control Cs Currency_Symbol Dash_Punctuation Decimal_Number Enclosing_Mark Final_Punctuation Format Initial_Punctuation L LC Letter Letter_Number Line_Separator Ll Lm Lo Lowercase_Letter Lt Lu M Mark Math_Symbol Mc Me Mn Modifier_Letter Modifier_Symbol N Nd Nl No Nonspacing_Mark Number Open_Punctuation Other Other_Letter Other_Number Other_Punctuation Other_Symbol P Paragraph_Separator Pc Pd Pe Pf Pi Po Private_Use Ps Punctuation S Sc Separator Sk Sm So Space_Separator Spacing_Mark Surrogate Symbol Titlecase_Letter Unassigned Uppercase_Letter Z Zl Zp Zs cntrl digit punct\", \"\", \"\", \"\");\nconst scValueSets = new DataSet(\"Adlam Adlm Aghb Ahom Anatolian_Hieroglyphs Arab Arabic Armenian Armi Armn Avestan Avst Bali Balinese Bamu Bamum Bass Bassa_Vah Batak Batk Beng Bengali Bhaiksuki Bhks Bopo Bopomofo Brah Brahmi Brai Braille Bugi Buginese Buhd Buhid Cakm Canadian_Aboriginal Cans Cari Carian Caucasian_Albanian Chakma Cham Cher Cherokee Common Copt Coptic Cprt Cuneiform Cypriot Cyrillic Cyrl Deseret Deva Devanagari Dsrt Dupl Duployan Egyp Egyptian_Hieroglyphs Elba Elbasan Ethi Ethiopic Geor Georgian Glag Glagolitic Gonm Goth Gothic Gran Grantha Greek Grek Gujarati Gujr Gurmukhi Guru Han Hang Hangul Hani Hano Hanunoo Hatr Hatran Hebr Hebrew Hira Hiragana Hluw Hmng Hung Imperial_Aramaic Inherited Inscriptional_Pahlavi Inscriptional_Parthian Ital Java Javanese Kaithi Kali Kana Kannada Katakana Kayah_Li Khar Kharoshthi Khmer Khmr Khoj Khojki Khudawadi Knda Kthi Lana Lao Laoo Latin Latn Lepc Lepcha Limb Limbu Lina Linb Linear_A Linear_B Lisu Lyci Lycian Lydi Lydian Mahajani Mahj Malayalam Mand Mandaic Mani Manichaean Marc Marchen Masaram_Gondi Meetei_Mayek Mend Mende_Kikakui Merc Mero Meroitic_Cursive Meroitic_Hieroglyphs Miao Mlym Modi Mong Mongolian Mro Mroo Mtei Mult Multani Myanmar Mymr Nabataean Narb Nbat New_Tai_Lue Newa Nko Nkoo Nshu Nushu Ogam Ogham Ol_Chiki Olck Old_Hungarian Old_Italic Old_North_Arabian Old_Permic Old_Persian Old_South_Arabian Old_Turkic Oriya Orkh Orya Osage Osge Osma Osmanya Pahawh_Hmong Palm Palmyrene Pau_Cin_Hau Pauc Perm Phag Phags_Pa Phli Phlp Phnx Phoenician Plrd Prti Psalter_Pahlavi Qaac Qaai Rejang Rjng Runic Runr Samaritan Samr Sarb Saur Saurashtra Sgnw Sharada Shavian Shaw Shrd Sidd Siddham SignWriting Sind Sinh Sinhala Sora Sora_Sompeng Soyo Soyombo Sund Sundanese Sylo Syloti_Nagri Syrc Syriac Tagalog Tagb Tagbanwa Tai_Le Tai_Tham Tai_Viet Takr Takri Tale Talu Tamil Taml Tang Tangut Tavt Telu Telugu Tfng Tglg Thaa Thaana Thai Tibetan Tibt Tifinagh Tirh Tirhuta Ugar Ugaritic Vai Vaii Wara Warang_Citi Xpeo Xsux Yi Yiii Zanabazar_Square Zanb Zinh Zyyy\", \"Dogr Dogra Gong Gunjala_Gondi Hanifi_Rohingya Maka Makasar Medefaidrin Medf Old_Sogdian Rohg Sogd Sogdian Sogo\", \"Elym Elymaic Hmnp Nand Nandinagari Nyiakeng_Puachue_Hmong Wancho Wcho\", \"Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi\");\nconst binPropertySets = new DataSet(\"AHex ASCII ASCII_Hex_Digit Alpha Alphabetic Any Assigned Bidi_C Bidi_Control Bidi_M Bidi_Mirrored CI CWCF CWCM CWKCF CWL CWT CWU Case_Ignorable Cased Changes_When_Casefolded Changes_When_Casemapped Changes_When_Lowercased Changes_When_NFKC_Casefolded Changes_When_Titlecased Changes_When_Uppercased DI Dash Default_Ignorable_Code_Point Dep Deprecated Dia Diacritic Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Ext Extender Gr_Base Gr_Ext Grapheme_Base Grapheme_Extend Hex Hex_Digit IDC IDS IDSB IDST IDS_Binary_Operator IDS_Trinary_Operator ID_Continue ID_Start Ideo Ideographic Join_C Join_Control LOE Logical_Order_Exception Lower Lowercase Math NChar Noncharacter_Code_Point Pat_Syn Pat_WS Pattern_Syntax Pattern_White_Space QMark Quotation_Mark RI Radical Regional_Indicator SD STerm Sentence_Terminal Soft_Dotted Term Terminal_Punctuation UIdeo Unified_Ideograph Upper Uppercase VS Variation_Selector White_Space XIDC XIDS XID_Continue XID_Start space\", \"Extended_Pictographic\", \"\", \"EBase EComp EMod EPres ExtPict\");\n\nfunction isValidUnicodeProperty(version, name, value) {\n  if (gcNameSet.has(name)) {\n    return version >= 2018 && gcValueSets.es2018.has(value);\n  }\n\n  if (scNameSet.has(name)) {\n    return version >= 2018 && scValueSets.es2018.has(value) || version >= 2019 && scValueSets.es2019.has(value) || version >= 2020 && scValueSets.es2020.has(value) || version >= 2021 && scValueSets.es2021.has(value);\n  }\n\n  return false;\n}\n\nfunction isValidLoneUnicodeProperty(version, value) {\n  return version >= 2018 && binPropertySets.es2018.has(value) || version >= 2019 && binPropertySets.es2019.has(value) || version >= 2021 && binPropertySets.es2021.has(value);\n}\n\nconst Backspace = 0x08;\nconst CharacterTabulation = 0x09;\nconst LineFeed = 0x0a;\nconst LineTabulation = 0x0b;\nconst FormFeed = 0x0c;\nconst CarriageReturn = 0x0d;\nconst ExclamationMark = 0x21;\nconst DollarSign = 0x24;\nconst LeftParenthesis = 0x28;\nconst RightParenthesis = 0x29;\nconst Asterisk = 0x2a;\nconst PlusSign = 0x2b;\nconst Comma = 0x2c;\nconst HyphenMinus = 0x2d;\nconst FullStop = 0x2e;\nconst Solidus = 0x2f;\nconst DigitZero = 0x30;\nconst DigitOne = 0x31;\nconst DigitSeven = 0x37;\nconst DigitNine = 0x39;\nconst Colon = 0x3a;\nconst LessThanSign = 0x3c;\nconst EqualsSign = 0x3d;\nconst GreaterThanSign = 0x3e;\nconst QuestionMark = 0x3f;\nconst LatinCapitalLetterA = 0x41;\nconst LatinCapitalLetterB = 0x42;\nconst LatinCapitalLetterD = 0x44;\nconst LatinCapitalLetterF = 0x46;\nconst LatinCapitalLetterP = 0x50;\nconst LatinCapitalLetterS = 0x53;\nconst LatinCapitalLetterW = 0x57;\nconst LatinCapitalLetterZ = 0x5a;\nconst LowLine = 0x5f;\nconst LatinSmallLetterA = 0x61;\nconst LatinSmallLetterB = 0x62;\nconst LatinSmallLetterC = 0x63;\nconst LatinSmallLetterD = 0x64;\nconst LatinSmallLetterF = 0x66;\nconst LatinSmallLetterG = 0x67;\nconst LatinSmallLetterI = 0x69;\nconst LatinSmallLetterK = 0x6b;\nconst LatinSmallLetterM = 0x6d;\nconst LatinSmallLetterN = 0x6e;\nconst LatinSmallLetterP = 0x70;\nconst LatinSmallLetterR = 0x72;\nconst LatinSmallLetterS = 0x73;\nconst LatinSmallLetterT = 0x74;\nconst LatinSmallLetterU = 0x75;\nconst LatinSmallLetterV = 0x76;\nconst LatinSmallLetterW = 0x77;\nconst LatinSmallLetterX = 0x78;\nconst LatinSmallLetterY = 0x79;\nconst LatinSmallLetterZ = 0x7a;\nconst LeftSquareBracket = 0x5b;\nconst ReverseSolidus = 0x5c;\nconst RightSquareBracket = 0x5d;\nconst CircumflexAccent = 0x5e;\nconst LeftCurlyBracket = 0x7b;\nconst VerticalLine = 0x7c;\nconst RightCurlyBracket = 0x7d;\nconst ZeroWidthNonJoiner = 0x200c;\nconst ZeroWidthJoiner = 0x200d;\nconst LineSeparator = 0x2028;\nconst ParagraphSeparator = 0x2029;\nconst MinCodePoint = 0x00;\nconst MaxCodePoint = 0x10ffff;\n\nfunction isLatinLetter(code) {\n  return code >= LatinCapitalLetterA && code <= LatinCapitalLetterZ || code >= LatinSmallLetterA && code <= LatinSmallLetterZ;\n}\n\nfunction isDecimalDigit(code) {\n  return code >= DigitZero && code <= DigitNine;\n}\n\nfunction isOctalDigit(code) {\n  return code >= DigitZero && code <= DigitSeven;\n}\n\nfunction isHexDigit(code) {\n  return code >= DigitZero && code <= DigitNine || code >= LatinCapitalLetterA && code <= LatinCapitalLetterF || code >= LatinSmallLetterA && code <= LatinSmallLetterF;\n}\n\nfunction isLineTerminator(code) {\n  return code === LineFeed || code === CarriageReturn || code === LineSeparator || code === ParagraphSeparator;\n}\n\nfunction isValidUnicode(code) {\n  return code >= MinCodePoint && code <= MaxCodePoint;\n}\n\nfunction digitToInt(code) {\n  if (code >= LatinSmallLetterA && code <= LatinSmallLetterF) {\n    return code - LatinSmallLetterA + 10;\n  }\n\n  if (code >= LatinCapitalLetterA && code <= LatinCapitalLetterF) {\n    return code - LatinCapitalLetterA + 10;\n  }\n\n  return code - DigitZero;\n}\n\nfunction isLeadSurrogate(code) {\n  return code >= 0xd800 && code <= 0xdbff;\n}\n\nfunction isTrailSurrogate(code) {\n  return code >= 0xdc00 && code <= 0xdfff;\n}\n\nfunction combineSurrogatePair(lead, trail) {\n  return (lead - 0xd800) * 0x400 + (trail - 0xdc00) + 0x10000;\n}\n\nconst legacyImpl = {\n  at(s, end, i) {\n    return i < end ? s.charCodeAt(i) : -1;\n  },\n\n  width(c) {\n    return 1;\n  }\n\n};\nconst unicodeImpl = {\n  at(s, end, i) {\n    return i < end ? s.codePointAt(i) : -1;\n  },\n\n  width(c) {\n    return c > 0xffff ? 2 : 1;\n  }\n\n};\n\nclass Reader {\n  constructor() {\n    this._impl = legacyImpl;\n    this._s = \"\";\n    this._i = 0;\n    this._end = 0;\n    this._cp1 = -1;\n    this._w1 = 1;\n    this._cp2 = -1;\n    this._w2 = 1;\n    this._cp3 = -1;\n    this._w3 = 1;\n    this._cp4 = -1;\n  }\n\n  get source() {\n    return this._s;\n  }\n\n  get index() {\n    return this._i;\n  }\n\n  get currentCodePoint() {\n    return this._cp1;\n  }\n\n  get nextCodePoint() {\n    return this._cp2;\n  }\n\n  get nextCodePoint2() {\n    return this._cp3;\n  }\n\n  get nextCodePoint3() {\n    return this._cp4;\n  }\n\n  reset(source, start, end, uFlag) {\n    this._impl = uFlag ? unicodeImpl : legacyImpl;\n    this._s = source;\n    this._end = end;\n    this.rewind(start);\n  }\n\n  rewind(index) {\n    const impl = this._impl;\n    this._i = index;\n    this._cp1 = impl.at(this._s, this._end, index);\n    this._w1 = impl.width(this._cp1);\n    this._cp2 = impl.at(this._s, this._end, index + this._w1);\n    this._w2 = impl.width(this._cp2);\n    this._cp3 = impl.at(this._s, this._end, index + this._w1 + this._w2);\n    this._w3 = impl.width(this._cp3);\n    this._cp4 = impl.at(this._s, this._end, index + this._w1 + this._w2 + this._w3);\n  }\n\n  advance() {\n    if (this._cp1 !== -1) {\n      const impl = this._impl;\n      this._i += this._w1;\n      this._cp1 = this._cp2;\n      this._w1 = this._w2;\n      this._cp2 = this._cp3;\n      this._w2 = impl.width(this._cp2);\n      this._cp3 = this._cp4;\n      this._w3 = impl.width(this._cp3);\n      this._cp4 = impl.at(this._s, this._end, this._i + this._w1 + this._w2 + this._w3);\n    }\n  }\n\n  eat(cp) {\n    if (this._cp1 === cp) {\n      this.advance();\n      return true;\n    }\n\n    return false;\n  }\n\n  eat2(cp1, cp2) {\n    if (this._cp1 === cp1 && this._cp2 === cp2) {\n      this.advance();\n      this.advance();\n      return true;\n    }\n\n    return false;\n  }\n\n  eat3(cp1, cp2, cp3) {\n    if (this._cp1 === cp1 && this._cp2 === cp2 && this._cp3 === cp3) {\n      this.advance();\n      this.advance();\n      this.advance();\n      return true;\n    }\n\n    return false;\n  }\n\n}\n\nclass RegExpSyntaxError extends SyntaxError {\n  constructor(source, uFlag, index, message) {\n    if (source) {\n      if (!source.startsWith(\"/\")) {\n        source = `/${source}/${uFlag ? \"u\" : \"\"}`;\n      }\n\n      source = `: ${source}`;\n    }\n\n    super(`Invalid regular expression${source}: ${message}`);\n    this.index = index;\n  }\n\n}\n\nfunction isSyntaxCharacter(cp) {\n  return cp === CircumflexAccent || cp === DollarSign || cp === ReverseSolidus || cp === FullStop || cp === Asterisk || cp === PlusSign || cp === QuestionMark || cp === LeftParenthesis || cp === RightParenthesis || cp === LeftSquareBracket || cp === RightSquareBracket || cp === LeftCurlyBracket || cp === RightCurlyBracket || cp === VerticalLine;\n}\n\nfunction isRegExpIdentifierStart(cp) {\n  return isIdStart(cp) || cp === DollarSign || cp === LowLine;\n}\n\nfunction isRegExpIdentifierPart(cp) {\n  return isIdContinue(cp) || cp === DollarSign || cp === LowLine || cp === ZeroWidthNonJoiner || cp === ZeroWidthJoiner;\n}\n\nfunction isUnicodePropertyNameCharacter(cp) {\n  return isLatinLetter(cp) || cp === LowLine;\n}\n\nfunction isUnicodePropertyValueCharacter(cp) {\n  return isUnicodePropertyNameCharacter(cp) || isDecimalDigit(cp);\n}\n\nclass RegExpValidator {\n  constructor(options) {\n    this._reader = new Reader();\n    this._uFlag = false;\n    this._nFlag = false;\n    this._lastIntValue = 0;\n    this._lastMinValue = 0;\n    this._lastMaxValue = 0;\n    this._lastStrValue = \"\";\n    this._lastKeyValue = \"\";\n    this._lastValValue = \"\";\n    this._lastAssertionIsQuantifiable = false;\n    this._numCapturingParens = 0;\n    this._groupNames = new Set();\n    this._backreferenceNames = new Set();\n    this._options = options || {};\n  }\n\n  validateLiteral(source) {\n    let start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    let end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : source.length;\n    this._uFlag = this._nFlag = false;\n    this.reset(source, start, end);\n    this.onLiteralEnter(start);\n\n    if (this.eat(Solidus) && this.eatRegExpBody() && this.eat(Solidus)) {\n      const flagStart = this.index;\n      const uFlag = source.includes(\"u\", flagStart);\n      this.validateFlags(source, flagStart, end);\n      this.validatePattern(source, start + 1, flagStart - 1, uFlag);\n    } else if (start >= end) {\n      this.raise(\"Empty\");\n    } else {\n      const c = String.fromCodePoint(this.currentCodePoint);\n      this.raise(`Unexpected character '${c}'`);\n    }\n\n    this.onLiteralLeave(start, end);\n  }\n\n  validateFlags(source) {\n    let start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    let end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : source.length;\n    const existingFlags = new Set();\n    let global = false;\n    let ignoreCase = false;\n    let multiline = false;\n    let sticky = false;\n    let unicode = false;\n    let dotAll = false;\n    let hasIndices = false;\n\n    for (let i = start; i < end; ++i) {\n      const flag = source.charCodeAt(i);\n\n      if (existingFlags.has(flag)) {\n        this.raise(`Duplicated flag '${source[i]}'`);\n      }\n\n      existingFlags.add(flag);\n\n      if (flag === LatinSmallLetterG) {\n        global = true;\n      } else if (flag === LatinSmallLetterI) {\n        ignoreCase = true;\n      } else if (flag === LatinSmallLetterM) {\n        multiline = true;\n      } else if (flag === LatinSmallLetterU && this.ecmaVersion >= 2015) {\n        unicode = true;\n      } else if (flag === LatinSmallLetterY && this.ecmaVersion >= 2015) {\n        sticky = true;\n      } else if (flag === LatinSmallLetterS && this.ecmaVersion >= 2018) {\n        dotAll = true;\n      } else if (flag === LatinSmallLetterD && this.ecmaVersion >= 2022) {\n        hasIndices = true;\n      } else {\n        this.raise(`Invalid flag '${source[i]}'`);\n      }\n    }\n\n    this.onFlags(start, end, global, ignoreCase, multiline, unicode, sticky, dotAll, hasIndices);\n  }\n\n  validatePattern(source) {\n    let start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    let end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : source.length;\n    let uFlag = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    this._uFlag = uFlag && this.ecmaVersion >= 2015;\n    this._nFlag = uFlag && this.ecmaVersion >= 2018;\n    this.reset(source, start, end);\n    this.consumePattern();\n\n    if (!this._nFlag && this.ecmaVersion >= 2018 && this._groupNames.size > 0) {\n      this._nFlag = true;\n      this.rewind(start);\n      this.consumePattern();\n    }\n  }\n\n  get strict() {\n    return Boolean(this._options.strict || this._uFlag);\n  }\n\n  get ecmaVersion() {\n    return this._options.ecmaVersion || 2022;\n  }\n\n  onLiteralEnter(start) {\n    if (this._options.onLiteralEnter) {\n      this._options.onLiteralEnter(start);\n    }\n  }\n\n  onLiteralLeave(start, end) {\n    if (this._options.onLiteralLeave) {\n      this._options.onLiteralLeave(start, end);\n    }\n  }\n\n  onFlags(start, end, global, ignoreCase, multiline, unicode, sticky, dotAll, hasIndices) {\n    if (this._options.onFlags) {\n      this._options.onFlags(start, end, global, ignoreCase, multiline, unicode, sticky, dotAll, hasIndices);\n    }\n  }\n\n  onPatternEnter(start) {\n    if (this._options.onPatternEnter) {\n      this._options.onPatternEnter(start);\n    }\n  }\n\n  onPatternLeave(start, end) {\n    if (this._options.onPatternLeave) {\n      this._options.onPatternLeave(start, end);\n    }\n  }\n\n  onDisjunctionEnter(start) {\n    if (this._options.onDisjunctionEnter) {\n      this._options.onDisjunctionEnter(start);\n    }\n  }\n\n  onDisjunctionLeave(start, end) {\n    if (this._options.onDisjunctionLeave) {\n      this._options.onDisjunctionLeave(start, end);\n    }\n  }\n\n  onAlternativeEnter(start, index) {\n    if (this._options.onAlternativeEnter) {\n      this._options.onAlternativeEnter(start, index);\n    }\n  }\n\n  onAlternativeLeave(start, end, index) {\n    if (this._options.onAlternativeLeave) {\n      this._options.onAlternativeLeave(start, end, index);\n    }\n  }\n\n  onGroupEnter(start) {\n    if (this._options.onGroupEnter) {\n      this._options.onGroupEnter(start);\n    }\n  }\n\n  onGroupLeave(start, end) {\n    if (this._options.onGroupLeave) {\n      this._options.onGroupLeave(start, end);\n    }\n  }\n\n  onCapturingGroupEnter(start, name) {\n    if (this._options.onCapturingGroupEnter) {\n      this._options.onCapturingGroupEnter(start, name);\n    }\n  }\n\n  onCapturingGroupLeave(start, end, name) {\n    if (this._options.onCapturingGroupLeave) {\n      this._options.onCapturingGroupLeave(start, end, name);\n    }\n  }\n\n  onQuantifier(start, end, min, max, greedy) {\n    if (this._options.onQuantifier) {\n      this._options.onQuantifier(start, end, min, max, greedy);\n    }\n  }\n\n  onLookaroundAssertionEnter(start, kind, negate) {\n    if (this._options.onLookaroundAssertionEnter) {\n      this._options.onLookaroundAssertionEnter(start, kind, negate);\n    }\n  }\n\n  onLookaroundAssertionLeave(start, end, kind, negate) {\n    if (this._options.onLookaroundAssertionLeave) {\n      this._options.onLookaroundAssertionLeave(start, end, kind, negate);\n    }\n  }\n\n  onEdgeAssertion(start, end, kind) {\n    if (this._options.onEdgeAssertion) {\n      this._options.onEdgeAssertion(start, end, kind);\n    }\n  }\n\n  onWordBoundaryAssertion(start, end, kind, negate) {\n    if (this._options.onWordBoundaryAssertion) {\n      this._options.onWordBoundaryAssertion(start, end, kind, negate);\n    }\n  }\n\n  onAnyCharacterSet(start, end, kind) {\n    if (this._options.onAnyCharacterSet) {\n      this._options.onAnyCharacterSet(start, end, kind);\n    }\n  }\n\n  onEscapeCharacterSet(start, end, kind, negate) {\n    if (this._options.onEscapeCharacterSet) {\n      this._options.onEscapeCharacterSet(start, end, kind, negate);\n    }\n  }\n\n  onUnicodePropertyCharacterSet(start, end, kind, key, value, negate) {\n    if (this._options.onUnicodePropertyCharacterSet) {\n      this._options.onUnicodePropertyCharacterSet(start, end, kind, key, value, negate);\n    }\n  }\n\n  onCharacter(start, end, value) {\n    if (this._options.onCharacter) {\n      this._options.onCharacter(start, end, value);\n    }\n  }\n\n  onBackreference(start, end, ref) {\n    if (this._options.onBackreference) {\n      this._options.onBackreference(start, end, ref);\n    }\n  }\n\n  onCharacterClassEnter(start, negate) {\n    if (this._options.onCharacterClassEnter) {\n      this._options.onCharacterClassEnter(start, negate);\n    }\n  }\n\n  onCharacterClassLeave(start, end, negate) {\n    if (this._options.onCharacterClassLeave) {\n      this._options.onCharacterClassLeave(start, end, negate);\n    }\n  }\n\n  onCharacterClassRange(start, end, min, max) {\n    if (this._options.onCharacterClassRange) {\n      this._options.onCharacterClassRange(start, end, min, max);\n    }\n  }\n\n  get source() {\n    return this._reader.source;\n  }\n\n  get index() {\n    return this._reader.index;\n  }\n\n  get currentCodePoint() {\n    return this._reader.currentCodePoint;\n  }\n\n  get nextCodePoint() {\n    return this._reader.nextCodePoint;\n  }\n\n  get nextCodePoint2() {\n    return this._reader.nextCodePoint2;\n  }\n\n  get nextCodePoint3() {\n    return this._reader.nextCodePoint3;\n  }\n\n  reset(source, start, end) {\n    this._reader.reset(source, start, end, this._uFlag);\n  }\n\n  rewind(index) {\n    this._reader.rewind(index);\n  }\n\n  advance() {\n    this._reader.advance();\n  }\n\n  eat(cp) {\n    return this._reader.eat(cp);\n  }\n\n  eat2(cp1, cp2) {\n    return this._reader.eat2(cp1, cp2);\n  }\n\n  eat3(cp1, cp2, cp3) {\n    return this._reader.eat3(cp1, cp2, cp3);\n  }\n\n  raise(message) {\n    throw new RegExpSyntaxError(this.source, this._uFlag, this.index, message);\n  }\n\n  eatRegExpBody() {\n    const start = this.index;\n    let inClass = false;\n    let escaped = false;\n\n    for (;;) {\n      const cp = this.currentCodePoint;\n\n      if (cp === -1 || isLineTerminator(cp)) {\n        const kind = inClass ? \"character class\" : \"regular expression\";\n        this.raise(`Unterminated ${kind}`);\n      }\n\n      if (escaped) {\n        escaped = false;\n      } else if (cp === ReverseSolidus) {\n        escaped = true;\n      } else if (cp === LeftSquareBracket) {\n        inClass = true;\n      } else if (cp === RightSquareBracket) {\n        inClass = false;\n      } else if (cp === Solidus && !inClass || cp === Asterisk && this.index === start) {\n        break;\n      }\n\n      this.advance();\n    }\n\n    return this.index !== start;\n  }\n\n  consumePattern() {\n    const start = this.index;\n    this._numCapturingParens = this.countCapturingParens();\n\n    this._groupNames.clear();\n\n    this._backreferenceNames.clear();\n\n    this.onPatternEnter(start);\n    this.consumeDisjunction();\n    const cp = this.currentCodePoint;\n\n    if (this.currentCodePoint !== -1) {\n      if (cp === RightParenthesis) {\n        this.raise(\"Unmatched ')'\");\n      }\n\n      if (cp === ReverseSolidus) {\n        this.raise(\"\\\\ at end of pattern\");\n      }\n\n      if (cp === RightSquareBracket || cp === RightCurlyBracket) {\n        this.raise(\"Lone quantifier brackets\");\n      }\n\n      const c = String.fromCodePoint(cp);\n      this.raise(`Unexpected character '${c}'`);\n    }\n\n    for (const name of this._backreferenceNames) {\n      if (!this._groupNames.has(name)) {\n        this.raise(\"Invalid named capture referenced\");\n      }\n    }\n\n    this.onPatternLeave(start, this.index);\n  }\n\n  countCapturingParens() {\n    const start = this.index;\n    let inClass = false;\n    let escaped = false;\n    let count = 0;\n    let cp = 0;\n\n    while ((cp = this.currentCodePoint) !== -1) {\n      if (escaped) {\n        escaped = false;\n      } else if (cp === ReverseSolidus) {\n        escaped = true;\n      } else if (cp === LeftSquareBracket) {\n        inClass = true;\n      } else if (cp === RightSquareBracket) {\n        inClass = false;\n      } else if (cp === LeftParenthesis && !inClass && (this.nextCodePoint !== QuestionMark || this.nextCodePoint2 === LessThanSign && this.nextCodePoint3 !== EqualsSign && this.nextCodePoint3 !== ExclamationMark)) {\n        count += 1;\n      }\n\n      this.advance();\n    }\n\n    this.rewind(start);\n    return count;\n  }\n\n  consumeDisjunction() {\n    const start = this.index;\n    let i = 0;\n    this.onDisjunctionEnter(start);\n\n    do {\n      this.consumeAlternative(i++);\n    } while (this.eat(VerticalLine));\n\n    if (this.consumeQuantifier(true)) {\n      this.raise(\"Nothing to repeat\");\n    }\n\n    if (this.eat(LeftCurlyBracket)) {\n      this.raise(\"Lone quantifier brackets\");\n    }\n\n    this.onDisjunctionLeave(start, this.index);\n  }\n\n  consumeAlternative(i) {\n    const start = this.index;\n    this.onAlternativeEnter(start, i);\n\n    while (this.currentCodePoint !== -1 && this.consumeTerm()) {}\n\n    this.onAlternativeLeave(start, this.index, i);\n  }\n\n  consumeTerm() {\n    if (this._uFlag || this.strict) {\n      return this.consumeAssertion() || this.consumeAtom() && this.consumeOptionalQuantifier();\n    }\n\n    return this.consumeAssertion() && (!this._lastAssertionIsQuantifiable || this.consumeOptionalQuantifier()) || this.consumeExtendedAtom() && this.consumeOptionalQuantifier();\n  }\n\n  consumeOptionalQuantifier() {\n    this.consumeQuantifier();\n    return true;\n  }\n\n  consumeAssertion() {\n    const start = this.index;\n    this._lastAssertionIsQuantifiable = false;\n\n    if (this.eat(CircumflexAccent)) {\n      this.onEdgeAssertion(start, this.index, \"start\");\n      return true;\n    }\n\n    if (this.eat(DollarSign)) {\n      this.onEdgeAssertion(start, this.index, \"end\");\n      return true;\n    }\n\n    if (this.eat2(ReverseSolidus, LatinCapitalLetterB)) {\n      this.onWordBoundaryAssertion(start, this.index, \"word\", true);\n      return true;\n    }\n\n    if (this.eat2(ReverseSolidus, LatinSmallLetterB)) {\n      this.onWordBoundaryAssertion(start, this.index, \"word\", false);\n      return true;\n    }\n\n    if (this.eat2(LeftParenthesis, QuestionMark)) {\n      const lookbehind = this.ecmaVersion >= 2018 && this.eat(LessThanSign);\n      let negate = false;\n\n      if (this.eat(EqualsSign) || (negate = this.eat(ExclamationMark))) {\n        const kind = lookbehind ? \"lookbehind\" : \"lookahead\";\n        this.onLookaroundAssertionEnter(start, kind, negate);\n        this.consumeDisjunction();\n\n        if (!this.eat(RightParenthesis)) {\n          this.raise(\"Unterminated group\");\n        }\n\n        this._lastAssertionIsQuantifiable = !lookbehind && !this.strict;\n        this.onLookaroundAssertionLeave(start, this.index, kind, negate);\n        return true;\n      }\n\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  consumeQuantifier() {\n    let noConsume = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    const start = this.index;\n    let min = 0;\n    let max = 0;\n    let greedy = false;\n\n    if (this.eat(Asterisk)) {\n      min = 0;\n      max = Number.POSITIVE_INFINITY;\n    } else if (this.eat(PlusSign)) {\n      min = 1;\n      max = Number.POSITIVE_INFINITY;\n    } else if (this.eat(QuestionMark)) {\n      min = 0;\n      max = 1;\n    } else if (this.eatBracedQuantifier(noConsume)) {\n      min = this._lastMinValue;\n      max = this._lastMaxValue;\n    } else {\n      return false;\n    }\n\n    greedy = !this.eat(QuestionMark);\n\n    if (!noConsume) {\n      this.onQuantifier(start, this.index, min, max, greedy);\n    }\n\n    return true;\n  }\n\n  eatBracedQuantifier(noError) {\n    const start = this.index;\n\n    if (this.eat(LeftCurlyBracket)) {\n      this._lastMinValue = 0;\n      this._lastMaxValue = Number.POSITIVE_INFINITY;\n\n      if (this.eatDecimalDigits()) {\n        this._lastMinValue = this._lastMaxValue = this._lastIntValue;\n\n        if (this.eat(Comma)) {\n          this._lastMaxValue = this.eatDecimalDigits() ? this._lastIntValue : Number.POSITIVE_INFINITY;\n        }\n\n        if (this.eat(RightCurlyBracket)) {\n          if (!noError && this._lastMaxValue < this._lastMinValue) {\n            this.raise(\"numbers out of order in {} quantifier\");\n          }\n\n          return true;\n        }\n      }\n\n      if (!noError && (this._uFlag || this.strict)) {\n        this.raise(\"Incomplete quantifier\");\n      }\n\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  consumeAtom() {\n    return this.consumePatternCharacter() || this.consumeDot() || this.consumeReverseSolidusAtomEscape() || this.consumeCharacterClass() || this.consumeUncapturingGroup() || this.consumeCapturingGroup();\n  }\n\n  consumeDot() {\n    if (this.eat(FullStop)) {\n      this.onAnyCharacterSet(this.index - 1, this.index, \"any\");\n      return true;\n    }\n\n    return false;\n  }\n\n  consumeReverseSolidusAtomEscape() {\n    const start = this.index;\n\n    if (this.eat(ReverseSolidus)) {\n      if (this.consumeAtomEscape()) {\n        return true;\n      }\n\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  consumeUncapturingGroup() {\n    const start = this.index;\n\n    if (this.eat3(LeftParenthesis, QuestionMark, Colon)) {\n      this.onGroupEnter(start);\n      this.consumeDisjunction();\n\n      if (!this.eat(RightParenthesis)) {\n        this.raise(\"Unterminated group\");\n      }\n\n      this.onGroupLeave(start, this.index);\n      return true;\n    }\n\n    return false;\n  }\n\n  consumeCapturingGroup() {\n    const start = this.index;\n\n    if (this.eat(LeftParenthesis)) {\n      let name = null;\n\n      if (this.ecmaVersion >= 2018) {\n        if (this.consumeGroupSpecifier()) {\n          name = this._lastStrValue;\n        }\n      } else if (this.currentCodePoint === QuestionMark) {\n        this.raise(\"Invalid group\");\n      }\n\n      this.onCapturingGroupEnter(start, name);\n      this.consumeDisjunction();\n\n      if (!this.eat(RightParenthesis)) {\n        this.raise(\"Unterminated group\");\n      }\n\n      this.onCapturingGroupLeave(start, this.index, name);\n      return true;\n    }\n\n    return false;\n  }\n\n  consumeExtendedAtom() {\n    return this.consumeDot() || this.consumeReverseSolidusAtomEscape() || this.consumeReverseSolidusFollowedByC() || this.consumeCharacterClass() || this.consumeUncapturingGroup() || this.consumeCapturingGroup() || this.consumeInvalidBracedQuantifier() || this.consumeExtendedPatternCharacter();\n  }\n\n  consumeReverseSolidusFollowedByC() {\n    const start = this.index;\n\n    if (this.currentCodePoint === ReverseSolidus && this.nextCodePoint === LatinSmallLetterC) {\n      this._lastIntValue = this.currentCodePoint;\n      this.advance();\n      this.onCharacter(start, this.index, ReverseSolidus);\n      return true;\n    }\n\n    return false;\n  }\n\n  consumeInvalidBracedQuantifier() {\n    if (this.eatBracedQuantifier(true)) {\n      this.raise(\"Nothing to repeat\");\n    }\n\n    return false;\n  }\n\n  consumePatternCharacter() {\n    const start = this.index;\n    const cp = this.currentCodePoint;\n\n    if (cp !== -1 && !isSyntaxCharacter(cp)) {\n      this.advance();\n      this.onCharacter(start, this.index, cp);\n      return true;\n    }\n\n    return false;\n  }\n\n  consumeExtendedPatternCharacter() {\n    const start = this.index;\n    const cp = this.currentCodePoint;\n\n    if (cp !== -1 && cp !== CircumflexAccent && cp !== DollarSign && cp !== ReverseSolidus && cp !== FullStop && cp !== Asterisk && cp !== PlusSign && cp !== QuestionMark && cp !== LeftParenthesis && cp !== RightParenthesis && cp !== LeftSquareBracket && cp !== VerticalLine) {\n      this.advance();\n      this.onCharacter(start, this.index, cp);\n      return true;\n    }\n\n    return false;\n  }\n\n  consumeGroupSpecifier() {\n    if (this.eat(QuestionMark)) {\n      if (this.eatGroupName()) {\n        if (!this._groupNames.has(this._lastStrValue)) {\n          this._groupNames.add(this._lastStrValue);\n\n          return true;\n        }\n\n        this.raise(\"Duplicate capture group name\");\n      }\n\n      this.raise(\"Invalid group\");\n    }\n\n    return false;\n  }\n\n  consumeAtomEscape() {\n    if (this.consumeBackreference() || this.consumeCharacterClassEscape() || this.consumeCharacterEscape() || this._nFlag && this.consumeKGroupName()) {\n      return true;\n    }\n\n    if (this.strict || this._uFlag) {\n      this.raise(\"Invalid escape\");\n    }\n\n    return false;\n  }\n\n  consumeBackreference() {\n    const start = this.index;\n\n    if (this.eatDecimalEscape()) {\n      const n = this._lastIntValue;\n\n      if (n <= this._numCapturingParens) {\n        this.onBackreference(start - 1, this.index, n);\n        return true;\n      }\n\n      if (this.strict || this._uFlag) {\n        this.raise(\"Invalid escape\");\n      }\n\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  consumeCharacterClassEscape() {\n    const start = this.index;\n\n    if (this.eat(LatinSmallLetterD)) {\n      this._lastIntValue = -1;\n      this.onEscapeCharacterSet(start - 1, this.index, \"digit\", false);\n      return true;\n    }\n\n    if (this.eat(LatinCapitalLetterD)) {\n      this._lastIntValue = -1;\n      this.onEscapeCharacterSet(start - 1, this.index, \"digit\", true);\n      return true;\n    }\n\n    if (this.eat(LatinSmallLetterS)) {\n      this._lastIntValue = -1;\n      this.onEscapeCharacterSet(start - 1, this.index, \"space\", false);\n      return true;\n    }\n\n    if (this.eat(LatinCapitalLetterS)) {\n      this._lastIntValue = -1;\n      this.onEscapeCharacterSet(start - 1, this.index, \"space\", true);\n      return true;\n    }\n\n    if (this.eat(LatinSmallLetterW)) {\n      this._lastIntValue = -1;\n      this.onEscapeCharacterSet(start - 1, this.index, \"word\", false);\n      return true;\n    }\n\n    if (this.eat(LatinCapitalLetterW)) {\n      this._lastIntValue = -1;\n      this.onEscapeCharacterSet(start - 1, this.index, \"word\", true);\n      return true;\n    }\n\n    let negate = false;\n\n    if (this._uFlag && this.ecmaVersion >= 2018 && (this.eat(LatinSmallLetterP) || (negate = this.eat(LatinCapitalLetterP)))) {\n      this._lastIntValue = -1;\n\n      if (this.eat(LeftCurlyBracket) && this.eatUnicodePropertyValueExpression() && this.eat(RightCurlyBracket)) {\n        this.onUnicodePropertyCharacterSet(start - 1, this.index, \"property\", this._lastKeyValue, this._lastValValue || null, negate);\n        return true;\n      }\n\n      this.raise(\"Invalid property name\");\n    }\n\n    return false;\n  }\n\n  consumeCharacterEscape() {\n    const start = this.index;\n\n    if (this.eatControlEscape() || this.eatCControlLetter() || this.eatZero() || this.eatHexEscapeSequence() || this.eatRegExpUnicodeEscapeSequence() || !this.strict && !this._uFlag && this.eatLegacyOctalEscapeSequence() || this.eatIdentityEscape()) {\n      this.onCharacter(start - 1, this.index, this._lastIntValue);\n      return true;\n    }\n\n    return false;\n  }\n\n  consumeKGroupName() {\n    const start = this.index;\n\n    if (this.eat(LatinSmallLetterK)) {\n      if (this.eatGroupName()) {\n        const groupName = this._lastStrValue;\n\n        this._backreferenceNames.add(groupName);\n\n        this.onBackreference(start - 1, this.index, groupName);\n        return true;\n      }\n\n      this.raise(\"Invalid named reference\");\n    }\n\n    return false;\n  }\n\n  consumeCharacterClass() {\n    const start = this.index;\n\n    if (this.eat(LeftSquareBracket)) {\n      const negate = this.eat(CircumflexAccent);\n      this.onCharacterClassEnter(start, negate);\n      this.consumeClassRanges();\n\n      if (!this.eat(RightSquareBracket)) {\n        this.raise(\"Unterminated character class\");\n      }\n\n      this.onCharacterClassLeave(start, this.index, negate);\n      return true;\n    }\n\n    return false;\n  }\n\n  consumeClassRanges() {\n    const strict = this.strict || this._uFlag;\n\n    for (;;) {\n      const rangeStart = this.index;\n\n      if (!this.consumeClassAtom()) {\n        break;\n      }\n\n      const min = this._lastIntValue;\n\n      if (!this.eat(HyphenMinus)) {\n        continue;\n      }\n\n      this.onCharacter(this.index - 1, this.index, HyphenMinus);\n\n      if (!this.consumeClassAtom()) {\n        break;\n      }\n\n      const max = this._lastIntValue;\n\n      if (min === -1 || max === -1) {\n        if (strict) {\n          this.raise(\"Invalid character class\");\n        }\n\n        continue;\n      }\n\n      if (min > max) {\n        this.raise(\"Range out of order in character class\");\n      }\n\n      this.onCharacterClassRange(rangeStart, this.index, min, max);\n    }\n  }\n\n  consumeClassAtom() {\n    const start = this.index;\n    const cp = this.currentCodePoint;\n\n    if (cp !== -1 && cp !== ReverseSolidus && cp !== RightSquareBracket) {\n      this.advance();\n      this._lastIntValue = cp;\n      this.onCharacter(start, this.index, this._lastIntValue);\n      return true;\n    }\n\n    if (this.eat(ReverseSolidus)) {\n      if (this.consumeClassEscape()) {\n        return true;\n      }\n\n      if (!this.strict && this.currentCodePoint === LatinSmallLetterC) {\n        this._lastIntValue = ReverseSolidus;\n        this.onCharacter(start, this.index, this._lastIntValue);\n        return true;\n      }\n\n      if (this.strict || this._uFlag) {\n        this.raise(\"Invalid escape\");\n      }\n\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  consumeClassEscape() {\n    const start = this.index;\n\n    if (this.eat(LatinSmallLetterB)) {\n      this._lastIntValue = Backspace;\n      this.onCharacter(start - 1, this.index, this._lastIntValue);\n      return true;\n    }\n\n    if (this._uFlag && this.eat(HyphenMinus)) {\n      this._lastIntValue = HyphenMinus;\n      this.onCharacter(start - 1, this.index, this._lastIntValue);\n      return true;\n    }\n\n    let cp = 0;\n\n    if (!this.strict && !this._uFlag && this.currentCodePoint === LatinSmallLetterC && (isDecimalDigit(cp = this.nextCodePoint) || cp === LowLine)) {\n      this.advance();\n      this.advance();\n      this._lastIntValue = cp % 0x20;\n      this.onCharacter(start - 1, this.index, this._lastIntValue);\n      return true;\n    }\n\n    return this.consumeCharacterClassEscape() || this.consumeCharacterEscape();\n  }\n\n  eatGroupName() {\n    if (this.eat(LessThanSign)) {\n      if (this.eatRegExpIdentifierName() && this.eat(GreaterThanSign)) {\n        return true;\n      }\n\n      this.raise(\"Invalid capture group name\");\n    }\n\n    return false;\n  }\n\n  eatRegExpIdentifierName() {\n    if (this.eatRegExpIdentifierStart()) {\n      this._lastStrValue = String.fromCodePoint(this._lastIntValue);\n\n      while (this.eatRegExpIdentifierPart()) {\n        this._lastStrValue += String.fromCodePoint(this._lastIntValue);\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n\n  eatRegExpIdentifierStart() {\n    const start = this.index;\n    const forceUFlag = !this._uFlag && this.ecmaVersion >= 2020;\n    let cp = this.currentCodePoint;\n    this.advance();\n\n    if (cp === ReverseSolidus && this.eatRegExpUnicodeEscapeSequence(forceUFlag)) {\n      cp = this._lastIntValue;\n    } else if (forceUFlag && isLeadSurrogate(cp) && isTrailSurrogate(this.currentCodePoint)) {\n      cp = combineSurrogatePair(cp, this.currentCodePoint);\n      this.advance();\n    }\n\n    if (isRegExpIdentifierStart(cp)) {\n      this._lastIntValue = cp;\n      return true;\n    }\n\n    if (this.index !== start) {\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  eatRegExpIdentifierPart() {\n    const start = this.index;\n    const forceUFlag = !this._uFlag && this.ecmaVersion >= 2020;\n    let cp = this.currentCodePoint;\n    this.advance();\n\n    if (cp === ReverseSolidus && this.eatRegExpUnicodeEscapeSequence(forceUFlag)) {\n      cp = this._lastIntValue;\n    } else if (forceUFlag && isLeadSurrogate(cp) && isTrailSurrogate(this.currentCodePoint)) {\n      cp = combineSurrogatePair(cp, this.currentCodePoint);\n      this.advance();\n    }\n\n    if (isRegExpIdentifierPart(cp)) {\n      this._lastIntValue = cp;\n      return true;\n    }\n\n    if (this.index !== start) {\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  eatCControlLetter() {\n    const start = this.index;\n\n    if (this.eat(LatinSmallLetterC)) {\n      if (this.eatControlLetter()) {\n        return true;\n      }\n\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  eatZero() {\n    if (this.currentCodePoint === DigitZero && !isDecimalDigit(this.nextCodePoint)) {\n      this._lastIntValue = 0;\n      this.advance();\n      return true;\n    }\n\n    return false;\n  }\n\n  eatControlEscape() {\n    if (this.eat(LatinSmallLetterF)) {\n      this._lastIntValue = FormFeed;\n      return true;\n    }\n\n    if (this.eat(LatinSmallLetterN)) {\n      this._lastIntValue = LineFeed;\n      return true;\n    }\n\n    if (this.eat(LatinSmallLetterR)) {\n      this._lastIntValue = CarriageReturn;\n      return true;\n    }\n\n    if (this.eat(LatinSmallLetterT)) {\n      this._lastIntValue = CharacterTabulation;\n      return true;\n    }\n\n    if (this.eat(LatinSmallLetterV)) {\n      this._lastIntValue = LineTabulation;\n      return true;\n    }\n\n    return false;\n  }\n\n  eatControlLetter() {\n    const cp = this.currentCodePoint;\n\n    if (isLatinLetter(cp)) {\n      this.advance();\n      this._lastIntValue = cp % 0x20;\n      return true;\n    }\n\n    return false;\n  }\n\n  eatRegExpUnicodeEscapeSequence() {\n    let forceUFlag = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    const start = this.index;\n    const uFlag = forceUFlag || this._uFlag;\n\n    if (this.eat(LatinSmallLetterU)) {\n      if (uFlag && this.eatRegExpUnicodeSurrogatePairEscape() || this.eatFixedHexDigits(4) || uFlag && this.eatRegExpUnicodeCodePointEscape()) {\n        return true;\n      }\n\n      if (this.strict || uFlag) {\n        this.raise(\"Invalid unicode escape\");\n      }\n\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  eatRegExpUnicodeSurrogatePairEscape() {\n    const start = this.index;\n\n    if (this.eatFixedHexDigits(4)) {\n      const lead = this._lastIntValue;\n\n      if (isLeadSurrogate(lead) && this.eat(ReverseSolidus) && this.eat(LatinSmallLetterU) && this.eatFixedHexDigits(4)) {\n        const trail = this._lastIntValue;\n\n        if (isTrailSurrogate(trail)) {\n          this._lastIntValue = combineSurrogatePair(lead, trail);\n          return true;\n        }\n      }\n\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  eatRegExpUnicodeCodePointEscape() {\n    const start = this.index;\n\n    if (this.eat(LeftCurlyBracket) && this.eatHexDigits() && this.eat(RightCurlyBracket) && isValidUnicode(this._lastIntValue)) {\n      return true;\n    }\n\n    this.rewind(start);\n    return false;\n  }\n\n  eatIdentityEscape() {\n    const cp = this.currentCodePoint;\n\n    if (this.isValidIdentityEscape(cp)) {\n      this._lastIntValue = cp;\n      this.advance();\n      return true;\n    }\n\n    return false;\n  }\n\n  isValidIdentityEscape(cp) {\n    if (cp === -1) {\n      return false;\n    }\n\n    if (this._uFlag) {\n      return isSyntaxCharacter(cp) || cp === Solidus;\n    }\n\n    if (this.strict) {\n      return !isIdContinue(cp);\n    }\n\n    if (this._nFlag) {\n      return !(cp === LatinSmallLetterC || cp === LatinSmallLetterK);\n    }\n\n    return cp !== LatinSmallLetterC;\n  }\n\n  eatDecimalEscape() {\n    this._lastIntValue = 0;\n    let cp = this.currentCodePoint;\n\n    if (cp >= DigitOne && cp <= DigitNine) {\n      do {\n        this._lastIntValue = 10 * this._lastIntValue + (cp - DigitZero);\n        this.advance();\n      } while ((cp = this.currentCodePoint) >= DigitZero && cp <= DigitNine);\n\n      return true;\n    }\n\n    return false;\n  }\n\n  eatUnicodePropertyValueExpression() {\n    const start = this.index;\n\n    if (this.eatUnicodePropertyName() && this.eat(EqualsSign)) {\n      this._lastKeyValue = this._lastStrValue;\n\n      if (this.eatUnicodePropertyValue()) {\n        this._lastValValue = this._lastStrValue;\n\n        if (isValidUnicodeProperty(this.ecmaVersion, this._lastKeyValue, this._lastValValue)) {\n          return true;\n        }\n\n        this.raise(\"Invalid property name\");\n      }\n    }\n\n    this.rewind(start);\n\n    if (this.eatLoneUnicodePropertyNameOrValue()) {\n      const nameOrValue = this._lastStrValue;\n\n      if (isValidUnicodeProperty(this.ecmaVersion, \"General_Category\", nameOrValue)) {\n        this._lastKeyValue = \"General_Category\";\n        this._lastValValue = nameOrValue;\n        return true;\n      }\n\n      if (isValidLoneUnicodeProperty(this.ecmaVersion, nameOrValue)) {\n        this._lastKeyValue = nameOrValue;\n        this._lastValValue = \"\";\n        return true;\n      }\n\n      this.raise(\"Invalid property name\");\n    }\n\n    return false;\n  }\n\n  eatUnicodePropertyName() {\n    this._lastStrValue = \"\";\n\n    while (isUnicodePropertyNameCharacter(this.currentCodePoint)) {\n      this._lastStrValue += String.fromCodePoint(this.currentCodePoint);\n      this.advance();\n    }\n\n    return this._lastStrValue !== \"\";\n  }\n\n  eatUnicodePropertyValue() {\n    this._lastStrValue = \"\";\n\n    while (isUnicodePropertyValueCharacter(this.currentCodePoint)) {\n      this._lastStrValue += String.fromCodePoint(this.currentCodePoint);\n      this.advance();\n    }\n\n    return this._lastStrValue !== \"\";\n  }\n\n  eatLoneUnicodePropertyNameOrValue() {\n    return this.eatUnicodePropertyValue();\n  }\n\n  eatHexEscapeSequence() {\n    const start = this.index;\n\n    if (this.eat(LatinSmallLetterX)) {\n      if (this.eatFixedHexDigits(2)) {\n        return true;\n      }\n\n      if (this._uFlag || this.strict) {\n        this.raise(\"Invalid escape\");\n      }\n\n      this.rewind(start);\n    }\n\n    return false;\n  }\n\n  eatDecimalDigits() {\n    const start = this.index;\n    this._lastIntValue = 0;\n\n    while (isDecimalDigit(this.currentCodePoint)) {\n      this._lastIntValue = 10 * this._lastIntValue + digitToInt(this.currentCodePoint);\n      this.advance();\n    }\n\n    return this.index !== start;\n  }\n\n  eatHexDigits() {\n    const start = this.index;\n    this._lastIntValue = 0;\n\n    while (isHexDigit(this.currentCodePoint)) {\n      this._lastIntValue = 16 * this._lastIntValue + digitToInt(this.currentCodePoint);\n      this.advance();\n    }\n\n    return this.index !== start;\n  }\n\n  eatLegacyOctalEscapeSequence() {\n    if (this.eatOctalDigit()) {\n      const n1 = this._lastIntValue;\n\n      if (this.eatOctalDigit()) {\n        const n2 = this._lastIntValue;\n\n        if (n1 <= 3 && this.eatOctalDigit()) {\n          this._lastIntValue = n1 * 64 + n2 * 8 + this._lastIntValue;\n        } else {\n          this._lastIntValue = n1 * 8 + n2;\n        }\n      } else {\n        this._lastIntValue = n1;\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n\n  eatOctalDigit() {\n    const cp = this.currentCodePoint;\n\n    if (isOctalDigit(cp)) {\n      this.advance();\n      this._lastIntValue = cp - DigitZero;\n      return true;\n    }\n\n    this._lastIntValue = 0;\n    return false;\n  }\n\n  eatFixedHexDigits(length) {\n    const start = this.index;\n    this._lastIntValue = 0;\n\n    for (let i = 0; i < length; ++i) {\n      const cp = this.currentCodePoint;\n\n      if (!isHexDigit(cp)) {\n        this.rewind(start);\n        return false;\n      }\n\n      this._lastIntValue = 16 * this._lastIntValue + digitToInt(cp);\n      this.advance();\n    }\n\n    return true;\n  }\n\n}\n\nexports.RegExpValidator = RegExpValidator;\nconst DummyPattern = {};\nconst DummyFlags = {};\nconst DummyCapturingGroup = {};\n\nclass RegExpParserState {\n  constructor(options) {\n    this._node = DummyPattern;\n    this._flags = DummyFlags;\n    this._backreferences = [];\n    this._capturingGroups = [];\n    this.source = \"\";\n    this.strict = Boolean(options && options.strict);\n    this.ecmaVersion = options && options.ecmaVersion || 2022;\n  }\n\n  get pattern() {\n    if (this._node.type !== \"Pattern\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    return this._node;\n  }\n\n  get flags() {\n    if (this._flags.type !== \"Flags\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    return this._flags;\n  }\n\n  onFlags(start, end, global, ignoreCase, multiline, unicode, sticky, dotAll, hasIndices) {\n    this._flags = {\n      type: \"Flags\",\n      parent: null,\n      start,\n      end,\n      raw: this.source.slice(start, end),\n      global,\n      ignoreCase,\n      multiline,\n      unicode,\n      sticky,\n      dotAll,\n      hasIndices\n    };\n  }\n\n  onPatternEnter(start) {\n    this._node = {\n      type: \"Pattern\",\n      parent: null,\n      start,\n      end: start,\n      raw: \"\",\n      alternatives: []\n    };\n    this._backreferences.length = 0;\n    this._capturingGroups.length = 0;\n  }\n\n  onPatternLeave(start, end) {\n    this._node.end = end;\n    this._node.raw = this.source.slice(start, end);\n\n    for (const reference of this._backreferences) {\n      const ref = reference.ref;\n      const group = typeof ref === \"number\" ? this._capturingGroups[ref - 1] : this._capturingGroups.find(g => g.name === ref);\n      reference.resolved = group;\n      group.references.push(reference);\n    }\n  }\n\n  onAlternativeEnter(start) {\n    const parent = this._node;\n\n    if (parent.type !== \"Assertion\" && parent.type !== \"CapturingGroup\" && parent.type !== \"Group\" && parent.type !== \"Pattern\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    this._node = {\n      type: \"Alternative\",\n      parent,\n      start,\n      end: start,\n      raw: \"\",\n      elements: []\n    };\n    parent.alternatives.push(this._node);\n  }\n\n  onAlternativeLeave(start, end) {\n    const node = this._node;\n\n    if (node.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    node.end = end;\n    node.raw = this.source.slice(start, end);\n    this._node = node.parent;\n  }\n\n  onGroupEnter(start) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    this._node = {\n      type: \"Group\",\n      parent,\n      start,\n      end: start,\n      raw: \"\",\n      alternatives: []\n    };\n    parent.elements.push(this._node);\n  }\n\n  onGroupLeave(start, end) {\n    const node = this._node;\n\n    if (node.type !== \"Group\" || node.parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    node.end = end;\n    node.raw = this.source.slice(start, end);\n    this._node = node.parent;\n  }\n\n  onCapturingGroupEnter(start, name) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    this._node = {\n      type: \"CapturingGroup\",\n      parent,\n      start,\n      end: start,\n      raw: \"\",\n      name,\n      alternatives: [],\n      references: []\n    };\n    parent.elements.push(this._node);\n\n    this._capturingGroups.push(this._node);\n  }\n\n  onCapturingGroupLeave(start, end) {\n    const node = this._node;\n\n    if (node.type !== \"CapturingGroup\" || node.parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    node.end = end;\n    node.raw = this.source.slice(start, end);\n    this._node = node.parent;\n  }\n\n  onQuantifier(start, end, min, max, greedy) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    const element = parent.elements.pop();\n\n    if (element == null || element.type === \"Quantifier\" || element.type === \"Assertion\" && element.kind !== \"lookahead\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    const node = {\n      type: \"Quantifier\",\n      parent,\n      start: element.start,\n      end,\n      raw: this.source.slice(element.start, end),\n      min,\n      max,\n      greedy,\n      element\n    };\n    parent.elements.push(node);\n    element.parent = node;\n  }\n\n  onLookaroundAssertionEnter(start, kind, negate) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    const node = this._node = {\n      type: \"Assertion\",\n      parent,\n      start,\n      end: start,\n      raw: \"\",\n      kind,\n      negate,\n      alternatives: []\n    };\n    parent.elements.push(node);\n  }\n\n  onLookaroundAssertionLeave(start, end) {\n    const node = this._node;\n\n    if (node.type !== \"Assertion\" || node.parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    node.end = end;\n    node.raw = this.source.slice(start, end);\n    this._node = node.parent;\n  }\n\n  onEdgeAssertion(start, end, kind) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    parent.elements.push({\n      type: \"Assertion\",\n      parent,\n      start,\n      end,\n      raw: this.source.slice(start, end),\n      kind\n    });\n  }\n\n  onWordBoundaryAssertion(start, end, kind, negate) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    parent.elements.push({\n      type: \"Assertion\",\n      parent,\n      start,\n      end,\n      raw: this.source.slice(start, end),\n      kind,\n      negate\n    });\n  }\n\n  onAnyCharacterSet(start, end, kind) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    parent.elements.push({\n      type: \"CharacterSet\",\n      parent,\n      start,\n      end,\n      raw: this.source.slice(start, end),\n      kind\n    });\n  }\n\n  onEscapeCharacterSet(start, end, kind, negate) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\" && parent.type !== \"CharacterClass\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    parent.elements.push({\n      type: \"CharacterSet\",\n      parent,\n      start,\n      end,\n      raw: this.source.slice(start, end),\n      kind,\n      negate\n    });\n  }\n\n  onUnicodePropertyCharacterSet(start, end, kind, key, value, negate) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\" && parent.type !== \"CharacterClass\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    parent.elements.push({\n      type: \"CharacterSet\",\n      parent,\n      start,\n      end,\n      raw: this.source.slice(start, end),\n      kind,\n      key,\n      value,\n      negate\n    });\n  }\n\n  onCharacter(start, end, value) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\" && parent.type !== \"CharacterClass\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    parent.elements.push({\n      type: \"Character\",\n      parent,\n      start,\n      end,\n      raw: this.source.slice(start, end),\n      value\n    });\n  }\n\n  onBackreference(start, end, ref) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    const node = {\n      type: \"Backreference\",\n      parent,\n      start,\n      end,\n      raw: this.source.slice(start, end),\n      ref,\n      resolved: DummyCapturingGroup\n    };\n    parent.elements.push(node);\n\n    this._backreferences.push(node);\n  }\n\n  onCharacterClassEnter(start, negate) {\n    const parent = this._node;\n\n    if (parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    this._node = {\n      type: \"CharacterClass\",\n      parent,\n      start,\n      end: start,\n      raw: \"\",\n      negate,\n      elements: []\n    };\n    parent.elements.push(this._node);\n  }\n\n  onCharacterClassLeave(start, end) {\n    const node = this._node;\n\n    if (node.type !== \"CharacterClass\" || node.parent.type !== \"Alternative\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    node.end = end;\n    node.raw = this.source.slice(start, end);\n    this._node = node.parent;\n  }\n\n  onCharacterClassRange(start, end) {\n    const parent = this._node;\n\n    if (parent.type !== \"CharacterClass\") {\n      throw new Error(\"UnknownError\");\n    }\n\n    const elements = parent.elements;\n    const max = elements.pop();\n    const hyphen = elements.pop();\n    const min = elements.pop();\n\n    if (!min || !max || !hyphen || min.type !== \"Character\" || max.type !== \"Character\" || hyphen.type !== \"Character\" || hyphen.value !== HyphenMinus) {\n      throw new Error(\"UnknownError\");\n    }\n\n    const node = {\n      type: \"CharacterClassRange\",\n      parent,\n      start,\n      end,\n      raw: this.source.slice(start, end),\n      min,\n      max\n    };\n    min.parent = node;\n    max.parent = node;\n    elements.push(node);\n  }\n\n}\n\nclass RegExpParser {\n  constructor(options) {\n    this._state = new RegExpParserState(options);\n    this._validator = new RegExpValidator(this._state);\n  }\n\n  parseLiteral(source) {\n    let start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    let end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : source.length;\n    this._state.source = source;\n\n    this._validator.validateLiteral(source, start, end);\n\n    const pattern = this._state.pattern;\n    const flags = this._state.flags;\n    const literal = {\n      type: \"RegExpLiteral\",\n      parent: null,\n      start,\n      end,\n      raw: source,\n      pattern,\n      flags\n    };\n    pattern.parent = literal;\n    flags.parent = literal;\n    return literal;\n  }\n\n  parseFlags(source) {\n    let start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    let end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : source.length;\n    this._state.source = source;\n\n    this._validator.validateFlags(source, start, end);\n\n    return this._state.flags;\n  }\n\n  parsePattern(source) {\n    let start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    let end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : source.length;\n    let uFlag = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    this._state.source = source;\n\n    this._validator.validatePattern(source, start, end, uFlag);\n\n    return this._state.pattern;\n  }\n\n}\n\nexports.RegExpParser = RegExpParser;\n\nclass RegExpVisitor {\n  constructor(handlers) {\n    this._handlers = handlers;\n  }\n\n  visit(node) {\n    switch (node.type) {\n      case \"Alternative\":\n        this.visitAlternative(node);\n        break;\n\n      case \"Assertion\":\n        this.visitAssertion(node);\n        break;\n\n      case \"Backreference\":\n        this.visitBackreference(node);\n        break;\n\n      case \"CapturingGroup\":\n        this.visitCapturingGroup(node);\n        break;\n\n      case \"Character\":\n        this.visitCharacter(node);\n        break;\n\n      case \"CharacterClass\":\n        this.visitCharacterClass(node);\n        break;\n\n      case \"CharacterClassRange\":\n        this.visitCharacterClassRange(node);\n        break;\n\n      case \"CharacterSet\":\n        this.visitCharacterSet(node);\n        break;\n\n      case \"Flags\":\n        this.visitFlags(node);\n        break;\n\n      case \"Group\":\n        this.visitGroup(node);\n        break;\n\n      case \"Pattern\":\n        this.visitPattern(node);\n        break;\n\n      case \"Quantifier\":\n        this.visitQuantifier(node);\n        break;\n\n      case \"RegExpLiteral\":\n        this.visitRegExpLiteral(node);\n        break;\n\n      default:\n        throw new Error(`Unknown type: ${node.type}`);\n    }\n  }\n\n  visitAlternative(node) {\n    if (this._handlers.onAlternativeEnter) {\n      this._handlers.onAlternativeEnter(node);\n    }\n\n    node.elements.forEach(this.visit, this);\n\n    if (this._handlers.onAlternativeLeave) {\n      this._handlers.onAlternativeLeave(node);\n    }\n  }\n\n  visitAssertion(node) {\n    if (this._handlers.onAssertionEnter) {\n      this._handlers.onAssertionEnter(node);\n    }\n\n    if (node.kind === \"lookahead\" || node.kind === \"lookbehind\") {\n      node.alternatives.forEach(this.visit, this);\n    }\n\n    if (this._handlers.onAssertionLeave) {\n      this._handlers.onAssertionLeave(node);\n    }\n  }\n\n  visitBackreference(node) {\n    if (this._handlers.onBackreferenceEnter) {\n      this._handlers.onBackreferenceEnter(node);\n    }\n\n    if (this._handlers.onBackreferenceLeave) {\n      this._handlers.onBackreferenceLeave(node);\n    }\n  }\n\n  visitCapturingGroup(node) {\n    if (this._handlers.onCapturingGroupEnter) {\n      this._handlers.onCapturingGroupEnter(node);\n    }\n\n    node.alternatives.forEach(this.visit, this);\n\n    if (this._handlers.onCapturingGroupLeave) {\n      this._handlers.onCapturingGroupLeave(node);\n    }\n  }\n\n  visitCharacter(node) {\n    if (this._handlers.onCharacterEnter) {\n      this._handlers.onCharacterEnter(node);\n    }\n\n    if (this._handlers.onCharacterLeave) {\n      this._handlers.onCharacterLeave(node);\n    }\n  }\n\n  visitCharacterClass(node) {\n    if (this._handlers.onCharacterClassEnter) {\n      this._handlers.onCharacterClassEnter(node);\n    }\n\n    node.elements.forEach(this.visit, this);\n\n    if (this._handlers.onCharacterClassLeave) {\n      this._handlers.onCharacterClassLeave(node);\n    }\n  }\n\n  visitCharacterClassRange(node) {\n    if (this._handlers.onCharacterClassRangeEnter) {\n      this._handlers.onCharacterClassRangeEnter(node);\n    }\n\n    this.visitCharacter(node.min);\n    this.visitCharacter(node.max);\n\n    if (this._handlers.onCharacterClassRangeLeave) {\n      this._handlers.onCharacterClassRangeLeave(node);\n    }\n  }\n\n  visitCharacterSet(node) {\n    if (this._handlers.onCharacterSetEnter) {\n      this._handlers.onCharacterSetEnter(node);\n    }\n\n    if (this._handlers.onCharacterSetLeave) {\n      this._handlers.onCharacterSetLeave(node);\n    }\n  }\n\n  visitFlags(node) {\n    if (this._handlers.onFlagsEnter) {\n      this._handlers.onFlagsEnter(node);\n    }\n\n    if (this._handlers.onFlagsLeave) {\n      this._handlers.onFlagsLeave(node);\n    }\n  }\n\n  visitGroup(node) {\n    if (this._handlers.onGroupEnter) {\n      this._handlers.onGroupEnter(node);\n    }\n\n    node.alternatives.forEach(this.visit, this);\n\n    if (this._handlers.onGroupLeave) {\n      this._handlers.onGroupLeave(node);\n    }\n  }\n\n  visitPattern(node) {\n    if (this._handlers.onPatternEnter) {\n      this._handlers.onPatternEnter(node);\n    }\n\n    node.alternatives.forEach(this.visit, this);\n\n    if (this._handlers.onPatternLeave) {\n      this._handlers.onPatternLeave(node);\n    }\n  }\n\n  visitQuantifier(node) {\n    if (this._handlers.onQuantifierEnter) {\n      this._handlers.onQuantifierEnter(node);\n    }\n\n    this.visit(node.element);\n\n    if (this._handlers.onQuantifierLeave) {\n      this._handlers.onQuantifierLeave(node);\n    }\n  }\n\n  visitRegExpLiteral(node) {\n    if (this._handlers.onRegExpLiteralEnter) {\n      this._handlers.onRegExpLiteralEnter(node);\n    }\n\n    this.visitPattern(node.pattern);\n    this.visitFlags(node.flags);\n\n    if (this._handlers.onRegExpLiteralLeave) {\n      this._handlers.onRegExpLiteralLeave(node);\n    }\n  }\n\n}\n\nfunction parseRegExpLiteral(source, options) {\n  return new RegExpParser(options).parseLiteral(String(source));\n}\n\nfunction validateRegExpLiteral(source, options) {\n  return new RegExpValidator(options).validateLiteral(source);\n}\n\nfunction visitRegExpAST(node, handlers) {\n  new RegExpVisitor(handlers).visit(node);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVnZXhwcC9pbmRleC5tanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLnRlbXAvdW5pY29kZS9zcmMvdW5pY29kZS9pZHMudHM/M2YyMyIsIndlYnBhY2s6Ly8vLnRlbXAvdW5pY29kZS9zcmMvdW5pY29kZS9wcm9wZXJ0aWVzLnRzPzc1YjIiLCJ3ZWJwYWNrOi8vLy50ZW1wL3VuaWNvZGUvc3JjL3VuaWNvZGUvaW5kZXgudHM/YmY0MiIsIndlYnBhY2s6Ly8vLnRlbXAvc3JjL3JlYWRlci50cz9iNjkyIiwid2VicGFjazovLy8udGVtcC9zcmMvcmVnZXhwLXN5bnRheC1lcnJvci50cz8yZDllIiwid2VicGFjazovLy8udGVtcC9zcmMvdmFsaWRhdG9yLnRzPzlmNTciLCJ3ZWJwYWNrOi8vLy50ZW1wL3NyYy9wYXJzZXIudHM/MjAxMSIsIndlYnBhY2s6Ly8vLnRlbXAvc3JjL3Zpc2l0b3IudHM/NWU5MiIsIndlYnBhY2s6Ly8vLnRlbXAvc3JjL2luZGV4LnRzPzAwZjMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhdXRob3IgVG9ydSBOYWdhc2hpbWEgPGh0dHBzOi8vZ2l0aHViLmNvbS9teXN0aWNhdGVhPiAqL1xuXG5cbnZhciBhc3QgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG5cbn0pO1xuXG5sZXQgbGFyZ2VJZFN0YXJ0UmFuZ2VzID0gdW5kZWZpbmVkO1xubGV0IGxhcmdlSWRDb250aW51ZVJhbmdlcyA9IHVuZGVmaW5lZDtcbmZ1bmN0aW9uIGlzSWRTdGFydChjcCkge1xuICAgIGlmIChjcCA8IDB4NDEpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoY3AgPCAweDViKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoY3AgPCAweDYxKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGNwIDwgMHg3YilcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGlzTGFyZ2VJZFN0YXJ0KGNwKTtcbn1cbmZ1bmN0aW9uIGlzSWRDb250aW51ZShjcCkge1xuICAgIGlmIChjcCA8IDB4MzApXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoY3AgPCAweDNhKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoY3AgPCAweDQxKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGNwIDwgMHg1YilcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKGNwID09PSAweDVmKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoY3AgPCAweDYxKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGNwIDwgMHg3YilcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGlzTGFyZ2VJZFN0YXJ0KGNwKSB8fCBpc0xhcmdlSWRDb250aW51ZShjcCk7XG59XG5mdW5jdGlvbiBpc0xhcmdlSWRTdGFydChjcCkge1xuICAgIHJldHVybiBpc0luUmFuZ2UoY3AsIGxhcmdlSWRTdGFydFJhbmdlcyB8fCAobGFyZ2VJZFN0YXJ0UmFuZ2VzID0gaW5pdExhcmdlSWRTdGFydFJhbmdlcygpKSk7XG59XG5mdW5jdGlvbiBpc0xhcmdlSWRDb250aW51ZShjcCkge1xuICAgIHJldHVybiBpc0luUmFuZ2UoY3AsIGxhcmdlSWRDb250aW51ZVJhbmdlcyB8fFxuICAgICAgICAobGFyZ2VJZENvbnRpbnVlUmFuZ2VzID0gaW5pdExhcmdlSWRDb250aW51ZVJhbmdlcygpKSk7XG59XG5mdW5jdGlvbiBpbml0TGFyZ2VJZFN0YXJ0UmFuZ2VzKCkge1xuICAgIHJldHVybiByZXN0b3JlUmFuZ2VzKFwiNHEgMCBiIDAgNSAwIDYgbSAyIHUgMiBjcCA1IGIgZiA0IDggMCAyIDAgM20gNCAyIDEgMyAzIDIgMCA3IDAgMiAyIDIgMCAyIGogMiAyYSAyIDN1IDkgNGwgMiAxMSAzIDAgNyAxNCAyMCBxIDUgMyAxYSAxNiAxMCAxIDIgMnEgMiAwIGcgMSA4IDEgYiAyIDMgMCBoIDAgMiB0IHUgMmcgYyAwIHAgdyBhIDEgNSAwIDYgbCA1IDAgYSAwIDQgMCBvIG8gOCBhIDFpIGsgMiBoIDFwIDFoIDQgMCBqIDAgOCA5IGcgZiA1IDcgMyAxIDMgbCAyIDYgMiAwIDQgMyA0IDAgaCAwIGUgMSAyIDIgZiAxIGIgMCA5IDUgNSAxIDMgbCAyIDYgMiAxIDIgMSAyIDEgdyAzIDIgMCBrIDIgaCA4IDIgMiAyIGwgMiA2IDIgMSAyIDQgNCAwIGogMCBnIDEgbyAwIGMgNyAzIDEgMyBsIDIgNiAyIDEgMiA0IDQgMCB2IDEgMiAyIGcgMCBpIDAgMiA1IDQgMiAyIDMgNCAxIDIgMCAyIDEgNCAxIDQgMiA0IGIgbiAwIDFoIDcgMiAyIDIgbSAyIGYgNCAwIHIgMiA2IDEgdiAwIDUgNyAyIDIgMiBtIDIgOSAyIDQgNCAwIHggMCAyIDEgZyAxIGkgOCAyIDIgMiAxNCAzIDAgaCAwIDYgMiA5IDIgcCA1IDYgaCA0IG4gMiA4IDIgMCAzIDYgMW4gMWIgMiAxIGQgNiAxbiAxIDIgMCAyIDQgMiBuIDIgMCAyIDkgMiAxIGEgMCAzIDQgMiAwIG0gMyB4IDAgMXMgNyAyIHogcyA0IDM4IDE2IGwgMCBoIDUgNSAzIDQgMCA0IDEgOCAyIDUgYyBkIDAgaSAxMSAyIDAgNiAwIDMgMTYgMiA5OCAyIDMgMyA2IDIgMCAyIDMgMyAxNCAyIDMgMyB3IDIgMyAzIDYgMiAwIDIgMyAzIGUgMiAxayAyIDMgMyAxdSAxMiBmIGggMmQgMyA1IDQgaDcgMyBnIDIgcCA2IDIyIDQgYSA4IGMgMiAzIGYgaCBmIGggZiBjIDIgMiBnIDFmIDEwIDAgNSAwIDF3IDJnIDggMTQgMiAwIDYgMXggYiB1IDFlIHQgMyA0IGMgMTcgNSBwIDFqIG0gYSAxZyAyYiAwIDJtIDFhIGkgNiAxayB0IGUgMSBiIDE3IHIgeiAxNiAyIGIgeiAzIDggOCAxNiAzIDIgMTYgMyAyIDUgMiAxIDQgMCA2IDViIDF0IDdwIDMgNSAzIDExIDMgNSAzIDcgMiAwIDIgMCAyIDAgMiB1IDMgMWcgMiA2IDIgMCA0IDIgMiA2IDQgMyAzIDUgNSBjIDYgMiAyIDYgMzkgMCBlIDAgaCBjIDJ1IDAgNSAwIDMgOSAyIDAgMyA1IDcgMCAyIDAgMiAwIDIgZiAzIDMgNiA0IDUgMCBpIDE0IDIyZyAxYSAyIDFhIDIgM28gNyAzIDQgMSBkIDExIDIgMCA2IDAgMyAxaiA4IDAgaCBtIGEgNiAyIDYgMiA2IDIgNiAyIDYgMiA2IDIgNiAyIDYgZmIgMiBxIDggOCA0IDMgNCA1IDJkIDUgNCAyIDJoIDIgMyA2IDE2IDIgMmwgaSB2IDFkIGYgZTkgNTMzIDF0IGc3MCA0IHdjIDF3IDE5IDMgN2cgNCBmIGIgMSBsIDFhIGggdSAzIDI3IDE0IDggMyAydSAzIDFnIDMgOCAxNyBjIDIgMiAyIDMgMiBtIHUgMWYgZiAxZCAxciA1IDQgMCAyIDEgYyByIGIgbSBxIHMgOCAxYSB0IDAgaCA0IDIgOSBiIDQgMiAxNCBvIDIgMiA3IGwgbSA0IDAgNCAxZCAyIDAgNCAxIDMgNCAzIDAgMiAwIHAgMiAzIGEgOCAyIGQgNSAzIDUgMyA1IGEgNiAyIDYgMiAxNiAyIGQgNyAzNiB1IDhtYiBkIG0gNSAxYyA2aXQgYTUgMyAyeCAxMyA2IGQgNCA2IDAgMiA5IDIgYyAyIDQgMiAwIDIgMSAyIDEgMiAyeiB5IGEyIGogMXIgMyAxaCAxNSBiIDM5IDQgMiAzcSAxMSBwIDcgcCBjIDJnIDQgNSAzIDUgMyA1IDMgMiAxMCBiIDIgcCAyIGkgMiAxIDIgZSAzIGQgeiAzZSAxeSAxZyA3ZyBzIDQgMWMgMWMgdiBlIHQgNiAxMSBiIHQgMyB6IDUgNyAyIDQgMTcgNGQgaiB6IDUgeiA1IDEzIDkgMWYgNGQgOG0gYSBsIGIgNyA0OSA1IDMgMCAyIDE3IDIgMSA0IDAgMyBtIGIgbSBhIHUgMXUgaSAyIDEgYiBsIGIgcCAxeiAxaiA3IDEgMXQgMCBnIDMgMiAyIDIgcyAxNyBzIDQgcyAxMCA3IDIgciBzIDFoIGIgbCBiIGkgZSBoIDMzIDIwIDFrIDFlIGUgMWUgZSB6IDlwIDE1IDcgMSAyNyBzIGIgMCA5IGwgMnogayBzIG0gZCAxZyAyNCAxOCB4IG8gciB6IHUgMCAzIDAgOSB5IDQgMCBkIDFiIGYgMyBtIDAgMiAwIDEwIGggMiBvIDJkIDYgMiAwIDIgMyAyIGUgMiA5IDggMWEgMTMgNyAzIDEgMyBsIDIgNiAyIDEgMiA0IDQgMCBqIDAgZCA0IDRmIDFnIGogMyBsIDIgdiAxYiBsIDEgMiAwIDU1IDFhIDE2IDMgMTEgMWIgbCAwIDFvIDE2IGUgMCAyMCBxIDZlIDE3IDM5IDFyIHcgNyAzIDAgMyA3IDIgMSAyIG4gZyAwIDIgMCAybiA3IDMgMTIgaCAwIDIgMCB0IDAgYiAxMyA4IDAgbSAwIGMgMTkgayAwIHogMWsgN2MgOCAyIDEwIGkgMCAxZSB0IDM1IDYgMiAxIDIgMTEgbSAwIHEgNSAyIDEgMiB2IGYgMCA5NCBpIDVhIDAgMjggcGwgMnYgMzIgaSA1ZiAyNGQgdHEgMzRpIGc2IDZudSBmcyA4IHUgMzYgdCBqIDFiIGggMyB3IGsgNiBpIGo1IDFyIDNsIDIyIDYgMCAxdiBjIDF0IDEgMiAwIHQgNHFmIDkgeWQgMTcgOCA2d28gN3kgMWUgMiBpIDMgOSBheiAxczUgMnkgNiBjIDQgOCA4IDkgNG1mIDJjIDIgMXkgMiAxIDMgMCAzIDEgMyAzIDIgYiAyIDAgMiA2IDIgMXMgMiAzIDMgNyAyIDYgMiByIDIgMyAyIDQgMiAwIDQgNiAyIDlmIDMgbyAyIG8gMiB1IDIgbyAyIHUgMiBvIDIgdSAyIG8gMiB1IDIgbyAyIDcgMXRoIDE4IGIgNiBoIDAgYWEgMTcgMTA1IDVnIDFvIDF2IDggMCB4aCAzIDIgcSAyIDEgMiAwIDMgMCAyIDkgMiAzIDIgMCAyIDAgNyAwIDUgMCAyIDAgMiAwIDIgMiAyIDEgMiAwIDMgMCAyIDAgMiAwIDIgMCAyIDAgMiAxIDIgMCAzIDMgMiA2IDIgMyAyIDMgMiAwIDIgOSAyIGcgNiAyIDIgNCAyIGcgM2V0IHd5bCB6IDM3OCBjIDY1IDMgNGcxIGYgNXJrIDJlOCBmMSAxNXYgM3Q2XCIpO1xufVxuZnVuY3Rpb24gaW5pdExhcmdlSWRDb250aW51ZVJhbmdlcygpIHtcbiAgICByZXR1cm4gcmVzdG9yZVJhbmdlcyhcIjUzIDAgZzkgMzMgbyAwIDcwIDQgN2UgMTggMiAwIDIgMSAyIDEgMiAwIDIxIGEgMWQgdSA3IDAgMnUgNiAzIDUgMyAxIDIgMyAzIDkgbyAwIHYgcSAyayBhIGcgOSB5IDggYSAwIHAgMyAyIDggMiAyIDIgNCAxOCAyIDNjIGUgMiB3IDFqIDIgMiBoIDIgNiBiIDEgMyA5IGkgMiAxbCAwIDIgNiAzIDEgMyAyIGEgMCBiIDEgMyA5IGYgMCAzIDIgMWwgMCAyIDQgNSAxIDMgMiA0IDAgbCBiIDQgMCBjIDIgMWwgMCAyIDcgMiAyIDIgMiBsIDEgMyA5IGIgNSAyIDIgMWwgMCAyIDYgMyAxIDMgMiA4IDIgYiAxIDMgOSBqIDAgMW8gNCA0IDIgMiAzIGEgMCBmIDkgaCA0IDFtIDYgMiAyIDIgMyA4IDEgYyAxIDMgOSBpIDIgMWwgMCAyIDYgMiAyIDIgMyA4IDEgYyAxIDMgOSBoIDMgMWsgMSAyIDYgMiAyIDIgMyBhIDAgYiAxIDMgOSBpIDIgMXogMCA1IDUgMiAwIDIgNyA3IDkgMyAxIDFxIDAgMyA2IGQgNyAyIDkgMmcgMCAzIDggYyA1IDMgOSAxciAxIDcgOSBjIDAgMiAwIDIgMCA1IDEgMWUgaiAyIDEgNiBhIDIgeiBhIDAgMnQgaiAyIDkgZCAzIDUgMiAyIDIgMyA2IDQgMyBlIGIgMiBlIGprIDIgYSA4IHB0IDIgdSAyIHUgMSB2IDEgMXQgdiBhIDAgMyA5IHkgMiAzIDkgNDAgMCAzYiBiIDUgYiBiIDkgM2wgYSAxcCA0IDFtIDkgMiBzIDMgYSA3IDkgbiBkIDIgMSAxcyA0IDFjIGcgYyA5IGkgOCBkIDIgdiBjIDMgOSAxOSBkIDFkIGogOSA5IDcgOSAzYiAyIDIgayA1IDAgNyAwIDMgMiA1aiAxbCAyIDQgZzAgMSBrIDAgM2cgYyA1IDAgNCBiIDJkYiAyIDN5IDAgMnAgdiBmZiA1IDJ5IDEgbjdxIDkgMXkgMCA1IDkgeCAxIDI5IDEgN2wgMCA0IDAgNSAwIG8gNCA1IDAgMmMgMSAxZiBoIGIgOSA3IGggZSBhIHQgNyBxIGMgMTkgMyAxYyBkIGcgOSBjIDAgYiA5IDFjIGQgZCAwIDkgMSAzIDkgeSAyIDFmIDAgMiAyIDMgMSA2IDEgMiAwIDE2IDQgNiAxIDZsIDcgMiAxIDMgOSBmbXQgMCBraSBmIGggZiA0IDEgcCAyIDVkIDkgMTIgMCBqaSAwIDZiIDAgNDYgNCA4NiA5IDEyMCAyIDIgMSA2IDMgMTUgMiA1IDAgNG0gMSBmeSAzIDkgOSBhYSAxIDRhIGEgNHcgMiAxaSBlIHcgOSBnIDMgMWEgYSAxaSA5IDcgMiAxMSBkIDIgOSA2IDEgMTkgMCBkIDIgMWQgZCA5IDMgMiBiIDJiIGIgNyAwIDRoIGIgNiA5IDcgMyAxayAxIDIgNiAzIDEgMyAyIGEgMCBiIDEgMyA2IDQgNCA1ZCBoIGEgOSA1IDAgMmEgaiBkIDkgNXkgNiAzIDggcyAxIDJiIGcgZyA5IDJhIGMgOSA5IDJjIGUgNSA5IDZyIGUgNG0gOSAxeiA1IDIgMSAzIDMgMiAwIDIgMSBkIDkgM2MgNiAzIDYgNCAwIHQgOSAxNSA2IDIgMyA5IDAgYSBhIDFiIGYgYmEgNyAyIDcgaCA5IDFsIGwgMiBkIDNmIDUgNCAwIDIgMSAyIDYgMiAwIDkgOSAxZCA0IDIgMSAyIDQgOSA5IDk2IDMgZXdhIDkgM3IgNCAxbyA2IHEgOSBzNiAwIDIgMWkgOCAzIDJhIDAgYyAxIGY1OCAxIDQzciA0IDQgNSA5IDcgMyA2IHYgMyA0NSAyIDEzZSAxZCBlOSAxaSA1IDFkIDkgMCBmIDAgbiA0IDIgZSAxMXQgNiAyIGcgMyA2IDIgMSAyIDQgN2EgNiBhIDkgYm4gZCAxNWogNiAzMiA2IDYgOSAzbzcgOSBndnQzIDZuXCIpO1xufVxuZnVuY3Rpb24gaXNJblJhbmdlKGNwLCByYW5nZXMpIHtcbiAgICBsZXQgbCA9IDAsIHIgPSAocmFuZ2VzLmxlbmd0aCAvIDIpIHwgMCwgaSA9IDAsIG1pbiA9IDAsIG1heCA9IDA7XG4gICAgd2hpbGUgKGwgPCByKSB7XG4gICAgICAgIGkgPSAoKGwgKyByKSAvIDIpIHwgMDtcbiAgICAgICAgbWluID0gcmFuZ2VzWzIgKiBpXTtcbiAgICAgICAgbWF4ID0gcmFuZ2VzWzIgKiBpICsgMV07XG4gICAgICAgIGlmIChjcCA8IG1pbikge1xuICAgICAgICAgICAgciA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3AgPiBtYXgpIHtcbiAgICAgICAgICAgIGwgPSBpICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHJlc3RvcmVSYW5nZXMoZGF0YSkge1xuICAgIGxldCBsYXN0ID0gMDtcbiAgICByZXR1cm4gZGF0YS5zcGxpdChcIiBcIikubWFwKHMgPT4gKGxhc3QgKz0gcGFyc2VJbnQocywgMzYpIHwgMCkpO1xufVxuXG5jbGFzcyBEYXRhU2V0IHtcbiAgICBjb25zdHJ1Y3RvcihyYXcyMDE4LCByYXcyMDE5LCByYXcyMDIwLCByYXcyMDIxKSB7XG4gICAgICAgIHRoaXMuX3JhdzIwMTggPSByYXcyMDE4O1xuICAgICAgICB0aGlzLl9yYXcyMDE5ID0gcmF3MjAxOTtcbiAgICAgICAgdGhpcy5fcmF3MjAyMCA9IHJhdzIwMjA7XG4gICAgICAgIHRoaXMuX3JhdzIwMjEgPSByYXcyMDIxO1xuICAgIH1cbiAgICBnZXQgZXMyMDE4KCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3NldDIwMTggfHwgKHRoaXMuX3NldDIwMTggPSBuZXcgU2V0KHRoaXMuX3JhdzIwMTguc3BsaXQoXCIgXCIpKSkpO1xuICAgIH1cbiAgICBnZXQgZXMyMDE5KCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3NldDIwMTkgfHwgKHRoaXMuX3NldDIwMTkgPSBuZXcgU2V0KHRoaXMuX3JhdzIwMTkuc3BsaXQoXCIgXCIpKSkpO1xuICAgIH1cbiAgICBnZXQgZXMyMDIwKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3NldDIwMjAgfHwgKHRoaXMuX3NldDIwMjAgPSBuZXcgU2V0KHRoaXMuX3JhdzIwMjAuc3BsaXQoXCIgXCIpKSkpO1xuICAgIH1cbiAgICBnZXQgZXMyMDIxKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3NldDIwMjEgfHwgKHRoaXMuX3NldDIwMjEgPSBuZXcgU2V0KHRoaXMuX3JhdzIwMjEuc3BsaXQoXCIgXCIpKSkpO1xuICAgIH1cbn1cbmNvbnN0IGdjTmFtZVNldCA9IG5ldyBTZXQoW1wiR2VuZXJhbF9DYXRlZ29yeVwiLCBcImdjXCJdKTtcbmNvbnN0IHNjTmFtZVNldCA9IG5ldyBTZXQoW1wiU2NyaXB0XCIsIFwiU2NyaXB0X0V4dGVuc2lvbnNcIiwgXCJzY1wiLCBcInNjeFwiXSk7XG5jb25zdCBnY1ZhbHVlU2V0cyA9IG5ldyBEYXRhU2V0KFwiQyBDYXNlZF9MZXR0ZXIgQ2MgQ2YgQ2xvc2VfUHVuY3R1YXRpb24gQ24gQ28gQ29tYmluaW5nX01hcmsgQ29ubmVjdG9yX1B1bmN0dWF0aW9uIENvbnRyb2wgQ3MgQ3VycmVuY3lfU3ltYm9sIERhc2hfUHVuY3R1YXRpb24gRGVjaW1hbF9OdW1iZXIgRW5jbG9zaW5nX01hcmsgRmluYWxfUHVuY3R1YXRpb24gRm9ybWF0IEluaXRpYWxfUHVuY3R1YXRpb24gTCBMQyBMZXR0ZXIgTGV0dGVyX051bWJlciBMaW5lX1NlcGFyYXRvciBMbCBMbSBMbyBMb3dlcmNhc2VfTGV0dGVyIEx0IEx1IE0gTWFyayBNYXRoX1N5bWJvbCBNYyBNZSBNbiBNb2RpZmllcl9MZXR0ZXIgTW9kaWZpZXJfU3ltYm9sIE4gTmQgTmwgTm8gTm9uc3BhY2luZ19NYXJrIE51bWJlciBPcGVuX1B1bmN0dWF0aW9uIE90aGVyIE90aGVyX0xldHRlciBPdGhlcl9OdW1iZXIgT3RoZXJfUHVuY3R1YXRpb24gT3RoZXJfU3ltYm9sIFAgUGFyYWdyYXBoX1NlcGFyYXRvciBQYyBQZCBQZSBQZiBQaSBQbyBQcml2YXRlX1VzZSBQcyBQdW5jdHVhdGlvbiBTIFNjIFNlcGFyYXRvciBTayBTbSBTbyBTcGFjZV9TZXBhcmF0b3IgU3BhY2luZ19NYXJrIFN1cnJvZ2F0ZSBTeW1ib2wgVGl0bGVjYXNlX0xldHRlciBVbmFzc2lnbmVkIFVwcGVyY2FzZV9MZXR0ZXIgWiBabCBacCBacyBjbnRybCBkaWdpdCBwdW5jdFwiLCBcIlwiLCBcIlwiLCBcIlwiKTtcbmNvbnN0IHNjVmFsdWVTZXRzID0gbmV3IERhdGFTZXQoXCJBZGxhbSBBZGxtIEFnaGIgQWhvbSBBbmF0b2xpYW5fSGllcm9nbHlwaHMgQXJhYiBBcmFiaWMgQXJtZW5pYW4gQXJtaSBBcm1uIEF2ZXN0YW4gQXZzdCBCYWxpIEJhbGluZXNlIEJhbXUgQmFtdW0gQmFzcyBCYXNzYV9WYWggQmF0YWsgQmF0ayBCZW5nIEJlbmdhbGkgQmhhaWtzdWtpIEJoa3MgQm9wbyBCb3BvbW9mbyBCcmFoIEJyYWhtaSBCcmFpIEJyYWlsbGUgQnVnaSBCdWdpbmVzZSBCdWhkIEJ1aGlkIENha20gQ2FuYWRpYW5fQWJvcmlnaW5hbCBDYW5zIENhcmkgQ2FyaWFuIENhdWNhc2lhbl9BbGJhbmlhbiBDaGFrbWEgQ2hhbSBDaGVyIENoZXJva2VlIENvbW1vbiBDb3B0IENvcHRpYyBDcHJ0IEN1bmVpZm9ybSBDeXByaW90IEN5cmlsbGljIEN5cmwgRGVzZXJldCBEZXZhIERldmFuYWdhcmkgRHNydCBEdXBsIER1cGxveWFuIEVneXAgRWd5cHRpYW5fSGllcm9nbHlwaHMgRWxiYSBFbGJhc2FuIEV0aGkgRXRoaW9waWMgR2VvciBHZW9yZ2lhbiBHbGFnIEdsYWdvbGl0aWMgR29ubSBHb3RoIEdvdGhpYyBHcmFuIEdyYW50aGEgR3JlZWsgR3JlayBHdWphcmF0aSBHdWpyIEd1cm11a2hpIEd1cnUgSGFuIEhhbmcgSGFuZ3VsIEhhbmkgSGFubyBIYW51bm9vIEhhdHIgSGF0cmFuIEhlYnIgSGVicmV3IEhpcmEgSGlyYWdhbmEgSGx1dyBIbW5nIEh1bmcgSW1wZXJpYWxfQXJhbWFpYyBJbmhlcml0ZWQgSW5zY3JpcHRpb25hbF9QYWhsYXZpIEluc2NyaXB0aW9uYWxfUGFydGhpYW4gSXRhbCBKYXZhIEphdmFuZXNlIEthaXRoaSBLYWxpIEthbmEgS2FubmFkYSBLYXRha2FuYSBLYXlhaF9MaSBLaGFyIEtoYXJvc2h0aGkgS2htZXIgS2htciBLaG9qIEtob2praSBLaHVkYXdhZGkgS25kYSBLdGhpIExhbmEgTGFvIExhb28gTGF0aW4gTGF0biBMZXBjIExlcGNoYSBMaW1iIExpbWJ1IExpbmEgTGluYiBMaW5lYXJfQSBMaW5lYXJfQiBMaXN1IEx5Y2kgTHljaWFuIEx5ZGkgTHlkaWFuIE1haGFqYW5pIE1haGogTWFsYXlhbGFtIE1hbmQgTWFuZGFpYyBNYW5pIE1hbmljaGFlYW4gTWFyYyBNYXJjaGVuIE1hc2FyYW1fR29uZGkgTWVldGVpX01heWVrIE1lbmQgTWVuZGVfS2lrYWt1aSBNZXJjIE1lcm8gTWVyb2l0aWNfQ3Vyc2l2ZSBNZXJvaXRpY19IaWVyb2dseXBocyBNaWFvIE1seW0gTW9kaSBNb25nIE1vbmdvbGlhbiBNcm8gTXJvbyBNdGVpIE11bHQgTXVsdGFuaSBNeWFubWFyIE15bXIgTmFiYXRhZWFuIE5hcmIgTmJhdCBOZXdfVGFpX0x1ZSBOZXdhIE5rbyBOa29vIE5zaHUgTnVzaHUgT2dhbSBPZ2hhbSBPbF9DaGlraSBPbGNrIE9sZF9IdW5nYXJpYW4gT2xkX0l0YWxpYyBPbGRfTm9ydGhfQXJhYmlhbiBPbGRfUGVybWljIE9sZF9QZXJzaWFuIE9sZF9Tb3V0aF9BcmFiaWFuIE9sZF9UdXJraWMgT3JpeWEgT3JraCBPcnlhIE9zYWdlIE9zZ2UgT3NtYSBPc21hbnlhIFBhaGF3aF9IbW9uZyBQYWxtIFBhbG15cmVuZSBQYXVfQ2luX0hhdSBQYXVjIFBlcm0gUGhhZyBQaGFnc19QYSBQaGxpIFBobHAgUGhueCBQaG9lbmljaWFuIFBscmQgUHJ0aSBQc2FsdGVyX1BhaGxhdmkgUWFhYyBRYWFpIFJlamFuZyBSam5nIFJ1bmljIFJ1bnIgU2FtYXJpdGFuIFNhbXIgU2FyYiBTYXVyIFNhdXJhc2h0cmEgU2dudyBTaGFyYWRhIFNoYXZpYW4gU2hhdyBTaHJkIFNpZGQgU2lkZGhhbSBTaWduV3JpdGluZyBTaW5kIFNpbmggU2luaGFsYSBTb3JhIFNvcmFfU29tcGVuZyBTb3lvIFNveW9tYm8gU3VuZCBTdW5kYW5lc2UgU3lsbyBTeWxvdGlfTmFncmkgU3lyYyBTeXJpYWMgVGFnYWxvZyBUYWdiIFRhZ2JhbndhIFRhaV9MZSBUYWlfVGhhbSBUYWlfVmlldCBUYWtyIFRha3JpIFRhbGUgVGFsdSBUYW1pbCBUYW1sIFRhbmcgVGFuZ3V0IFRhdnQgVGVsdSBUZWx1Z3UgVGZuZyBUZ2xnIFRoYWEgVGhhYW5hIFRoYWkgVGliZXRhbiBUaWJ0IFRpZmluYWdoIFRpcmggVGlyaHV0YSBVZ2FyIFVnYXJpdGljIFZhaSBWYWlpIFdhcmEgV2FyYW5nX0NpdGkgWHBlbyBYc3V4IFlpIFlpaWkgWmFuYWJhemFyX1NxdWFyZSBaYW5iIFppbmggWnl5eVwiLCBcIkRvZ3IgRG9ncmEgR29uZyBHdW5qYWxhX0dvbmRpIEhhbmlmaV9Sb2hpbmd5YSBNYWthIE1ha2FzYXIgTWVkZWZhaWRyaW4gTWVkZiBPbGRfU29nZGlhbiBSb2hnIFNvZ2QgU29nZGlhbiBTb2dvXCIsIFwiRWx5bSBFbHltYWljIEhtbnAgTmFuZCBOYW5kaW5hZ2FyaSBOeWlha2VuZ19QdWFjaHVlX0htb25nIFdhbmNobyBXY2hvXCIsIFwiQ2hvcmFzbWlhbiBDaHJzIERpYWsgRGl2ZXNfQWt1cnUgS2hpdGFuX1NtYWxsX1NjcmlwdCBLaXRzIFllemkgWWV6aWRpXCIpO1xuY29uc3QgYmluUHJvcGVydHlTZXRzID0gbmV3IERhdGFTZXQoXCJBSGV4IEFTQ0lJIEFTQ0lJX0hleF9EaWdpdCBBbHBoYSBBbHBoYWJldGljIEFueSBBc3NpZ25lZCBCaWRpX0MgQmlkaV9Db250cm9sIEJpZGlfTSBCaWRpX01pcnJvcmVkIENJIENXQ0YgQ1dDTSBDV0tDRiBDV0wgQ1dUIENXVSBDYXNlX0lnbm9yYWJsZSBDYXNlZCBDaGFuZ2VzX1doZW5fQ2FzZWZvbGRlZCBDaGFuZ2VzX1doZW5fQ2FzZW1hcHBlZCBDaGFuZ2VzX1doZW5fTG93ZXJjYXNlZCBDaGFuZ2VzX1doZW5fTkZLQ19DYXNlZm9sZGVkIENoYW5nZXNfV2hlbl9UaXRsZWNhc2VkIENoYW5nZXNfV2hlbl9VcHBlcmNhc2VkIERJIERhc2ggRGVmYXVsdF9JZ25vcmFibGVfQ29kZV9Qb2ludCBEZXAgRGVwcmVjYXRlZCBEaWEgRGlhY3JpdGljIEVtb2ppIEVtb2ppX0NvbXBvbmVudCBFbW9qaV9Nb2RpZmllciBFbW9qaV9Nb2RpZmllcl9CYXNlIEVtb2ppX1ByZXNlbnRhdGlvbiBFeHQgRXh0ZW5kZXIgR3JfQmFzZSBHcl9FeHQgR3JhcGhlbWVfQmFzZSBHcmFwaGVtZV9FeHRlbmQgSGV4IEhleF9EaWdpdCBJREMgSURTIElEU0IgSURTVCBJRFNfQmluYXJ5X09wZXJhdG9yIElEU19UcmluYXJ5X09wZXJhdG9yIElEX0NvbnRpbnVlIElEX1N0YXJ0IElkZW8gSWRlb2dyYXBoaWMgSm9pbl9DIEpvaW5fQ29udHJvbCBMT0UgTG9naWNhbF9PcmRlcl9FeGNlcHRpb24gTG93ZXIgTG93ZXJjYXNlIE1hdGggTkNoYXIgTm9uY2hhcmFjdGVyX0NvZGVfUG9pbnQgUGF0X1N5biBQYXRfV1MgUGF0dGVybl9TeW50YXggUGF0dGVybl9XaGl0ZV9TcGFjZSBRTWFyayBRdW90YXRpb25fTWFyayBSSSBSYWRpY2FsIFJlZ2lvbmFsX0luZGljYXRvciBTRCBTVGVybSBTZW50ZW5jZV9UZXJtaW5hbCBTb2Z0X0RvdHRlZCBUZXJtIFRlcm1pbmFsX1B1bmN0dWF0aW9uIFVJZGVvIFVuaWZpZWRfSWRlb2dyYXBoIFVwcGVyIFVwcGVyY2FzZSBWUyBWYXJpYXRpb25fU2VsZWN0b3IgV2hpdGVfU3BhY2UgWElEQyBYSURTIFhJRF9Db250aW51ZSBYSURfU3RhcnQgc3BhY2VcIiwgXCJFeHRlbmRlZF9QaWN0b2dyYXBoaWNcIiwgXCJcIiwgXCJFQmFzZSBFQ29tcCBFTW9kIEVQcmVzIEV4dFBpY3RcIik7XG5mdW5jdGlvbiBpc1ZhbGlkVW5pY29kZVByb3BlcnR5KHZlcnNpb24sIG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKGdjTmFtZVNldC5oYXMobmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHZlcnNpb24gPj0gMjAxOCAmJiBnY1ZhbHVlU2V0cy5lczIwMTguaGFzKHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHNjTmFtZVNldC5oYXMobmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICgodmVyc2lvbiA+PSAyMDE4ICYmIHNjVmFsdWVTZXRzLmVzMjAxOC5oYXModmFsdWUpKSB8fFxuICAgICAgICAgICAgKHZlcnNpb24gPj0gMjAxOSAmJiBzY1ZhbHVlU2V0cy5lczIwMTkuaGFzKHZhbHVlKSkgfHxcbiAgICAgICAgICAgICh2ZXJzaW9uID49IDIwMjAgJiYgc2NWYWx1ZVNldHMuZXMyMDIwLmhhcyh2YWx1ZSkpIHx8XG4gICAgICAgICAgICAodmVyc2lvbiA+PSAyMDIxICYmIHNjVmFsdWVTZXRzLmVzMjAyMS5oYXModmFsdWUpKSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRMb25lVW5pY29kZVByb3BlcnR5KHZlcnNpb24sIHZhbHVlKSB7XG4gICAgcmV0dXJuICgodmVyc2lvbiA+PSAyMDE4ICYmIGJpblByb3BlcnR5U2V0cy5lczIwMTguaGFzKHZhbHVlKSkgfHxcbiAgICAgICAgKHZlcnNpb24gPj0gMjAxOSAmJiBiaW5Qcm9wZXJ0eVNldHMuZXMyMDE5Lmhhcyh2YWx1ZSkpIHx8XG4gICAgICAgICh2ZXJzaW9uID49IDIwMjEgJiYgYmluUHJvcGVydHlTZXRzLmVzMjAyMS5oYXModmFsdWUpKSk7XG59XG5cbmNvbnN0IEJhY2tzcGFjZSA9IDB4MDg7XG5jb25zdCBDaGFyYWN0ZXJUYWJ1bGF0aW9uID0gMHgwOTtcbmNvbnN0IExpbmVGZWVkID0gMHgwYTtcbmNvbnN0IExpbmVUYWJ1bGF0aW9uID0gMHgwYjtcbmNvbnN0IEZvcm1GZWVkID0gMHgwYztcbmNvbnN0IENhcnJpYWdlUmV0dXJuID0gMHgwZDtcbmNvbnN0IEV4Y2xhbWF0aW9uTWFyayA9IDB4MjE7XG5jb25zdCBEb2xsYXJTaWduID0gMHgyNDtcbmNvbnN0IExlZnRQYXJlbnRoZXNpcyA9IDB4Mjg7XG5jb25zdCBSaWdodFBhcmVudGhlc2lzID0gMHgyOTtcbmNvbnN0IEFzdGVyaXNrID0gMHgyYTtcbmNvbnN0IFBsdXNTaWduID0gMHgyYjtcbmNvbnN0IENvbW1hID0gMHgyYztcbmNvbnN0IEh5cGhlbk1pbnVzID0gMHgyZDtcbmNvbnN0IEZ1bGxTdG9wID0gMHgyZTtcbmNvbnN0IFNvbGlkdXMgPSAweDJmO1xuY29uc3QgRGlnaXRaZXJvID0gMHgzMDtcbmNvbnN0IERpZ2l0T25lID0gMHgzMTtcbmNvbnN0IERpZ2l0U2V2ZW4gPSAweDM3O1xuY29uc3QgRGlnaXROaW5lID0gMHgzOTtcbmNvbnN0IENvbG9uID0gMHgzYTtcbmNvbnN0IExlc3NUaGFuU2lnbiA9IDB4M2M7XG5jb25zdCBFcXVhbHNTaWduID0gMHgzZDtcbmNvbnN0IEdyZWF0ZXJUaGFuU2lnbiA9IDB4M2U7XG5jb25zdCBRdWVzdGlvbk1hcmsgPSAweDNmO1xuY29uc3QgTGF0aW5DYXBpdGFsTGV0dGVyQSA9IDB4NDE7XG5jb25zdCBMYXRpbkNhcGl0YWxMZXR0ZXJCID0gMHg0MjtcbmNvbnN0IExhdGluQ2FwaXRhbExldHRlckQgPSAweDQ0O1xuY29uc3QgTGF0aW5DYXBpdGFsTGV0dGVyRiA9IDB4NDY7XG5jb25zdCBMYXRpbkNhcGl0YWxMZXR0ZXJQID0gMHg1MDtcbmNvbnN0IExhdGluQ2FwaXRhbExldHRlclMgPSAweDUzO1xuY29uc3QgTGF0aW5DYXBpdGFsTGV0dGVyVyA9IDB4NTc7XG5jb25zdCBMYXRpbkNhcGl0YWxMZXR0ZXJaID0gMHg1YTtcbmNvbnN0IExvd0xpbmUgPSAweDVmO1xuY29uc3QgTGF0aW5TbWFsbExldHRlckEgPSAweDYxO1xuY29uc3QgTGF0aW5TbWFsbExldHRlckIgPSAweDYyO1xuY29uc3QgTGF0aW5TbWFsbExldHRlckMgPSAweDYzO1xuY29uc3QgTGF0aW5TbWFsbExldHRlckQgPSAweDY0O1xuY29uc3QgTGF0aW5TbWFsbExldHRlckYgPSAweDY2O1xuY29uc3QgTGF0aW5TbWFsbExldHRlckcgPSAweDY3O1xuY29uc3QgTGF0aW5TbWFsbExldHRlckkgPSAweDY5O1xuY29uc3QgTGF0aW5TbWFsbExldHRlcksgPSAweDZiO1xuY29uc3QgTGF0aW5TbWFsbExldHRlck0gPSAweDZkO1xuY29uc3QgTGF0aW5TbWFsbExldHRlck4gPSAweDZlO1xuY29uc3QgTGF0aW5TbWFsbExldHRlclAgPSAweDcwO1xuY29uc3QgTGF0aW5TbWFsbExldHRlclIgPSAweDcyO1xuY29uc3QgTGF0aW5TbWFsbExldHRlclMgPSAweDczO1xuY29uc3QgTGF0aW5TbWFsbExldHRlclQgPSAweDc0O1xuY29uc3QgTGF0aW5TbWFsbExldHRlclUgPSAweDc1O1xuY29uc3QgTGF0aW5TbWFsbExldHRlclYgPSAweDc2O1xuY29uc3QgTGF0aW5TbWFsbExldHRlclcgPSAweDc3O1xuY29uc3QgTGF0aW5TbWFsbExldHRlclggPSAweDc4O1xuY29uc3QgTGF0aW5TbWFsbExldHRlclkgPSAweDc5O1xuY29uc3QgTGF0aW5TbWFsbExldHRlclogPSAweDdhO1xuY29uc3QgTGVmdFNxdWFyZUJyYWNrZXQgPSAweDViO1xuY29uc3QgUmV2ZXJzZVNvbGlkdXMgPSAweDVjO1xuY29uc3QgUmlnaHRTcXVhcmVCcmFja2V0ID0gMHg1ZDtcbmNvbnN0IENpcmN1bWZsZXhBY2NlbnQgPSAweDVlO1xuY29uc3QgTGVmdEN1cmx5QnJhY2tldCA9IDB4N2I7XG5jb25zdCBWZXJ0aWNhbExpbmUgPSAweDdjO1xuY29uc3QgUmlnaHRDdXJseUJyYWNrZXQgPSAweDdkO1xuY29uc3QgWmVyb1dpZHRoTm9uSm9pbmVyID0gMHgyMDBjO1xuY29uc3QgWmVyb1dpZHRoSm9pbmVyID0gMHgyMDBkO1xuY29uc3QgTGluZVNlcGFyYXRvciA9IDB4MjAyODtcbmNvbnN0IFBhcmFncmFwaFNlcGFyYXRvciA9IDB4MjAyOTtcbmNvbnN0IE1pbkNvZGVQb2ludCA9IDB4MDA7XG5jb25zdCBNYXhDb2RlUG9pbnQgPSAweDEwZmZmZjtcbmZ1bmN0aW9uIGlzTGF0aW5MZXR0ZXIoY29kZSkge1xuICAgIHJldHVybiAoKGNvZGUgPj0gTGF0aW5DYXBpdGFsTGV0dGVyQSAmJiBjb2RlIDw9IExhdGluQ2FwaXRhbExldHRlclopIHx8XG4gICAgICAgIChjb2RlID49IExhdGluU21hbGxMZXR0ZXJBICYmIGNvZGUgPD0gTGF0aW5TbWFsbExldHRlclopKTtcbn1cbmZ1bmN0aW9uIGlzRGVjaW1hbERpZ2l0KGNvZGUpIHtcbiAgICByZXR1cm4gY29kZSA+PSBEaWdpdFplcm8gJiYgY29kZSA8PSBEaWdpdE5pbmU7XG59XG5mdW5jdGlvbiBpc09jdGFsRGlnaXQoY29kZSkge1xuICAgIHJldHVybiBjb2RlID49IERpZ2l0WmVybyAmJiBjb2RlIDw9IERpZ2l0U2V2ZW47XG59XG5mdW5jdGlvbiBpc0hleERpZ2l0KGNvZGUpIHtcbiAgICByZXR1cm4gKChjb2RlID49IERpZ2l0WmVybyAmJiBjb2RlIDw9IERpZ2l0TmluZSkgfHxcbiAgICAgICAgKGNvZGUgPj0gTGF0aW5DYXBpdGFsTGV0dGVyQSAmJiBjb2RlIDw9IExhdGluQ2FwaXRhbExldHRlckYpIHx8XG4gICAgICAgIChjb2RlID49IExhdGluU21hbGxMZXR0ZXJBICYmIGNvZGUgPD0gTGF0aW5TbWFsbExldHRlckYpKTtcbn1cbmZ1bmN0aW9uIGlzTGluZVRlcm1pbmF0b3IoY29kZSkge1xuICAgIHJldHVybiAoY29kZSA9PT0gTGluZUZlZWQgfHxcbiAgICAgICAgY29kZSA9PT0gQ2FycmlhZ2VSZXR1cm4gfHxcbiAgICAgICAgY29kZSA9PT0gTGluZVNlcGFyYXRvciB8fFxuICAgICAgICBjb2RlID09PSBQYXJhZ3JhcGhTZXBhcmF0b3IpO1xufVxuZnVuY3Rpb24gaXNWYWxpZFVuaWNvZGUoY29kZSkge1xuICAgIHJldHVybiBjb2RlID49IE1pbkNvZGVQb2ludCAmJiBjb2RlIDw9IE1heENvZGVQb2ludDtcbn1cbmZ1bmN0aW9uIGRpZ2l0VG9JbnQoY29kZSkge1xuICAgIGlmIChjb2RlID49IExhdGluU21hbGxMZXR0ZXJBICYmIGNvZGUgPD0gTGF0aW5TbWFsbExldHRlckYpIHtcbiAgICAgICAgcmV0dXJuIGNvZGUgLSBMYXRpblNtYWxsTGV0dGVyQSArIDEwO1xuICAgIH1cbiAgICBpZiAoY29kZSA+PSBMYXRpbkNhcGl0YWxMZXR0ZXJBICYmIGNvZGUgPD0gTGF0aW5DYXBpdGFsTGV0dGVyRikge1xuICAgICAgICByZXR1cm4gY29kZSAtIExhdGluQ2FwaXRhbExldHRlckEgKyAxMDtcbiAgICB9XG4gICAgcmV0dXJuIGNvZGUgLSBEaWdpdFplcm87XG59XG5mdW5jdGlvbiBpc0xlYWRTdXJyb2dhdGUoY29kZSkge1xuICAgIHJldHVybiBjb2RlID49IDB4ZDgwMCAmJiBjb2RlIDw9IDB4ZGJmZjtcbn1cbmZ1bmN0aW9uIGlzVHJhaWxTdXJyb2dhdGUoY29kZSkge1xuICAgIHJldHVybiBjb2RlID49IDB4ZGMwMCAmJiBjb2RlIDw9IDB4ZGZmZjtcbn1cbmZ1bmN0aW9uIGNvbWJpbmVTdXJyb2dhdGVQYWlyKGxlYWQsIHRyYWlsKSB7XG4gICAgcmV0dXJuIChsZWFkIC0gMHhkODAwKSAqIDB4NDAwICsgKHRyYWlsIC0gMHhkYzAwKSArIDB4MTAwMDA7XG59XG5cbmNvbnN0IGxlZ2FjeUltcGwgPSB7XG4gICAgYXQocywgZW5kLCBpKSB7XG4gICAgICAgIHJldHVybiBpIDwgZW5kID8gcy5jaGFyQ29kZUF0KGkpIDogLTE7XG4gICAgfSxcbiAgICB3aWR0aChjKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH0sXG59O1xuY29uc3QgdW5pY29kZUltcGwgPSB7XG4gICAgYXQocywgZW5kLCBpKSB7XG4gICAgICAgIHJldHVybiBpIDwgZW5kID8gcy5jb2RlUG9pbnRBdChpKSA6IC0xO1xuICAgIH0sXG4gICAgd2lkdGgoYykge1xuICAgICAgICByZXR1cm4gYyA+IDB4ZmZmZiA/IDIgOiAxO1xuICAgIH0sXG59O1xuY2xhc3MgUmVhZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5faW1wbCA9IGxlZ2FjeUltcGw7XG4gICAgICAgIHRoaXMuX3MgPSBcIlwiO1xuICAgICAgICB0aGlzLl9pID0gMDtcbiAgICAgICAgdGhpcy5fZW5kID0gMDtcbiAgICAgICAgdGhpcy5fY3AxID0gLTE7XG4gICAgICAgIHRoaXMuX3cxID0gMTtcbiAgICAgICAgdGhpcy5fY3AyID0gLTE7XG4gICAgICAgIHRoaXMuX3cyID0gMTtcbiAgICAgICAgdGhpcy5fY3AzID0gLTE7XG4gICAgICAgIHRoaXMuX3czID0gMTtcbiAgICAgICAgdGhpcy5fY3A0ID0gLTE7XG4gICAgfVxuICAgIGdldCBzb3VyY2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zO1xuICAgIH1cbiAgICBnZXQgaW5kZXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pO1xuICAgIH1cbiAgICBnZXQgY3VycmVudENvZGVQb2ludCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NwMTtcbiAgICB9XG4gICAgZ2V0IG5leHRDb2RlUG9pbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jcDI7XG4gICAgfVxuICAgIGdldCBuZXh0Q29kZVBvaW50MigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NwMztcbiAgICB9XG4gICAgZ2V0IG5leHRDb2RlUG9pbnQzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3A0O1xuICAgIH1cbiAgICByZXNldChzb3VyY2UsIHN0YXJ0LCBlbmQsIHVGbGFnKSB7XG4gICAgICAgIHRoaXMuX2ltcGwgPSB1RmxhZyA/IHVuaWNvZGVJbXBsIDogbGVnYWN5SW1wbDtcbiAgICAgICAgdGhpcy5fcyA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5fZW5kID0gZW5kO1xuICAgICAgICB0aGlzLnJld2luZChzdGFydCk7XG4gICAgfVxuICAgIHJld2luZChpbmRleCkge1xuICAgICAgICBjb25zdCBpbXBsID0gdGhpcy5faW1wbDtcbiAgICAgICAgdGhpcy5faSA9IGluZGV4O1xuICAgICAgICB0aGlzLl9jcDEgPSBpbXBsLmF0KHRoaXMuX3MsIHRoaXMuX2VuZCwgaW5kZXgpO1xuICAgICAgICB0aGlzLl93MSA9IGltcGwud2lkdGgodGhpcy5fY3AxKTtcbiAgICAgICAgdGhpcy5fY3AyID0gaW1wbC5hdCh0aGlzLl9zLCB0aGlzLl9lbmQsIGluZGV4ICsgdGhpcy5fdzEpO1xuICAgICAgICB0aGlzLl93MiA9IGltcGwud2lkdGgodGhpcy5fY3AyKTtcbiAgICAgICAgdGhpcy5fY3AzID0gaW1wbC5hdCh0aGlzLl9zLCB0aGlzLl9lbmQsIGluZGV4ICsgdGhpcy5fdzEgKyB0aGlzLl93Mik7XG4gICAgICAgIHRoaXMuX3czID0gaW1wbC53aWR0aCh0aGlzLl9jcDMpO1xuICAgICAgICB0aGlzLl9jcDQgPSBpbXBsLmF0KHRoaXMuX3MsIHRoaXMuX2VuZCwgaW5kZXggKyB0aGlzLl93MSArIHRoaXMuX3cyICsgdGhpcy5fdzMpO1xuICAgIH1cbiAgICBhZHZhbmNlKCkge1xuICAgICAgICBpZiAodGhpcy5fY3AxICE9PSAtMSkge1xuICAgICAgICAgICAgY29uc3QgaW1wbCA9IHRoaXMuX2ltcGw7XG4gICAgICAgICAgICB0aGlzLl9pICs9IHRoaXMuX3cxO1xuICAgICAgICAgICAgdGhpcy5fY3AxID0gdGhpcy5fY3AyO1xuICAgICAgICAgICAgdGhpcy5fdzEgPSB0aGlzLl93MjtcbiAgICAgICAgICAgIHRoaXMuX2NwMiA9IHRoaXMuX2NwMztcbiAgICAgICAgICAgIHRoaXMuX3cyID0gaW1wbC53aWR0aCh0aGlzLl9jcDIpO1xuICAgICAgICAgICAgdGhpcy5fY3AzID0gdGhpcy5fY3A0O1xuICAgICAgICAgICAgdGhpcy5fdzMgPSBpbXBsLndpZHRoKHRoaXMuX2NwMyk7XG4gICAgICAgICAgICB0aGlzLl9jcDQgPSBpbXBsLmF0KHRoaXMuX3MsIHRoaXMuX2VuZCwgdGhpcy5faSArIHRoaXMuX3cxICsgdGhpcy5fdzIgKyB0aGlzLl93Myk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWF0KGNwKSB7XG4gICAgICAgIGlmICh0aGlzLl9jcDEgPT09IGNwKSB7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWF0MihjcDEsIGNwMikge1xuICAgICAgICBpZiAodGhpcy5fY3AxID09PSBjcDEgJiYgdGhpcy5fY3AyID09PSBjcDIpIHtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVhdDMoY3AxLCBjcDIsIGNwMykge1xuICAgICAgICBpZiAodGhpcy5fY3AxID09PSBjcDEgJiYgdGhpcy5fY3AyID09PSBjcDIgJiYgdGhpcy5fY3AzID09PSBjcDMpIHtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmNsYXNzIFJlZ0V4cFN5bnRheEVycm9yIGV4dGVuZHMgU3ludGF4RXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZSwgdUZsYWcsIGluZGV4LCBtZXNzYWdlKSB7XG4gICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmICghc291cmNlLnN0YXJ0c1dpdGgoXCIvXCIpKSB7XG4gICAgICAgICAgICAgICAgc291cmNlID0gYC8ke3NvdXJjZX0vJHt1RmxhZyA/IFwidVwiIDogXCJcIn1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc291cmNlID0gYDogJHtzb3VyY2V9YDtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcihgSW52YWxpZCByZWd1bGFyIGV4cHJlc3Npb24ke3NvdXJjZX06ICR7bWVzc2FnZX1gKTtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNTeW50YXhDaGFyYWN0ZXIoY3ApIHtcbiAgICByZXR1cm4gKGNwID09PSBDaXJjdW1mbGV4QWNjZW50IHx8XG4gICAgICAgIGNwID09PSBEb2xsYXJTaWduIHx8XG4gICAgICAgIGNwID09PSBSZXZlcnNlU29saWR1cyB8fFxuICAgICAgICBjcCA9PT0gRnVsbFN0b3AgfHxcbiAgICAgICAgY3AgPT09IEFzdGVyaXNrIHx8XG4gICAgICAgIGNwID09PSBQbHVzU2lnbiB8fFxuICAgICAgICBjcCA9PT0gUXVlc3Rpb25NYXJrIHx8XG4gICAgICAgIGNwID09PSBMZWZ0UGFyZW50aGVzaXMgfHxcbiAgICAgICAgY3AgPT09IFJpZ2h0UGFyZW50aGVzaXMgfHxcbiAgICAgICAgY3AgPT09IExlZnRTcXVhcmVCcmFja2V0IHx8XG4gICAgICAgIGNwID09PSBSaWdodFNxdWFyZUJyYWNrZXQgfHxcbiAgICAgICAgY3AgPT09IExlZnRDdXJseUJyYWNrZXQgfHxcbiAgICAgICAgY3AgPT09IFJpZ2h0Q3VybHlCcmFja2V0IHx8XG4gICAgICAgIGNwID09PSBWZXJ0aWNhbExpbmUpO1xufVxuZnVuY3Rpb24gaXNSZWdFeHBJZGVudGlmaWVyU3RhcnQoY3ApIHtcbiAgICByZXR1cm4gaXNJZFN0YXJ0KGNwKSB8fCBjcCA9PT0gRG9sbGFyU2lnbiB8fCBjcCA9PT0gTG93TGluZTtcbn1cbmZ1bmN0aW9uIGlzUmVnRXhwSWRlbnRpZmllclBhcnQoY3ApIHtcbiAgICByZXR1cm4gKGlzSWRDb250aW51ZShjcCkgfHxcbiAgICAgICAgY3AgPT09IERvbGxhclNpZ24gfHxcbiAgICAgICAgY3AgPT09IExvd0xpbmUgfHxcbiAgICAgICAgY3AgPT09IFplcm9XaWR0aE5vbkpvaW5lciB8fFxuICAgICAgICBjcCA9PT0gWmVyb1dpZHRoSm9pbmVyKTtcbn1cbmZ1bmN0aW9uIGlzVW5pY29kZVByb3BlcnR5TmFtZUNoYXJhY3RlcihjcCkge1xuICAgIHJldHVybiBpc0xhdGluTGV0dGVyKGNwKSB8fCBjcCA9PT0gTG93TGluZTtcbn1cbmZ1bmN0aW9uIGlzVW5pY29kZVByb3BlcnR5VmFsdWVDaGFyYWN0ZXIoY3ApIHtcbiAgICByZXR1cm4gaXNVbmljb2RlUHJvcGVydHlOYW1lQ2hhcmFjdGVyKGNwKSB8fCBpc0RlY2ltYWxEaWdpdChjcCk7XG59XG5jbGFzcyBSZWdFeHBWYWxpZGF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fcmVhZGVyID0gbmV3IFJlYWRlcigpO1xuICAgICAgICB0aGlzLl91RmxhZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9uRmxhZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSAwO1xuICAgICAgICB0aGlzLl9sYXN0TWluVmFsdWUgPSAwO1xuICAgICAgICB0aGlzLl9sYXN0TWF4VmFsdWUgPSAwO1xuICAgICAgICB0aGlzLl9sYXN0U3RyVmFsdWUgPSBcIlwiO1xuICAgICAgICB0aGlzLl9sYXN0S2V5VmFsdWUgPSBcIlwiO1xuICAgICAgICB0aGlzLl9sYXN0VmFsVmFsdWUgPSBcIlwiO1xuICAgICAgICB0aGlzLl9sYXN0QXNzZXJ0aW9uSXNRdWFudGlmaWFibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbnVtQ2FwdHVyaW5nUGFyZW5zID0gMDtcbiAgICAgICAgdGhpcy5fZ3JvdXBOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5fYmFja3JlZmVyZW5jZU5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB9XG4gICAgdmFsaWRhdGVMaXRlcmFsKHNvdXJjZSwgc3RhcnQgPSAwLCBlbmQgPSBzb3VyY2UubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX3VGbGFnID0gdGhpcy5fbkZsYWcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXNldChzb3VyY2UsIHN0YXJ0LCBlbmQpO1xuICAgICAgICB0aGlzLm9uTGl0ZXJhbEVudGVyKHN0YXJ0KTtcbiAgICAgICAgaWYgKHRoaXMuZWF0KFNvbGlkdXMpICYmIHRoaXMuZWF0UmVnRXhwQm9keSgpICYmIHRoaXMuZWF0KFNvbGlkdXMpKSB7XG4gICAgICAgICAgICBjb25zdCBmbGFnU3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICAgICAgY29uc3QgdUZsYWcgPSBzb3VyY2UuaW5jbHVkZXMoXCJ1XCIsIGZsYWdTdGFydCk7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlRmxhZ3Moc291cmNlLCBmbGFnU3RhcnQsIGVuZCk7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlUGF0dGVybihzb3VyY2UsIHN0YXJ0ICsgMSwgZmxhZ1N0YXJ0IC0gMSwgdUZsYWcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0YXJ0ID49IGVuZCkge1xuICAgICAgICAgICAgdGhpcy5yYWlzZShcIkVtcHR5XCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYyA9IFN0cmluZy5mcm9tQ29kZVBvaW50KHRoaXMuY3VycmVudENvZGVQb2ludCk7XG4gICAgICAgICAgICB0aGlzLnJhaXNlKGBVbmV4cGVjdGVkIGNoYXJhY3RlciAnJHtjfSdgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uTGl0ZXJhbExlYXZlKHN0YXJ0LCBlbmQpO1xuICAgIH1cbiAgICB2YWxpZGF0ZUZsYWdzKHNvdXJjZSwgc3RhcnQgPSAwLCBlbmQgPSBzb3VyY2UubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nRmxhZ3MgPSBuZXcgU2V0KCk7XG4gICAgICAgIGxldCBnbG9iYWwgPSBmYWxzZTtcbiAgICAgICAgbGV0IGlnbm9yZUNhc2UgPSBmYWxzZTtcbiAgICAgICAgbGV0IG11bHRpbGluZSA9IGZhbHNlO1xuICAgICAgICBsZXQgc3RpY2t5ID0gZmFsc2U7XG4gICAgICAgIGxldCB1bmljb2RlID0gZmFsc2U7XG4gICAgICAgIGxldCBkb3RBbGwgPSBmYWxzZTtcbiAgICAgICAgbGV0IGhhc0luZGljZXMgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGZsYWcgPSBzb3VyY2UuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmIChleGlzdGluZ0ZsYWdzLmhhcyhmbGFnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmFpc2UoYER1cGxpY2F0ZWQgZmxhZyAnJHtzb3VyY2VbaV19J2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXhpc3RpbmdGbGFncy5hZGQoZmxhZyk7XG4gICAgICAgICAgICBpZiAoZmxhZyA9PT0gTGF0aW5TbWFsbExldHRlckcpIHtcbiAgICAgICAgICAgICAgICBnbG9iYWwgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZmxhZyA9PT0gTGF0aW5TbWFsbExldHRlckkpIHtcbiAgICAgICAgICAgICAgICBpZ25vcmVDYXNlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZsYWcgPT09IExhdGluU21hbGxMZXR0ZXJNKSB7XG4gICAgICAgICAgICAgICAgbXVsdGlsaW5lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZsYWcgPT09IExhdGluU21hbGxMZXR0ZXJVICYmIHRoaXMuZWNtYVZlcnNpb24gPj0gMjAxNSkge1xuICAgICAgICAgICAgICAgIHVuaWNvZGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZmxhZyA9PT0gTGF0aW5TbWFsbExldHRlclkgJiYgdGhpcy5lY21hVmVyc2lvbiA+PSAyMDE1KSB7XG4gICAgICAgICAgICAgICAgc3RpY2t5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZsYWcgPT09IExhdGluU21hbGxMZXR0ZXJTICYmIHRoaXMuZWNtYVZlcnNpb24gPj0gMjAxOCkge1xuICAgICAgICAgICAgICAgIGRvdEFsbCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmbGFnID09PSBMYXRpblNtYWxsTGV0dGVyRCAmJiB0aGlzLmVjbWFWZXJzaW9uID49IDIwMjIpIHtcbiAgICAgICAgICAgICAgICBoYXNJbmRpY2VzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucmFpc2UoYEludmFsaWQgZmxhZyAnJHtzb3VyY2VbaV19J2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMub25GbGFncyhzdGFydCwgZW5kLCBnbG9iYWwsIGlnbm9yZUNhc2UsIG11bHRpbGluZSwgdW5pY29kZSwgc3RpY2t5LCBkb3RBbGwsIGhhc0luZGljZXMpO1xuICAgIH1cbiAgICB2YWxpZGF0ZVBhdHRlcm4oc291cmNlLCBzdGFydCA9IDAsIGVuZCA9IHNvdXJjZS5sZW5ndGgsIHVGbGFnID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5fdUZsYWcgPSB1RmxhZyAmJiB0aGlzLmVjbWFWZXJzaW9uID49IDIwMTU7XG4gICAgICAgIHRoaXMuX25GbGFnID0gdUZsYWcgJiYgdGhpcy5lY21hVmVyc2lvbiA+PSAyMDE4O1xuICAgICAgICB0aGlzLnJlc2V0KHNvdXJjZSwgc3RhcnQsIGVuZCk7XG4gICAgICAgIHRoaXMuY29uc3VtZVBhdHRlcm4oKTtcbiAgICAgICAgaWYgKCF0aGlzLl9uRmxhZyAmJlxuICAgICAgICAgICAgdGhpcy5lY21hVmVyc2lvbiA+PSAyMDE4ICYmXG4gICAgICAgICAgICB0aGlzLl9ncm91cE5hbWVzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9uRmxhZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnJld2luZChzdGFydCk7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVQYXR0ZXJuKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHN0cmljdCgpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5fb3B0aW9ucy5zdHJpY3QgfHwgdGhpcy5fdUZsYWcpO1xuICAgIH1cbiAgICBnZXQgZWNtYVZlcnNpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zLmVjbWFWZXJzaW9uIHx8IDIwMjI7XG4gICAgfVxuICAgIG9uTGl0ZXJhbEVudGVyKHN0YXJ0KSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm9uTGl0ZXJhbEVudGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm9uTGl0ZXJhbEVudGVyKHN0YXJ0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkxpdGVyYWxMZWF2ZShzdGFydCwgZW5kKSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm9uTGl0ZXJhbExlYXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm9uTGl0ZXJhbExlYXZlKHN0YXJ0LCBlbmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uRmxhZ3Moc3RhcnQsIGVuZCwgZ2xvYmFsLCBpZ25vcmVDYXNlLCBtdWx0aWxpbmUsIHVuaWNvZGUsIHN0aWNreSwgZG90QWxsLCBoYXNJbmRpY2VzKSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm9uRmxhZ3MpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25GbGFncyhzdGFydCwgZW5kLCBnbG9iYWwsIGlnbm9yZUNhc2UsIG11bHRpbGluZSwgdW5pY29kZSwgc3RpY2t5LCBkb3RBbGwsIGhhc0luZGljZXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uUGF0dGVybkVudGVyKHN0YXJ0KSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm9uUGF0dGVybkVudGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm9uUGF0dGVybkVudGVyKHN0YXJ0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblBhdHRlcm5MZWF2ZShzdGFydCwgZW5kKSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm9uUGF0dGVybkxlYXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm9uUGF0dGVybkxlYXZlKHN0YXJ0LCBlbmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uRGlzanVuY3Rpb25FbnRlcihzdGFydCkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5vbkRpc2p1bmN0aW9uRW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25EaXNqdW5jdGlvbkVudGVyKHN0YXJ0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkRpc2p1bmN0aW9uTGVhdmUoc3RhcnQsIGVuZCkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5vbkRpc2p1bmN0aW9uTGVhdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25EaXNqdW5jdGlvbkxlYXZlKHN0YXJ0LCBlbmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQWx0ZXJuYXRpdmVFbnRlcihzdGFydCwgaW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMub25BbHRlcm5hdGl2ZUVudGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm9uQWx0ZXJuYXRpdmVFbnRlcihzdGFydCwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQWx0ZXJuYXRpdmVMZWF2ZShzdGFydCwgZW5kLCBpbmRleCkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5vbkFsdGVybmF0aXZlTGVhdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25BbHRlcm5hdGl2ZUxlYXZlKHN0YXJ0LCBlbmQsIGluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkdyb3VwRW50ZXIoc3RhcnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMub25Hcm91cEVudGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm9uR3JvdXBFbnRlcihzdGFydCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25Hcm91cExlYXZlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMub25Hcm91cExlYXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm9uR3JvdXBMZWF2ZShzdGFydCwgZW5kKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkNhcHR1cmluZ0dyb3VwRW50ZXIoc3RhcnQsIG5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMub25DYXB0dXJpbmdHcm91cEVudGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm9uQ2FwdHVyaW5nR3JvdXBFbnRlcihzdGFydCwgbmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25DYXB0dXJpbmdHcm91cExlYXZlKHN0YXJ0LCBlbmQsIG5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMub25DYXB0dXJpbmdHcm91cExlYXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm9uQ2FwdHVyaW5nR3JvdXBMZWF2ZShzdGFydCwgZW5kLCBuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblF1YW50aWZpZXIoc3RhcnQsIGVuZCwgbWluLCBtYXgsIGdyZWVkeSkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5vblF1YW50aWZpZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25RdWFudGlmaWVyKHN0YXJ0LCBlbmQsIG1pbiwgbWF4LCBncmVlZHkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uTG9va2Fyb3VuZEFzc2VydGlvbkVudGVyKHN0YXJ0LCBraW5kLCBuZWdhdGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMub25Mb29rYXJvdW5kQXNzZXJ0aW9uRW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25Mb29rYXJvdW5kQXNzZXJ0aW9uRW50ZXIoc3RhcnQsIGtpbmQsIG5lZ2F0ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25Mb29rYXJvdW5kQXNzZXJ0aW9uTGVhdmUoc3RhcnQsIGVuZCwga2luZCwgbmVnYXRlKSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm9uTG9va2Fyb3VuZEFzc2VydGlvbkxlYXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm9uTG9va2Fyb3VuZEFzc2VydGlvbkxlYXZlKHN0YXJ0LCBlbmQsIGtpbmQsIG5lZ2F0ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25FZGdlQXNzZXJ0aW9uKHN0YXJ0LCBlbmQsIGtpbmQpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMub25FZGdlQXNzZXJ0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm9uRWRnZUFzc2VydGlvbihzdGFydCwgZW5kLCBraW5kKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbldvcmRCb3VuZGFyeUFzc2VydGlvbihzdGFydCwgZW5kLCBraW5kLCBuZWdhdGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMub25Xb3JkQm91bmRhcnlBc3NlcnRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25Xb3JkQm91bmRhcnlBc3NlcnRpb24oc3RhcnQsIGVuZCwga2luZCwgbmVnYXRlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkFueUNoYXJhY3RlclNldChzdGFydCwgZW5kLCBraW5kKSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm9uQW55Q2hhcmFjdGVyU2V0KSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm9uQW55Q2hhcmFjdGVyU2V0KHN0YXJ0LCBlbmQsIGtpbmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uRXNjYXBlQ2hhcmFjdGVyU2V0KHN0YXJ0LCBlbmQsIGtpbmQsIG5lZ2F0ZSkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5vbkVzY2FwZUNoYXJhY3RlclNldCkge1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5vbkVzY2FwZUNoYXJhY3RlclNldChzdGFydCwgZW5kLCBraW5kLCBuZWdhdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uVW5pY29kZVByb3BlcnR5Q2hhcmFjdGVyU2V0KHN0YXJ0LCBlbmQsIGtpbmQsIGtleSwgdmFsdWUsIG5lZ2F0ZSkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5vblVuaWNvZGVQcm9wZXJ0eUNoYXJhY3RlclNldCkge1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5vblVuaWNvZGVQcm9wZXJ0eUNoYXJhY3RlclNldChzdGFydCwgZW5kLCBraW5kLCBrZXksIHZhbHVlLCBuZWdhdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQ2hhcmFjdGVyKHN0YXJ0LCBlbmQsIHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm9uQ2hhcmFjdGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm9uQ2hhcmFjdGVyKHN0YXJ0LCBlbmQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkJhY2tyZWZlcmVuY2Uoc3RhcnQsIGVuZCwgcmVmKSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm9uQmFja3JlZmVyZW5jZSkge1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5vbkJhY2tyZWZlcmVuY2Uoc3RhcnQsIGVuZCwgcmVmKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkNoYXJhY3RlckNsYXNzRW50ZXIoc3RhcnQsIG5lZ2F0ZSkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5vbkNoYXJhY3RlckNsYXNzRW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25DaGFyYWN0ZXJDbGFzc0VudGVyKHN0YXJ0LCBuZWdhdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQ2hhcmFjdGVyQ2xhc3NMZWF2ZShzdGFydCwgZW5kLCBuZWdhdGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMub25DaGFyYWN0ZXJDbGFzc0xlYXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm9uQ2hhcmFjdGVyQ2xhc3NMZWF2ZShzdGFydCwgZW5kLCBuZWdhdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQ2hhcmFjdGVyQ2xhc3NSYW5nZShzdGFydCwgZW5kLCBtaW4sIG1heCkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5vbkNoYXJhY3RlckNsYXNzUmFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25DaGFyYWN0ZXJDbGFzc1JhbmdlKHN0YXJ0LCBlbmQsIG1pbiwgbWF4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgc291cmNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVhZGVyLnNvdXJjZTtcbiAgICB9XG4gICAgZ2V0IGluZGV4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVhZGVyLmluZGV4O1xuICAgIH1cbiAgICBnZXQgY3VycmVudENvZGVQb2ludCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWRlci5jdXJyZW50Q29kZVBvaW50O1xuICAgIH1cbiAgICBnZXQgbmV4dENvZGVQb2ludCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWRlci5uZXh0Q29kZVBvaW50O1xuICAgIH1cbiAgICBnZXQgbmV4dENvZGVQb2ludDIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWFkZXIubmV4dENvZGVQb2ludDI7XG4gICAgfVxuICAgIGdldCBuZXh0Q29kZVBvaW50MygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWRlci5uZXh0Q29kZVBvaW50MztcbiAgICB9XG4gICAgcmVzZXQoc291cmNlLCBzdGFydCwgZW5kKSB7XG4gICAgICAgIHRoaXMuX3JlYWRlci5yZXNldChzb3VyY2UsIHN0YXJ0LCBlbmQsIHRoaXMuX3VGbGFnKTtcbiAgICB9XG4gICAgcmV3aW5kKGluZGV4KSB7XG4gICAgICAgIHRoaXMuX3JlYWRlci5yZXdpbmQoaW5kZXgpO1xuICAgIH1cbiAgICBhZHZhbmNlKCkge1xuICAgICAgICB0aGlzLl9yZWFkZXIuYWR2YW5jZSgpO1xuICAgIH1cbiAgICBlYXQoY3ApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWRlci5lYXQoY3ApO1xuICAgIH1cbiAgICBlYXQyKGNwMSwgY3AyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWFkZXIuZWF0MihjcDEsIGNwMik7XG4gICAgfVxuICAgIGVhdDMoY3AxLCBjcDIsIGNwMykge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVhZGVyLmVhdDMoY3AxLCBjcDIsIGNwMyk7XG4gICAgfVxuICAgIHJhaXNlKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJlZ0V4cFN5bnRheEVycm9yKHRoaXMuc291cmNlLCB0aGlzLl91RmxhZywgdGhpcy5pbmRleCwgbWVzc2FnZSk7XG4gICAgfVxuICAgIGVhdFJlZ0V4cEJvZHkoKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgbGV0IGluQ2xhc3MgPSBmYWxzZTtcbiAgICAgICAgbGV0IGVzY2FwZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgY29uc3QgY3AgPSB0aGlzLmN1cnJlbnRDb2RlUG9pbnQ7XG4gICAgICAgICAgICBpZiAoY3AgPT09IC0xIHx8IGlzTGluZVRlcm1pbmF0b3IoY3ApKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2luZCA9IGluQ2xhc3MgPyBcImNoYXJhY3RlciBjbGFzc1wiIDogXCJyZWd1bGFyIGV4cHJlc3Npb25cIjtcbiAgICAgICAgICAgICAgICB0aGlzLnJhaXNlKGBVbnRlcm1pbmF0ZWQgJHtraW5kfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVzY2FwZWQpIHtcbiAgICAgICAgICAgICAgICBlc2NhcGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjcCA9PT0gUmV2ZXJzZVNvbGlkdXMpIHtcbiAgICAgICAgICAgICAgICBlc2NhcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNwID09PSBMZWZ0U3F1YXJlQnJhY2tldCkge1xuICAgICAgICAgICAgICAgIGluQ2xhc3MgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY3AgPT09IFJpZ2h0U3F1YXJlQnJhY2tldCkge1xuICAgICAgICAgICAgICAgIGluQ2xhc3MgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChjcCA9PT0gU29saWR1cyAmJiAhaW5DbGFzcykgfHxcbiAgICAgICAgICAgICAgICAoY3AgPT09IEFzdGVyaXNrICYmIHRoaXMuaW5kZXggPT09IHN0YXJ0KSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXggIT09IHN0YXJ0O1xuICAgIH1cbiAgICBjb25zdW1lUGF0dGVybigpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICB0aGlzLl9udW1DYXB0dXJpbmdQYXJlbnMgPSB0aGlzLmNvdW50Q2FwdHVyaW5nUGFyZW5zKCk7XG4gICAgICAgIHRoaXMuX2dyb3VwTmFtZXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fYmFja3JlZmVyZW5jZU5hbWVzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMub25QYXR0ZXJuRW50ZXIoc3RhcnQpO1xuICAgICAgICB0aGlzLmNvbnN1bWVEaXNqdW5jdGlvbigpO1xuICAgICAgICBjb25zdCBjcCA9IHRoaXMuY3VycmVudENvZGVQb2ludDtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENvZGVQb2ludCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGlmIChjcCA9PT0gUmlnaHRQYXJlbnRoZXNpcykge1xuICAgICAgICAgICAgICAgIHRoaXMucmFpc2UoXCJVbm1hdGNoZWQgJyknXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNwID09PSBSZXZlcnNlU29saWR1cykge1xuICAgICAgICAgICAgICAgIHRoaXMucmFpc2UoXCJcXFxcIGF0IGVuZCBvZiBwYXR0ZXJuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNwID09PSBSaWdodFNxdWFyZUJyYWNrZXQgfHwgY3AgPT09IFJpZ2h0Q3VybHlCcmFja2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYWlzZShcIkxvbmUgcXVhbnRpZmllciBicmFja2V0c1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGMgPSBTdHJpbmcuZnJvbUNvZGVQb2ludChjcCk7XG4gICAgICAgICAgICB0aGlzLnJhaXNlKGBVbmV4cGVjdGVkIGNoYXJhY3RlciAnJHtjfSdgKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgdGhpcy5fYmFja3JlZmVyZW5jZU5hbWVzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2dyb3VwTmFtZXMuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYWlzZShcIkludmFsaWQgbmFtZWQgY2FwdHVyZSByZWZlcmVuY2VkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMub25QYXR0ZXJuTGVhdmUoc3RhcnQsIHRoaXMuaW5kZXgpO1xuICAgIH1cbiAgICBjb3VudENhcHR1cmluZ1BhcmVucygpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICBsZXQgaW5DbGFzcyA9IGZhbHNlO1xuICAgICAgICBsZXQgZXNjYXBlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBsZXQgY3AgPSAwO1xuICAgICAgICB3aGlsZSAoKGNwID0gdGhpcy5jdXJyZW50Q29kZVBvaW50KSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGlmIChlc2NhcGVkKSB7XG4gICAgICAgICAgICAgICAgZXNjYXBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY3AgPT09IFJldmVyc2VTb2xpZHVzKSB7XG4gICAgICAgICAgICAgICAgZXNjYXBlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjcCA9PT0gTGVmdFNxdWFyZUJyYWNrZXQpIHtcbiAgICAgICAgICAgICAgICBpbkNsYXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNwID09PSBSaWdodFNxdWFyZUJyYWNrZXQpIHtcbiAgICAgICAgICAgICAgICBpbkNsYXNzID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjcCA9PT0gTGVmdFBhcmVudGhlc2lzICYmXG4gICAgICAgICAgICAgICAgIWluQ2xhc3MgJiZcbiAgICAgICAgICAgICAgICAodGhpcy5uZXh0Q29kZVBvaW50ICE9PSBRdWVzdGlvbk1hcmsgfHxcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMubmV4dENvZGVQb2ludDIgPT09IExlc3NUaGFuU2lnbiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0Q29kZVBvaW50MyAhPT0gRXF1YWxzU2lnbiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0Q29kZVBvaW50MyAhPT0gRXhjbGFtYXRpb25NYXJrKSkpIHtcbiAgICAgICAgICAgICAgICBjb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXdpbmQoc3RhcnQpO1xuICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgfVxuICAgIGNvbnN1bWVEaXNqdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIHRoaXMub25EaXNqdW5jdGlvbkVudGVyKHN0YXJ0KTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdGhpcy5jb25zdW1lQWx0ZXJuYXRpdmUoaSsrKTtcbiAgICAgICAgfSB3aGlsZSAodGhpcy5lYXQoVmVydGljYWxMaW5lKSk7XG4gICAgICAgIGlmICh0aGlzLmNvbnN1bWVRdWFudGlmaWVyKHRydWUpKSB7XG4gICAgICAgICAgICB0aGlzLnJhaXNlKFwiTm90aGluZyB0byByZXBlYXRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZWF0KExlZnRDdXJseUJyYWNrZXQpKSB7XG4gICAgICAgICAgICB0aGlzLnJhaXNlKFwiTG9uZSBxdWFudGlmaWVyIGJyYWNrZXRzXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub25EaXNqdW5jdGlvbkxlYXZlKHN0YXJ0LCB0aGlzLmluZGV4KTtcbiAgICB9XG4gICAgY29uc3VtZUFsdGVybmF0aXZlKGkpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICB0aGlzLm9uQWx0ZXJuYXRpdmVFbnRlcihzdGFydCwgaSk7XG4gICAgICAgIHdoaWxlICh0aGlzLmN1cnJlbnRDb2RlUG9pbnQgIT09IC0xICYmIHRoaXMuY29uc3VtZVRlcm0oKSkge1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub25BbHRlcm5hdGl2ZUxlYXZlKHN0YXJ0LCB0aGlzLmluZGV4LCBpKTtcbiAgICB9XG4gICAgY29uc3VtZVRlcm0oKSB7XG4gICAgICAgIGlmICh0aGlzLl91RmxhZyB8fCB0aGlzLnN0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLmNvbnN1bWVBc3NlcnRpb24oKSB8fFxuICAgICAgICAgICAgICAgICh0aGlzLmNvbnN1bWVBdG9tKCkgJiYgdGhpcy5jb25zdW1lT3B0aW9uYWxRdWFudGlmaWVyKCkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCh0aGlzLmNvbnN1bWVBc3NlcnRpb24oKSAmJlxuICAgICAgICAgICAgKCF0aGlzLl9sYXN0QXNzZXJ0aW9uSXNRdWFudGlmaWFibGUgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVPcHRpb25hbFF1YW50aWZpZXIoKSkpIHx8XG4gICAgICAgICAgICAodGhpcy5jb25zdW1lRXh0ZW5kZWRBdG9tKCkgJiYgdGhpcy5jb25zdW1lT3B0aW9uYWxRdWFudGlmaWVyKCkpKTtcbiAgICB9XG4gICAgY29uc3VtZU9wdGlvbmFsUXVhbnRpZmllcigpIHtcbiAgICAgICAgdGhpcy5jb25zdW1lUXVhbnRpZmllcigpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3VtZUFzc2VydGlvbigpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICB0aGlzLl9sYXN0QXNzZXJ0aW9uSXNRdWFudGlmaWFibGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuZWF0KENpcmN1bWZsZXhBY2NlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLm9uRWRnZUFzc2VydGlvbihzdGFydCwgdGhpcy5pbmRleCwgXCJzdGFydFwiKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVhdChEb2xsYXJTaWduKSkge1xuICAgICAgICAgICAgdGhpcy5vbkVkZ2VBc3NlcnRpb24oc3RhcnQsIHRoaXMuaW5kZXgsIFwiZW5kXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZWF0MihSZXZlcnNlU29saWR1cywgTGF0aW5DYXBpdGFsTGV0dGVyQikpIHtcbiAgICAgICAgICAgIHRoaXMub25Xb3JkQm91bmRhcnlBc3NlcnRpb24oc3RhcnQsIHRoaXMuaW5kZXgsIFwid29yZFwiLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVhdDIoUmV2ZXJzZVNvbGlkdXMsIExhdGluU21hbGxMZXR0ZXJCKSkge1xuICAgICAgICAgICAgdGhpcy5vbldvcmRCb3VuZGFyeUFzc2VydGlvbihzdGFydCwgdGhpcy5pbmRleCwgXCJ3b3JkXCIsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVhdDIoTGVmdFBhcmVudGhlc2lzLCBRdWVzdGlvbk1hcmspKSB7XG4gICAgICAgICAgICBjb25zdCBsb29rYmVoaW5kID0gdGhpcy5lY21hVmVyc2lvbiA+PSAyMDE4ICYmIHRoaXMuZWF0KExlc3NUaGFuU2lnbik7XG4gICAgICAgICAgICBsZXQgbmVnYXRlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5lYXQoRXF1YWxzU2lnbikgfHwgKG5lZ2F0ZSA9IHRoaXMuZWF0KEV4Y2xhbWF0aW9uTWFyaykpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2luZCA9IGxvb2tiZWhpbmQgPyBcImxvb2tiZWhpbmRcIiA6IFwibG9va2FoZWFkXCI7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkxvb2thcm91bmRBc3NlcnRpb25FbnRlcihzdGFydCwga2luZCwgbmVnYXRlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVEaXNqdW5jdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5lYXQoUmlnaHRQYXJlbnRoZXNpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYWlzZShcIlVudGVybWluYXRlZCBncm91cFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdEFzc2VydGlvbklzUXVhbnRpZmlhYmxlID0gIWxvb2tiZWhpbmQgJiYgIXRoaXMuc3RyaWN0O1xuICAgICAgICAgICAgICAgIHRoaXMub25Mb29rYXJvdW5kQXNzZXJ0aW9uTGVhdmUoc3RhcnQsIHRoaXMuaW5kZXgsIGtpbmQsIG5lZ2F0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJld2luZChzdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdW1lUXVhbnRpZmllcihub0NvbnN1bWUgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGxldCBtaW4gPSAwO1xuICAgICAgICBsZXQgbWF4ID0gMDtcbiAgICAgICAgbGV0IGdyZWVkeSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5lYXQoQXN0ZXJpc2spKSB7XG4gICAgICAgICAgICBtaW4gPSAwO1xuICAgICAgICAgICAgbWF4ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZWF0KFBsdXNTaWduKSkge1xuICAgICAgICAgICAgbWluID0gMTtcbiAgICAgICAgICAgIG1heCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmVhdChRdWVzdGlvbk1hcmspKSB7XG4gICAgICAgICAgICBtaW4gPSAwO1xuICAgICAgICAgICAgbWF4ID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmVhdEJyYWNlZFF1YW50aWZpZXIobm9Db25zdW1lKSkge1xuICAgICAgICAgICAgbWluID0gdGhpcy5fbGFzdE1pblZhbHVlO1xuICAgICAgICAgICAgbWF4ID0gdGhpcy5fbGFzdE1heFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGdyZWVkeSA9ICF0aGlzLmVhdChRdWVzdGlvbk1hcmspO1xuICAgICAgICBpZiAoIW5vQ29uc3VtZSkge1xuICAgICAgICAgICAgdGhpcy5vblF1YW50aWZpZXIoc3RhcnQsIHRoaXMuaW5kZXgsIG1pbiwgbWF4LCBncmVlZHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlYXRCcmFjZWRRdWFudGlmaWVyKG5vRXJyb3IpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICBpZiAodGhpcy5lYXQoTGVmdEN1cmx5QnJhY2tldCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RNaW5WYWx1ZSA9IDA7XG4gICAgICAgICAgICB0aGlzLl9sYXN0TWF4VmFsdWUgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgICAgICBpZiAodGhpcy5lYXREZWNpbWFsRGlnaXRzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0TWluVmFsdWUgPSB0aGlzLl9sYXN0TWF4VmFsdWUgPSB0aGlzLl9sYXN0SW50VmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZWF0KENvbW1hKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sYXN0TWF4VmFsdWUgPSB0aGlzLmVhdERlY2ltYWxEaWdpdHMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLl9sYXN0SW50VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lYXQoUmlnaHRDdXJseUJyYWNrZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbm9FcnJvciAmJiB0aGlzLl9sYXN0TWF4VmFsdWUgPCB0aGlzLl9sYXN0TWluVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmFpc2UoXCJudW1iZXJzIG91dCBvZiBvcmRlciBpbiB7fSBxdWFudGlmaWVyXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbm9FcnJvciAmJiAodGhpcy5fdUZsYWcgfHwgdGhpcy5zdHJpY3QpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYWlzZShcIkluY29tcGxldGUgcXVhbnRpZmllclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmV3aW5kKHN0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN1bWVBdG9tKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuY29uc3VtZVBhdHRlcm5DaGFyYWN0ZXIoKSB8fFxuICAgICAgICAgICAgdGhpcy5jb25zdW1lRG90KCkgfHxcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZVJldmVyc2VTb2xpZHVzQXRvbUVzY2FwZSgpIHx8XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyYWN0ZXJDbGFzcygpIHx8XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVVbmNhcHR1cmluZ0dyb3VwKCkgfHxcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNhcHR1cmluZ0dyb3VwKCkpO1xuICAgIH1cbiAgICBjb25zdW1lRG90KCkge1xuICAgICAgICBpZiAodGhpcy5lYXQoRnVsbFN0b3ApKSB7XG4gICAgICAgICAgICB0aGlzLm9uQW55Q2hhcmFjdGVyU2V0KHRoaXMuaW5kZXggLSAxLCB0aGlzLmluZGV4LCBcImFueVwiKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3VtZVJldmVyc2VTb2xpZHVzQXRvbUVzY2FwZSgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICBpZiAodGhpcy5lYXQoUmV2ZXJzZVNvbGlkdXMpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25zdW1lQXRvbUVzY2FwZSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJld2luZChzdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdW1lVW5jYXB0dXJpbmdHcm91cCgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICBpZiAodGhpcy5lYXQzKExlZnRQYXJlbnRoZXNpcywgUXVlc3Rpb25NYXJrLCBDb2xvbikpIHtcbiAgICAgICAgICAgIHRoaXMub25Hcm91cEVudGVyKHN0YXJ0KTtcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZURpc2p1bmN0aW9uKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZWF0KFJpZ2h0UGFyZW50aGVzaXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYWlzZShcIlVudGVybWluYXRlZCBncm91cFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub25Hcm91cExlYXZlKHN0YXJ0LCB0aGlzLmluZGV4KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3VtZUNhcHR1cmluZ0dyb3VwKCkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGlmICh0aGlzLmVhdChMZWZ0UGFyZW50aGVzaXMpKSB7XG4gICAgICAgICAgICBsZXQgbmFtZSA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5lY21hVmVyc2lvbiA+PSAyMDE4KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uc3VtZUdyb3VwU3BlY2lmaWVyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IHRoaXMuX2xhc3RTdHJWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnJlbnRDb2RlUG9pbnQgPT09IFF1ZXN0aW9uTWFyaykge1xuICAgICAgICAgICAgICAgIHRoaXMucmFpc2UoXCJJbnZhbGlkIGdyb3VwXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vbkNhcHR1cmluZ0dyb3VwRW50ZXIoc3RhcnQsIG5hbWUpO1xuICAgICAgICAgICAgdGhpcy5jb25zdW1lRGlzanVuY3Rpb24oKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5lYXQoUmlnaHRQYXJlbnRoZXNpcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJhaXNlKFwiVW50ZXJtaW5hdGVkIGdyb3VwXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vbkNhcHR1cmluZ0dyb3VwTGVhdmUoc3RhcnQsIHRoaXMuaW5kZXgsIG5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdW1lRXh0ZW5kZWRBdG9tKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuY29uc3VtZURvdCgpIHx8XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVSZXZlcnNlU29saWR1c0F0b21Fc2NhcGUoKSB8fFxuICAgICAgICAgICAgdGhpcy5jb25zdW1lUmV2ZXJzZVNvbGlkdXNGb2xsb3dlZEJ5QygpIHx8XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVDaGFyYWN0ZXJDbGFzcygpIHx8XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVVbmNhcHR1cmluZ0dyb3VwKCkgfHxcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNhcHR1cmluZ0dyb3VwKCkgfHxcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUludmFsaWRCcmFjZWRRdWFudGlmaWVyKCkgfHxcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUV4dGVuZGVkUGF0dGVybkNoYXJhY3RlcigpKTtcbiAgICB9XG4gICAgY29uc3VtZVJldmVyc2VTb2xpZHVzRm9sbG93ZWRCeUMoKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENvZGVQb2ludCA9PT0gUmV2ZXJzZVNvbGlkdXMgJiZcbiAgICAgICAgICAgIHRoaXMubmV4dENvZGVQb2ludCA9PT0gTGF0aW5TbWFsbExldHRlckMpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IHRoaXMuY3VycmVudENvZGVQb2ludDtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAgICAgdGhpcy5vbkNoYXJhY3RlcihzdGFydCwgdGhpcy5pbmRleCwgUmV2ZXJzZVNvbGlkdXMpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdW1lSW52YWxpZEJyYWNlZFF1YW50aWZpZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmVhdEJyYWNlZFF1YW50aWZpZXIodHJ1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMucmFpc2UoXCJOb3RoaW5nIHRvIHJlcGVhdFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN1bWVQYXR0ZXJuQ2hhcmFjdGVyKCkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGNvbnN0IGNwID0gdGhpcy5jdXJyZW50Q29kZVBvaW50O1xuICAgICAgICBpZiAoY3AgIT09IC0xICYmICFpc1N5bnRheENoYXJhY3RlcihjcCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAgICAgdGhpcy5vbkNoYXJhY3RlcihzdGFydCwgdGhpcy5pbmRleCwgY3ApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdW1lRXh0ZW5kZWRQYXR0ZXJuQ2hhcmFjdGVyKCkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGNvbnN0IGNwID0gdGhpcy5jdXJyZW50Q29kZVBvaW50O1xuICAgICAgICBpZiAoY3AgIT09IC0xICYmXG4gICAgICAgICAgICBjcCAhPT0gQ2lyY3VtZmxleEFjY2VudCAmJlxuICAgICAgICAgICAgY3AgIT09IERvbGxhclNpZ24gJiZcbiAgICAgICAgICAgIGNwICE9PSBSZXZlcnNlU29saWR1cyAmJlxuICAgICAgICAgICAgY3AgIT09IEZ1bGxTdG9wICYmXG4gICAgICAgICAgICBjcCAhPT0gQXN0ZXJpc2sgJiZcbiAgICAgICAgICAgIGNwICE9PSBQbHVzU2lnbiAmJlxuICAgICAgICAgICAgY3AgIT09IFF1ZXN0aW9uTWFyayAmJlxuICAgICAgICAgICAgY3AgIT09IExlZnRQYXJlbnRoZXNpcyAmJlxuICAgICAgICAgICAgY3AgIT09IFJpZ2h0UGFyZW50aGVzaXMgJiZcbiAgICAgICAgICAgIGNwICE9PSBMZWZ0U3F1YXJlQnJhY2tldCAmJlxuICAgICAgICAgICAgY3AgIT09IFZlcnRpY2FsTGluZSkge1xuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhcmFjdGVyKHN0YXJ0LCB0aGlzLmluZGV4LCBjcCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN1bWVHcm91cFNwZWNpZmllcigpIHtcbiAgICAgICAgaWYgKHRoaXMuZWF0KFF1ZXN0aW9uTWFyaykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVhdEdyb3VwTmFtZSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9ncm91cE5hbWVzLmhhcyh0aGlzLl9sYXN0U3RyVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dyb3VwTmFtZXMuYWRkKHRoaXMuX2xhc3RTdHJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJhaXNlKFwiRHVwbGljYXRlIGNhcHR1cmUgZ3JvdXAgbmFtZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmFpc2UoXCJJbnZhbGlkIGdyb3VwXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3VtZUF0b21Fc2NhcGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnN1bWVCYWNrcmVmZXJlbmNlKCkgfHxcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXJhY3RlckNsYXNzRXNjYXBlKCkgfHxcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXJhY3RlckVzY2FwZSgpIHx8XG4gICAgICAgICAgICAodGhpcy5fbkZsYWcgJiYgdGhpcy5jb25zdW1lS0dyb3VwTmFtZSgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RyaWN0IHx8IHRoaXMuX3VGbGFnKSB7XG4gICAgICAgICAgICB0aGlzLnJhaXNlKFwiSW52YWxpZCBlc2NhcGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdW1lQmFja3JlZmVyZW5jZSgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICBpZiAodGhpcy5lYXREZWNpbWFsRXNjYXBlKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0aGlzLl9sYXN0SW50VmFsdWU7XG4gICAgICAgICAgICBpZiAobiA8PSB0aGlzLl9udW1DYXB0dXJpbmdQYXJlbnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQmFja3JlZmVyZW5jZShzdGFydCAtIDEsIHRoaXMuaW5kZXgsIG4pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3RyaWN0IHx8IHRoaXMuX3VGbGFnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYWlzZShcIkludmFsaWQgZXNjYXBlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXdpbmQoc3RhcnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3VtZUNoYXJhY3RlckNsYXNzRXNjYXBlKCkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGlmICh0aGlzLmVhdChMYXRpblNtYWxsTGV0dGVyRCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IC0xO1xuICAgICAgICAgICAgdGhpcy5vbkVzY2FwZUNoYXJhY3RlclNldChzdGFydCAtIDEsIHRoaXMuaW5kZXgsIFwiZGlnaXRcIiwgZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZWF0KExhdGluQ2FwaXRhbExldHRlckQpKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSAtMTtcbiAgICAgICAgICAgIHRoaXMub25Fc2NhcGVDaGFyYWN0ZXJTZXQoc3RhcnQgLSAxLCB0aGlzLmluZGV4LCBcImRpZ2l0XCIsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZWF0KExhdGluU21hbGxMZXR0ZXJTKSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gLTE7XG4gICAgICAgICAgICB0aGlzLm9uRXNjYXBlQ2hhcmFjdGVyU2V0KHN0YXJ0IC0gMSwgdGhpcy5pbmRleCwgXCJzcGFjZVwiLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lYXQoTGF0aW5DYXBpdGFsTGV0dGVyUykpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IC0xO1xuICAgICAgICAgICAgdGhpcy5vbkVzY2FwZUNoYXJhY3RlclNldChzdGFydCAtIDEsIHRoaXMuaW5kZXgsIFwic3BhY2VcIiwgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lYXQoTGF0aW5TbWFsbExldHRlclcpKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSAtMTtcbiAgICAgICAgICAgIHRoaXMub25Fc2NhcGVDaGFyYWN0ZXJTZXQoc3RhcnQgLSAxLCB0aGlzLmluZGV4LCBcIndvcmRcIiwgZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZWF0KExhdGluQ2FwaXRhbExldHRlclcpKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSAtMTtcbiAgICAgICAgICAgIHRoaXMub25Fc2NhcGVDaGFyYWN0ZXJTZXQoc3RhcnQgLSAxLCB0aGlzLmluZGV4LCBcIndvcmRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbmVnYXRlID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl91RmxhZyAmJlxuICAgICAgICAgICAgdGhpcy5lY21hVmVyc2lvbiA+PSAyMDE4ICYmXG4gICAgICAgICAgICAodGhpcy5lYXQoTGF0aW5TbWFsbExldHRlclApIHx8XG4gICAgICAgICAgICAgICAgKG5lZ2F0ZSA9IHRoaXMuZWF0KExhdGluQ2FwaXRhbExldHRlclApKSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IC0xO1xuICAgICAgICAgICAgaWYgKHRoaXMuZWF0KExlZnRDdXJseUJyYWNrZXQpICYmXG4gICAgICAgICAgICAgICAgdGhpcy5lYXRVbmljb2RlUHJvcGVydHlWYWx1ZUV4cHJlc3Npb24oKSAmJlxuICAgICAgICAgICAgICAgIHRoaXMuZWF0KFJpZ2h0Q3VybHlCcmFja2V0KSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25Vbmljb2RlUHJvcGVydHlDaGFyYWN0ZXJTZXQoc3RhcnQgLSAxLCB0aGlzLmluZGV4LCBcInByb3BlcnR5XCIsIHRoaXMuX2xhc3RLZXlWYWx1ZSwgdGhpcy5fbGFzdFZhbFZhbHVlIHx8IG51bGwsIG5lZ2F0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJhaXNlKFwiSW52YWxpZCBwcm9wZXJ0eSBuYW1lXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3VtZUNoYXJhY3RlckVzY2FwZSgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICBpZiAodGhpcy5lYXRDb250cm9sRXNjYXBlKCkgfHxcbiAgICAgICAgICAgIHRoaXMuZWF0Q0NvbnRyb2xMZXR0ZXIoKSB8fFxuICAgICAgICAgICAgdGhpcy5lYXRaZXJvKCkgfHxcbiAgICAgICAgICAgIHRoaXMuZWF0SGV4RXNjYXBlU2VxdWVuY2UoKSB8fFxuICAgICAgICAgICAgdGhpcy5lYXRSZWdFeHBVbmljb2RlRXNjYXBlU2VxdWVuY2UoKSB8fFxuICAgICAgICAgICAgKCF0aGlzLnN0cmljdCAmJlxuICAgICAgICAgICAgICAgICF0aGlzLl91RmxhZyAmJlxuICAgICAgICAgICAgICAgIHRoaXMuZWF0TGVnYWN5T2N0YWxFc2NhcGVTZXF1ZW5jZSgpKSB8fFxuICAgICAgICAgICAgdGhpcy5lYXRJZGVudGl0eUVzY2FwZSgpKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhcmFjdGVyKHN0YXJ0IC0gMSwgdGhpcy5pbmRleCwgdGhpcy5fbGFzdEludFZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3VtZUtHcm91cE5hbWUoKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgaWYgKHRoaXMuZWF0KExhdGluU21hbGxMZXR0ZXJLKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZWF0R3JvdXBOYW1lKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBncm91cE5hbWUgPSB0aGlzLl9sYXN0U3RyVmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fYmFja3JlZmVyZW5jZU5hbWVzLmFkZChncm91cE5hbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMub25CYWNrcmVmZXJlbmNlKHN0YXJ0IC0gMSwgdGhpcy5pbmRleCwgZ3JvdXBOYW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmFpc2UoXCJJbnZhbGlkIG5hbWVkIHJlZmVyZW5jZVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN1bWVDaGFyYWN0ZXJDbGFzcygpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICBpZiAodGhpcy5lYXQoTGVmdFNxdWFyZUJyYWNrZXQpKSB7XG4gICAgICAgICAgICBjb25zdCBuZWdhdGUgPSB0aGlzLmVhdChDaXJjdW1mbGV4QWNjZW50KTtcbiAgICAgICAgICAgIHRoaXMub25DaGFyYWN0ZXJDbGFzc0VudGVyKHN0YXJ0LCBuZWdhdGUpO1xuICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2xhc3NSYW5nZXMoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5lYXQoUmlnaHRTcXVhcmVCcmFja2V0KSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmFpc2UoXCJVbnRlcm1pbmF0ZWQgY2hhcmFjdGVyIGNsYXNzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vbkNoYXJhY3RlckNsYXNzTGVhdmUoc3RhcnQsIHRoaXMuaW5kZXgsIG5lZ2F0ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN1bWVDbGFzc1JhbmdlcygpIHtcbiAgICAgICAgY29uc3Qgc3RyaWN0ID0gdGhpcy5zdHJpY3QgfHwgdGhpcy5fdUZsYWc7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlU3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNvbnN1bWVDbGFzc0F0b20oKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWluID0gdGhpcy5fbGFzdEludFZhbHVlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmVhdChIeXBoZW5NaW51cykpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub25DaGFyYWN0ZXIodGhpcy5pbmRleCAtIDEsIHRoaXMuaW5kZXgsIEh5cGhlbk1pbnVzKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5jb25zdW1lQ2xhc3NBdG9tKCkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1heCA9IHRoaXMuX2xhc3RJbnRWYWx1ZTtcbiAgICAgICAgICAgIGlmIChtaW4gPT09IC0xIHx8IG1heCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmFpc2UoXCJJbnZhbGlkIGNoYXJhY3RlciBjbGFzc1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWluID4gbWF4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYWlzZShcIlJhbmdlIG91dCBvZiBvcmRlciBpbiBjaGFyYWN0ZXIgY2xhc3NcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9uQ2hhcmFjdGVyQ2xhc3NSYW5nZShyYW5nZVN0YXJ0LCB0aGlzLmluZGV4LCBtaW4sIG1heCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3VtZUNsYXNzQXRvbSgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICBjb25zdCBjcCA9IHRoaXMuY3VycmVudENvZGVQb2ludDtcbiAgICAgICAgaWYgKGNwICE9PSAtMSAmJiBjcCAhPT0gUmV2ZXJzZVNvbGlkdXMgJiYgY3AgIT09IFJpZ2h0U3F1YXJlQnJhY2tldCkge1xuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSBjcDtcbiAgICAgICAgICAgIHRoaXMub25DaGFyYWN0ZXIoc3RhcnQsIHRoaXMuaW5kZXgsIHRoaXMuX2xhc3RJbnRWYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lYXQoUmV2ZXJzZVNvbGlkdXMpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25zdW1lQ2xhc3NFc2NhcGUoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLnN0cmljdCAmJiB0aGlzLmN1cnJlbnRDb2RlUG9pbnQgPT09IExhdGluU21hbGxMZXR0ZXJDKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gUmV2ZXJzZVNvbGlkdXM7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNoYXJhY3RlcihzdGFydCwgdGhpcy5pbmRleCwgdGhpcy5fbGFzdEludFZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN0cmljdCB8fCB0aGlzLl91RmxhZykge1xuICAgICAgICAgICAgICAgIHRoaXMucmFpc2UoXCJJbnZhbGlkIGVzY2FwZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmV3aW5kKHN0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN1bWVDbGFzc0VzY2FwZSgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICBpZiAodGhpcy5lYXQoTGF0aW5TbWFsbExldHRlckIpKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSBCYWNrc3BhY2U7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhcmFjdGVyKHN0YXJ0IC0gMSwgdGhpcy5pbmRleCwgdGhpcy5fbGFzdEludFZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl91RmxhZyAmJiB0aGlzLmVhdChIeXBoZW5NaW51cykpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IEh5cGhlbk1pbnVzO1xuICAgICAgICAgICAgdGhpcy5vbkNoYXJhY3RlcihzdGFydCAtIDEsIHRoaXMuaW5kZXgsIHRoaXMuX2xhc3RJbnRWYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3AgPSAwO1xuICAgICAgICBpZiAoIXRoaXMuc3RyaWN0ICYmXG4gICAgICAgICAgICAhdGhpcy5fdUZsYWcgJiZcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENvZGVQb2ludCA9PT0gTGF0aW5TbWFsbExldHRlckMgJiZcbiAgICAgICAgICAgIChpc0RlY2ltYWxEaWdpdCgoY3AgPSB0aGlzLm5leHRDb2RlUG9pbnQpKSB8fCBjcCA9PT0gTG93TGluZSkpIHtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSBjcCAlIDB4MjA7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhcmFjdGVyKHN0YXJ0IC0gMSwgdGhpcy5pbmRleCwgdGhpcy5fbGFzdEludFZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodGhpcy5jb25zdW1lQ2hhcmFjdGVyQ2xhc3NFc2NhcGUoKSB8fCB0aGlzLmNvbnN1bWVDaGFyYWN0ZXJFc2NhcGUoKSk7XG4gICAgfVxuICAgIGVhdEdyb3VwTmFtZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWF0KExlc3NUaGFuU2lnbikpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVhdFJlZ0V4cElkZW50aWZpZXJOYW1lKCkgJiYgdGhpcy5lYXQoR3JlYXRlclRoYW5TaWduKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yYWlzZShcIkludmFsaWQgY2FwdHVyZSBncm91cCBuYW1lXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWF0UmVnRXhwSWRlbnRpZmllck5hbWUoKSB7XG4gICAgICAgIGlmICh0aGlzLmVhdFJlZ0V4cElkZW50aWZpZXJTdGFydCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0U3RyVmFsdWUgPSBTdHJpbmcuZnJvbUNvZGVQb2ludCh0aGlzLl9sYXN0SW50VmFsdWUpO1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMuZWF0UmVnRXhwSWRlbnRpZmllclBhcnQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RTdHJWYWx1ZSArPSBTdHJpbmcuZnJvbUNvZGVQb2ludCh0aGlzLl9sYXN0SW50VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlYXRSZWdFeHBJZGVudGlmaWVyU3RhcnQoKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgY29uc3QgZm9yY2VVRmxhZyA9ICF0aGlzLl91RmxhZyAmJiB0aGlzLmVjbWFWZXJzaW9uID49IDIwMjA7XG4gICAgICAgIGxldCBjcCA9IHRoaXMuY3VycmVudENvZGVQb2ludDtcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgIGlmIChjcCA9PT0gUmV2ZXJzZVNvbGlkdXMgJiZcbiAgICAgICAgICAgIHRoaXMuZWF0UmVnRXhwVW5pY29kZUVzY2FwZVNlcXVlbmNlKGZvcmNlVUZsYWcpKSB7XG4gICAgICAgICAgICBjcCA9IHRoaXMuX2xhc3RJbnRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmb3JjZVVGbGFnICYmXG4gICAgICAgICAgICBpc0xlYWRTdXJyb2dhdGUoY3ApICYmXG4gICAgICAgICAgICBpc1RyYWlsU3Vycm9nYXRlKHRoaXMuY3VycmVudENvZGVQb2ludCkpIHtcbiAgICAgICAgICAgIGNwID0gY29tYmluZVN1cnJvZ2F0ZVBhaXIoY3AsIHRoaXMuY3VycmVudENvZGVQb2ludCk7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZWdFeHBJZGVudGlmaWVyU3RhcnQoY3ApKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSBjcDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmluZGV4ICE9PSBzdGFydCkge1xuICAgICAgICAgICAgdGhpcy5yZXdpbmQoc3RhcnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWF0UmVnRXhwSWRlbnRpZmllclBhcnQoKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgY29uc3QgZm9yY2VVRmxhZyA9ICF0aGlzLl91RmxhZyAmJiB0aGlzLmVjbWFWZXJzaW9uID49IDIwMjA7XG4gICAgICAgIGxldCBjcCA9IHRoaXMuY3VycmVudENvZGVQb2ludDtcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgIGlmIChjcCA9PT0gUmV2ZXJzZVNvbGlkdXMgJiZcbiAgICAgICAgICAgIHRoaXMuZWF0UmVnRXhwVW5pY29kZUVzY2FwZVNlcXVlbmNlKGZvcmNlVUZsYWcpKSB7XG4gICAgICAgICAgICBjcCA9IHRoaXMuX2xhc3RJbnRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmb3JjZVVGbGFnICYmXG4gICAgICAgICAgICBpc0xlYWRTdXJyb2dhdGUoY3ApICYmXG4gICAgICAgICAgICBpc1RyYWlsU3Vycm9nYXRlKHRoaXMuY3VycmVudENvZGVQb2ludCkpIHtcbiAgICAgICAgICAgIGNwID0gY29tYmluZVN1cnJvZ2F0ZVBhaXIoY3AsIHRoaXMuY3VycmVudENvZGVQb2ludCk7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZWdFeHBJZGVudGlmaWVyUGFydChjcCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IGNwO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5kZXggIT09IHN0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLnJld2luZChzdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlYXRDQ29udHJvbExldHRlcigpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICBpZiAodGhpcy5lYXQoTGF0aW5TbWFsbExldHRlckMpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5lYXRDb250cm9sTGV0dGVyKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmV3aW5kKHN0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVhdFplcm8oKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDb2RlUG9pbnQgPT09IERpZ2l0WmVybyAmJlxuICAgICAgICAgICAgIWlzRGVjaW1hbERpZ2l0KHRoaXMubmV4dENvZGVQb2ludCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IDA7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWF0Q29udHJvbEVzY2FwZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWF0KExhdGluU21hbGxMZXR0ZXJGKSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gRm9ybUZlZWQ7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lYXQoTGF0aW5TbWFsbExldHRlck4pKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSBMaW5lRmVlZDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVhdChMYXRpblNtYWxsTGV0dGVyUikpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IENhcnJpYWdlUmV0dXJuO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZWF0KExhdGluU21hbGxMZXR0ZXJUKSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gQ2hhcmFjdGVyVGFidWxhdGlvbjtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVhdChMYXRpblNtYWxsTGV0dGVyVikpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IExpbmVUYWJ1bGF0aW9uO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlYXRDb250cm9sTGV0dGVyKCkge1xuICAgICAgICBjb25zdCBjcCA9IHRoaXMuY3VycmVudENvZGVQb2ludDtcbiAgICAgICAgaWYgKGlzTGF0aW5MZXR0ZXIoY3ApKSB7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IGNwICUgMHgyMDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWF0UmVnRXhwVW5pY29kZUVzY2FwZVNlcXVlbmNlKGZvcmNlVUZsYWcgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGNvbnN0IHVGbGFnID0gZm9yY2VVRmxhZyB8fCB0aGlzLl91RmxhZztcbiAgICAgICAgaWYgKHRoaXMuZWF0KExhdGluU21hbGxMZXR0ZXJVKSkge1xuICAgICAgICAgICAgaWYgKCh1RmxhZyAmJiB0aGlzLmVhdFJlZ0V4cFVuaWNvZGVTdXJyb2dhdGVQYWlyRXNjYXBlKCkpIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5lYXRGaXhlZEhleERpZ2l0cyg0KSB8fFxuICAgICAgICAgICAgICAgICh1RmxhZyAmJiB0aGlzLmVhdFJlZ0V4cFVuaWNvZGVDb2RlUG9pbnRFc2NhcGUoKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN0cmljdCB8fCB1RmxhZykge1xuICAgICAgICAgICAgICAgIHRoaXMucmFpc2UoXCJJbnZhbGlkIHVuaWNvZGUgZXNjYXBlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXdpbmQoc3RhcnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWF0UmVnRXhwVW5pY29kZVN1cnJvZ2F0ZVBhaXJFc2NhcGUoKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgaWYgKHRoaXMuZWF0Rml4ZWRIZXhEaWdpdHMoNCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlYWQgPSB0aGlzLl9sYXN0SW50VmFsdWU7XG4gICAgICAgICAgICBpZiAoaXNMZWFkU3Vycm9nYXRlKGxlYWQpICYmXG4gICAgICAgICAgICAgICAgdGhpcy5lYXQoUmV2ZXJzZVNvbGlkdXMpICYmXG4gICAgICAgICAgICAgICAgdGhpcy5lYXQoTGF0aW5TbWFsbExldHRlclUpICYmXG4gICAgICAgICAgICAgICAgdGhpcy5lYXRGaXhlZEhleERpZ2l0cyg0KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWlsID0gdGhpcy5fbGFzdEludFZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChpc1RyYWlsU3Vycm9nYXRlKHRyYWlsKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSBjb21iaW5lU3Vycm9nYXRlUGFpcihsZWFkLCB0cmFpbCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmV3aW5kKHN0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVhdFJlZ0V4cFVuaWNvZGVDb2RlUG9pbnRFc2NhcGUoKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgaWYgKHRoaXMuZWF0KExlZnRDdXJseUJyYWNrZXQpICYmXG4gICAgICAgICAgICB0aGlzLmVhdEhleERpZ2l0cygpICYmXG4gICAgICAgICAgICB0aGlzLmVhdChSaWdodEN1cmx5QnJhY2tldCkgJiZcbiAgICAgICAgICAgIGlzVmFsaWRVbmljb2RlKHRoaXMuX2xhc3RJbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmV3aW5kKHN0YXJ0KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlYXRJZGVudGl0eUVzY2FwZSgpIHtcbiAgICAgICAgY29uc3QgY3AgPSB0aGlzLmN1cnJlbnRDb2RlUG9pbnQ7XG4gICAgICAgIGlmICh0aGlzLmlzVmFsaWRJZGVudGl0eUVzY2FwZShjcCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IGNwO1xuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlzVmFsaWRJZGVudGl0eUVzY2FwZShjcCkge1xuICAgICAgICBpZiAoY3AgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3VGbGFnKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNTeW50YXhDaGFyYWN0ZXIoY3ApIHx8IGNwID09PSBTb2xpZHVzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuICFpc0lkQ29udGludWUoY3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9uRmxhZykge1xuICAgICAgICAgICAgcmV0dXJuICEoY3AgPT09IExhdGluU21hbGxMZXR0ZXJDIHx8IGNwID09PSBMYXRpblNtYWxsTGV0dGVySyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNwICE9PSBMYXRpblNtYWxsTGV0dGVyQztcbiAgICB9XG4gICAgZWF0RGVjaW1hbEVzY2FwZSgpIHtcbiAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gMDtcbiAgICAgICAgbGV0IGNwID0gdGhpcy5jdXJyZW50Q29kZVBvaW50O1xuICAgICAgICBpZiAoY3AgPj0gRGlnaXRPbmUgJiYgY3AgPD0gRGlnaXROaW5lKSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gMTAgKiB0aGlzLl9sYXN0SW50VmFsdWUgKyAoY3AgLSBEaWdpdFplcm8pO1xuICAgICAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAgICAgfSB3aGlsZSAoKGNwID0gdGhpcy5jdXJyZW50Q29kZVBvaW50KSA+PSBEaWdpdFplcm8gJiZcbiAgICAgICAgICAgICAgICBjcCA8PSBEaWdpdE5pbmUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlYXRVbmljb2RlUHJvcGVydHlWYWx1ZUV4cHJlc3Npb24oKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgaWYgKHRoaXMuZWF0VW5pY29kZVByb3BlcnR5TmFtZSgpICYmIHRoaXMuZWF0KEVxdWFsc1NpZ24pKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0S2V5VmFsdWUgPSB0aGlzLl9sYXN0U3RyVmFsdWU7XG4gICAgICAgICAgICBpZiAodGhpcy5lYXRVbmljb2RlUHJvcGVydHlWYWx1ZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdFZhbFZhbHVlID0gdGhpcy5fbGFzdFN0clZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkVW5pY29kZVByb3BlcnR5KHRoaXMuZWNtYVZlcnNpb24sIHRoaXMuX2xhc3RLZXlWYWx1ZSwgdGhpcy5fbGFzdFZhbFZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yYWlzZShcIkludmFsaWQgcHJvcGVydHkgbmFtZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJld2luZChzdGFydCk7XG4gICAgICAgIGlmICh0aGlzLmVhdExvbmVVbmljb2RlUHJvcGVydHlOYW1lT3JWYWx1ZSgpKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lT3JWYWx1ZSA9IHRoaXMuX2xhc3RTdHJWYWx1ZTtcbiAgICAgICAgICAgIGlmIChpc1ZhbGlkVW5pY29kZVByb3BlcnR5KHRoaXMuZWNtYVZlcnNpb24sIFwiR2VuZXJhbF9DYXRlZ29yeVwiLCBuYW1lT3JWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0S2V5VmFsdWUgPSBcIkdlbmVyYWxfQ2F0ZWdvcnlcIjtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0VmFsVmFsdWUgPSBuYW1lT3JWYWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1ZhbGlkTG9uZVVuaWNvZGVQcm9wZXJ0eSh0aGlzLmVjbWFWZXJzaW9uLCBuYW1lT3JWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0S2V5VmFsdWUgPSBuYW1lT3JWYWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0VmFsVmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yYWlzZShcIkludmFsaWQgcHJvcGVydHkgbmFtZVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVhdFVuaWNvZGVQcm9wZXJ0eU5hbWUoKSB7XG4gICAgICAgIHRoaXMuX2xhc3RTdHJWYWx1ZSA9IFwiXCI7XG4gICAgICAgIHdoaWxlIChpc1VuaWNvZGVQcm9wZXJ0eU5hbWVDaGFyYWN0ZXIodGhpcy5jdXJyZW50Q29kZVBvaW50KSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdFN0clZhbHVlICs9IFN0cmluZy5mcm9tQ29kZVBvaW50KHRoaXMuY3VycmVudENvZGVQb2ludCk7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbGFzdFN0clZhbHVlICE9PSBcIlwiO1xuICAgIH1cbiAgICBlYXRVbmljb2RlUHJvcGVydHlWYWx1ZSgpIHtcbiAgICAgICAgdGhpcy5fbGFzdFN0clZhbHVlID0gXCJcIjtcbiAgICAgICAgd2hpbGUgKGlzVW5pY29kZVByb3BlcnR5VmFsdWVDaGFyYWN0ZXIodGhpcy5jdXJyZW50Q29kZVBvaW50KSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdFN0clZhbHVlICs9IFN0cmluZy5mcm9tQ29kZVBvaW50KHRoaXMuY3VycmVudENvZGVQb2ludCk7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbGFzdFN0clZhbHVlICE9PSBcIlwiO1xuICAgIH1cbiAgICBlYXRMb25lVW5pY29kZVByb3BlcnR5TmFtZU9yVmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVhdFVuaWNvZGVQcm9wZXJ0eVZhbHVlKCk7XG4gICAgfVxuICAgIGVhdEhleEVzY2FwZVNlcXVlbmNlKCkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGlmICh0aGlzLmVhdChMYXRpblNtYWxsTGV0dGVyWCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVhdEZpeGVkSGV4RGlnaXRzKDIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fdUZsYWcgfHwgdGhpcy5zdHJpY3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJhaXNlKFwiSW52YWxpZCBlc2NhcGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJld2luZChzdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlYXREZWNpbWFsRGlnaXRzKCkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IDA7XG4gICAgICAgIHdoaWxlIChpc0RlY2ltYWxEaWdpdCh0aGlzLmN1cnJlbnRDb2RlUG9pbnQpKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPVxuICAgICAgICAgICAgICAgIDEwICogdGhpcy5fbGFzdEludFZhbHVlICsgZGlnaXRUb0ludCh0aGlzLmN1cnJlbnRDb2RlUG9pbnQpO1xuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXggIT09IHN0YXJ0O1xuICAgIH1cbiAgICBlYXRIZXhEaWdpdHMoKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gMDtcbiAgICAgICAgd2hpbGUgKGlzSGV4RGlnaXQodGhpcy5jdXJyZW50Q29kZVBvaW50KSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID1cbiAgICAgICAgICAgICAgICAxNiAqIHRoaXMuX2xhc3RJbnRWYWx1ZSArIGRpZ2l0VG9JbnQodGhpcy5jdXJyZW50Q29kZVBvaW50KTtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4ICE9PSBzdGFydDtcbiAgICB9XG4gICAgZWF0TGVnYWN5T2N0YWxFc2NhcGVTZXF1ZW5jZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWF0T2N0YWxEaWdpdCgpKSB7XG4gICAgICAgICAgICBjb25zdCBuMSA9IHRoaXMuX2xhc3RJbnRWYWx1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmVhdE9jdGFsRGlnaXQoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4yID0gdGhpcy5fbGFzdEludFZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChuMSA8PSAzICYmIHRoaXMuZWF0T2N0YWxEaWdpdCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IG4xICogNjQgKyBuMiAqIDggKyB0aGlzLl9sYXN0SW50VmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSBuMSAqIDggKyBuMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSBuMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWF0T2N0YWxEaWdpdCgpIHtcbiAgICAgICAgY29uc3QgY3AgPSB0aGlzLmN1cnJlbnRDb2RlUG9pbnQ7XG4gICAgICAgIGlmIChpc09jdGFsRGlnaXQoY3ApKSB7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IGNwIC0gRGlnaXRaZXJvO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gMDtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlYXRGaXhlZEhleERpZ2l0cyhsZW5ndGgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBjcCA9IHRoaXMuY3VycmVudENvZGVQb2ludDtcbiAgICAgICAgICAgIGlmICghaXNIZXhEaWdpdChjcCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJld2luZChzdGFydCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gMTYgKiB0aGlzLl9sYXN0SW50VmFsdWUgKyBkaWdpdFRvSW50KGNwKTtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuY29uc3QgRHVtbXlQYXR0ZXJuID0ge307XG5jb25zdCBEdW1teUZsYWdzID0ge307XG5jb25zdCBEdW1teUNhcHR1cmluZ0dyb3VwID0ge307XG5jbGFzcyBSZWdFeHBQYXJzZXJTdGF0ZSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLl9ub2RlID0gRHVtbXlQYXR0ZXJuO1xuICAgICAgICB0aGlzLl9mbGFncyA9IER1bW15RmxhZ3M7XG4gICAgICAgIHRoaXMuX2JhY2tyZWZlcmVuY2VzID0gW107XG4gICAgICAgIHRoaXMuX2NhcHR1cmluZ0dyb3VwcyA9IFtdO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IFwiXCI7XG4gICAgICAgIHRoaXMuc3RyaWN0ID0gQm9vbGVhbihvcHRpb25zICYmIG9wdGlvbnMuc3RyaWN0KTtcbiAgICAgICAgdGhpcy5lY21hVmVyc2lvbiA9IChvcHRpb25zICYmIG9wdGlvbnMuZWNtYVZlcnNpb24pIHx8IDIwMjI7XG4gICAgfVxuICAgIGdldCBwYXR0ZXJuKCkge1xuICAgICAgICBpZiAodGhpcy5fbm9kZS50eXBlICE9PSBcIlBhdHRlcm5cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93bkVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9ub2RlO1xuICAgIH1cbiAgICBnZXQgZmxhZ3MoKSB7XG4gICAgICAgIGlmICh0aGlzLl9mbGFncy50eXBlICE9PSBcIkZsYWdzXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd25FcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZmxhZ3M7XG4gICAgfVxuICAgIG9uRmxhZ3Moc3RhcnQsIGVuZCwgZ2xvYmFsLCBpZ25vcmVDYXNlLCBtdWx0aWxpbmUsIHVuaWNvZGUsIHN0aWNreSwgZG90QWxsLCBoYXNJbmRpY2VzKSB7XG4gICAgICAgIHRoaXMuX2ZsYWdzID0ge1xuICAgICAgICAgICAgdHlwZTogXCJGbGFnc1wiLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICBlbmQsXG4gICAgICAgICAgICByYXc6IHRoaXMuc291cmNlLnNsaWNlKHN0YXJ0LCBlbmQpLFxuICAgICAgICAgICAgZ2xvYmFsLFxuICAgICAgICAgICAgaWdub3JlQ2FzZSxcbiAgICAgICAgICAgIG11bHRpbGluZSxcbiAgICAgICAgICAgIHVuaWNvZGUsXG4gICAgICAgICAgICBzdGlja3ksXG4gICAgICAgICAgICBkb3RBbGwsXG4gICAgICAgICAgICBoYXNJbmRpY2VzLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBvblBhdHRlcm5FbnRlcihzdGFydCkge1xuICAgICAgICB0aGlzLl9ub2RlID0ge1xuICAgICAgICAgICAgdHlwZTogXCJQYXR0ZXJuXCIsXG4gICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICBzdGFydCxcbiAgICAgICAgICAgIGVuZDogc3RhcnQsXG4gICAgICAgICAgICByYXc6IFwiXCIsXG4gICAgICAgICAgICBhbHRlcm5hdGl2ZXM6IFtdLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9iYWNrcmVmZXJlbmNlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9jYXB0dXJpbmdHcm91cHMubGVuZ3RoID0gMDtcbiAgICB9XG4gICAgb25QYXR0ZXJuTGVhdmUoc3RhcnQsIGVuZCkge1xuICAgICAgICB0aGlzLl9ub2RlLmVuZCA9IGVuZDtcbiAgICAgICAgdGhpcy5fbm9kZS5yYXcgPSB0aGlzLnNvdXJjZS5zbGljZShzdGFydCwgZW5kKTtcbiAgICAgICAgZm9yIChjb25zdCByZWZlcmVuY2Ugb2YgdGhpcy5fYmFja3JlZmVyZW5jZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZiA9IHJlZmVyZW5jZS5yZWY7XG4gICAgICAgICAgICBjb25zdCBncm91cCA9IHR5cGVvZiByZWYgPT09IFwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICA/IHRoaXMuX2NhcHR1cmluZ0dyb3Vwc1tyZWYgLSAxXVxuICAgICAgICAgICAgICAgIDogdGhpcy5fY2FwdHVyaW5nR3JvdXBzLmZpbmQoZyA9PiBnLm5hbWUgPT09IHJlZik7XG4gICAgICAgICAgICByZWZlcmVuY2UucmVzb2x2ZWQgPSBncm91cDtcbiAgICAgICAgICAgIGdyb3VwLnJlZmVyZW5jZXMucHVzaChyZWZlcmVuY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQWx0ZXJuYXRpdmVFbnRlcihzdGFydCkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLl9ub2RlO1xuICAgICAgICBpZiAocGFyZW50LnR5cGUgIT09IFwiQXNzZXJ0aW9uXCIgJiZcbiAgICAgICAgICAgIHBhcmVudC50eXBlICE9PSBcIkNhcHR1cmluZ0dyb3VwXCIgJiZcbiAgICAgICAgICAgIHBhcmVudC50eXBlICE9PSBcIkdyb3VwXCIgJiZcbiAgICAgICAgICAgIHBhcmVudC50eXBlICE9PSBcIlBhdHRlcm5cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93bkVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX25vZGUgPSB7XG4gICAgICAgICAgICB0eXBlOiBcIkFsdGVybmF0aXZlXCIsXG4gICAgICAgICAgICBwYXJlbnQsXG4gICAgICAgICAgICBzdGFydCxcbiAgICAgICAgICAgIGVuZDogc3RhcnQsXG4gICAgICAgICAgICByYXc6IFwiXCIsXG4gICAgICAgICAgICBlbGVtZW50czogW10sXG4gICAgICAgIH07XG4gICAgICAgIHBhcmVudC5hbHRlcm5hdGl2ZXMucHVzaCh0aGlzLl9ub2RlKTtcbiAgICB9XG4gICAgb25BbHRlcm5hdGl2ZUxlYXZlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuX25vZGU7XG4gICAgICAgIGlmIChub2RlLnR5cGUgIT09IFwiQWx0ZXJuYXRpdmVcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93bkVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUuZW5kID0gZW5kO1xuICAgICAgICBub2RlLnJhdyA9IHRoaXMuc291cmNlLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgICAgICB0aGlzLl9ub2RlID0gbm9kZS5wYXJlbnQ7XG4gICAgfVxuICAgIG9uR3JvdXBFbnRlcihzdGFydCkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLl9ub2RlO1xuICAgICAgICBpZiAocGFyZW50LnR5cGUgIT09IFwiQWx0ZXJuYXRpdmVcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93bkVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX25vZGUgPSB7XG4gICAgICAgICAgICB0eXBlOiBcIkdyb3VwXCIsXG4gICAgICAgICAgICBwYXJlbnQsXG4gICAgICAgICAgICBzdGFydCxcbiAgICAgICAgICAgIGVuZDogc3RhcnQsXG4gICAgICAgICAgICByYXc6IFwiXCIsXG4gICAgICAgICAgICBhbHRlcm5hdGl2ZXM6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBwYXJlbnQuZWxlbWVudHMucHVzaCh0aGlzLl9ub2RlKTtcbiAgICB9XG4gICAgb25Hcm91cExlYXZlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuX25vZGU7XG4gICAgICAgIGlmIChub2RlLnR5cGUgIT09IFwiR3JvdXBcIiB8fCBub2RlLnBhcmVudC50eXBlICE9PSBcIkFsdGVybmF0aXZlXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd25FcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLmVuZCA9IGVuZDtcbiAgICAgICAgbm9kZS5yYXcgPSB0aGlzLnNvdXJjZS5zbGljZShzdGFydCwgZW5kKTtcbiAgICAgICAgdGhpcy5fbm9kZSA9IG5vZGUucGFyZW50O1xuICAgIH1cbiAgICBvbkNhcHR1cmluZ0dyb3VwRW50ZXIoc3RhcnQsIG5hbWUpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fbm9kZTtcbiAgICAgICAgaWYgKHBhcmVudC50eXBlICE9PSBcIkFsdGVybmF0aXZlXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd25FcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ub2RlID0ge1xuICAgICAgICAgICAgdHlwZTogXCJDYXB0dXJpbmdHcm91cFwiLFxuICAgICAgICAgICAgcGFyZW50LFxuICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICBlbmQ6IHN0YXJ0LFxuICAgICAgICAgICAgcmF3OiBcIlwiLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGFsdGVybmF0aXZlczogW10sXG4gICAgICAgICAgICByZWZlcmVuY2VzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgcGFyZW50LmVsZW1lbnRzLnB1c2godGhpcy5fbm9kZSk7XG4gICAgICAgIHRoaXMuX2NhcHR1cmluZ0dyb3Vwcy5wdXNoKHRoaXMuX25vZGUpO1xuICAgIH1cbiAgICBvbkNhcHR1cmluZ0dyb3VwTGVhdmUoc3RhcnQsIGVuZCkge1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5fbm9kZTtcbiAgICAgICAgaWYgKG5vZGUudHlwZSAhPT0gXCJDYXB0dXJpbmdHcm91cFwiIHx8XG4gICAgICAgICAgICBub2RlLnBhcmVudC50eXBlICE9PSBcIkFsdGVybmF0aXZlXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd25FcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLmVuZCA9IGVuZDtcbiAgICAgICAgbm9kZS5yYXcgPSB0aGlzLnNvdXJjZS5zbGljZShzdGFydCwgZW5kKTtcbiAgICAgICAgdGhpcy5fbm9kZSA9IG5vZGUucGFyZW50O1xuICAgIH1cbiAgICBvblF1YW50aWZpZXIoc3RhcnQsIGVuZCwgbWluLCBtYXgsIGdyZWVkeSkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLl9ub2RlO1xuICAgICAgICBpZiAocGFyZW50LnR5cGUgIT09IFwiQWx0ZXJuYXRpdmVcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93bkVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBwYXJlbnQuZWxlbWVudHMucG9wKCk7XG4gICAgICAgIGlmIChlbGVtZW50ID09IG51bGwgfHxcbiAgICAgICAgICAgIGVsZW1lbnQudHlwZSA9PT0gXCJRdWFudGlmaWVyXCIgfHxcbiAgICAgICAgICAgIChlbGVtZW50LnR5cGUgPT09IFwiQXNzZXJ0aW9uXCIgJiYgZWxlbWVudC5raW5kICE9PSBcImxvb2thaGVhZFwiKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93bkVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5vZGUgPSB7XG4gICAgICAgICAgICB0eXBlOiBcIlF1YW50aWZpZXJcIixcbiAgICAgICAgICAgIHBhcmVudCxcbiAgICAgICAgICAgIHN0YXJ0OiBlbGVtZW50LnN0YXJ0LFxuICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgcmF3OiB0aGlzLnNvdXJjZS5zbGljZShlbGVtZW50LnN0YXJ0LCBlbmQpLFxuICAgICAgICAgICAgbWluLFxuICAgICAgICAgICAgbWF4LFxuICAgICAgICAgICAgZ3JlZWR5LFxuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgfTtcbiAgICAgICAgcGFyZW50LmVsZW1lbnRzLnB1c2gobm9kZSk7XG4gICAgICAgIGVsZW1lbnQucGFyZW50ID0gbm9kZTtcbiAgICB9XG4gICAgb25Mb29rYXJvdW5kQXNzZXJ0aW9uRW50ZXIoc3RhcnQsIGtpbmQsIG5lZ2F0ZSkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLl9ub2RlO1xuICAgICAgICBpZiAocGFyZW50LnR5cGUgIT09IFwiQWx0ZXJuYXRpdmVcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93bkVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5vZGUgPSAodGhpcy5fbm9kZSA9IHtcbiAgICAgICAgICAgIHR5cGU6IFwiQXNzZXJ0aW9uXCIsXG4gICAgICAgICAgICBwYXJlbnQsXG4gICAgICAgICAgICBzdGFydCxcbiAgICAgICAgICAgIGVuZDogc3RhcnQsXG4gICAgICAgICAgICByYXc6IFwiXCIsXG4gICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAgbmVnYXRlLFxuICAgICAgICAgICAgYWx0ZXJuYXRpdmVzOiBbXSxcbiAgICAgICAgfSk7XG4gICAgICAgIHBhcmVudC5lbGVtZW50cy5wdXNoKG5vZGUpO1xuICAgIH1cbiAgICBvbkxvb2thcm91bmRBc3NlcnRpb25MZWF2ZShzdGFydCwgZW5kKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLl9ub2RlO1xuICAgICAgICBpZiAobm9kZS50eXBlICE9PSBcIkFzc2VydGlvblwiIHx8IG5vZGUucGFyZW50LnR5cGUgIT09IFwiQWx0ZXJuYXRpdmVcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93bkVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUuZW5kID0gZW5kO1xuICAgICAgICBub2RlLnJhdyA9IHRoaXMuc291cmNlLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgICAgICB0aGlzLl9ub2RlID0gbm9kZS5wYXJlbnQ7XG4gICAgfVxuICAgIG9uRWRnZUFzc2VydGlvbihzdGFydCwgZW5kLCBraW5kKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuX25vZGU7XG4gICAgICAgIGlmIChwYXJlbnQudHlwZSAhPT0gXCJBbHRlcm5hdGl2ZVwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duRXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50LmVsZW1lbnRzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogXCJBc3NlcnRpb25cIixcbiAgICAgICAgICAgIHBhcmVudCxcbiAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgcmF3OiB0aGlzLnNvdXJjZS5zbGljZShzdGFydCwgZW5kKSxcbiAgICAgICAgICAgIGtpbmQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbldvcmRCb3VuZGFyeUFzc2VydGlvbihzdGFydCwgZW5kLCBraW5kLCBuZWdhdGUpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fbm9kZTtcbiAgICAgICAgaWYgKHBhcmVudC50eXBlICE9PSBcIkFsdGVybmF0aXZlXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd25FcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQuZWxlbWVudHMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiBcIkFzc2VydGlvblwiLFxuICAgICAgICAgICAgcGFyZW50LFxuICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICBlbmQsXG4gICAgICAgICAgICByYXc6IHRoaXMuc291cmNlLnNsaWNlKHN0YXJ0LCBlbmQpLFxuICAgICAgICAgICAga2luZCxcbiAgICAgICAgICAgIG5lZ2F0ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uQW55Q2hhcmFjdGVyU2V0KHN0YXJ0LCBlbmQsIGtpbmQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fbm9kZTtcbiAgICAgICAgaWYgKHBhcmVudC50eXBlICE9PSBcIkFsdGVybmF0aXZlXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd25FcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQuZWxlbWVudHMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiBcIkNoYXJhY3RlclNldFwiLFxuICAgICAgICAgICAgcGFyZW50LFxuICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICBlbmQsXG4gICAgICAgICAgICByYXc6IHRoaXMuc291cmNlLnNsaWNlKHN0YXJ0LCBlbmQpLFxuICAgICAgICAgICAga2luZCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uRXNjYXBlQ2hhcmFjdGVyU2V0KHN0YXJ0LCBlbmQsIGtpbmQsIG5lZ2F0ZSkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLl9ub2RlO1xuICAgICAgICBpZiAocGFyZW50LnR5cGUgIT09IFwiQWx0ZXJuYXRpdmVcIiAmJiBwYXJlbnQudHlwZSAhPT0gXCJDaGFyYWN0ZXJDbGFzc1wiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duRXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50LmVsZW1lbnRzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogXCJDaGFyYWN0ZXJTZXRcIixcbiAgICAgICAgICAgIHBhcmVudCxcbiAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgcmF3OiB0aGlzLnNvdXJjZS5zbGljZShzdGFydCwgZW5kKSxcbiAgICAgICAgICAgIGtpbmQsXG4gICAgICAgICAgICBuZWdhdGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvblVuaWNvZGVQcm9wZXJ0eUNoYXJhY3RlclNldChzdGFydCwgZW5kLCBraW5kLCBrZXksIHZhbHVlLCBuZWdhdGUpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fbm9kZTtcbiAgICAgICAgaWYgKHBhcmVudC50eXBlICE9PSBcIkFsdGVybmF0aXZlXCIgJiYgcGFyZW50LnR5cGUgIT09IFwiQ2hhcmFjdGVyQ2xhc3NcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93bkVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudC5lbGVtZW50cy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IFwiQ2hhcmFjdGVyU2V0XCIsXG4gICAgICAgICAgICBwYXJlbnQsXG4gICAgICAgICAgICBzdGFydCxcbiAgICAgICAgICAgIGVuZCxcbiAgICAgICAgICAgIHJhdzogdGhpcy5zb3VyY2Uuc2xpY2Uoc3RhcnQsIGVuZCksXG4gICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBuZWdhdGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbkNoYXJhY3RlcihzdGFydCwgZW5kLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLl9ub2RlO1xuICAgICAgICBpZiAocGFyZW50LnR5cGUgIT09IFwiQWx0ZXJuYXRpdmVcIiAmJiBwYXJlbnQudHlwZSAhPT0gXCJDaGFyYWN0ZXJDbGFzc1wiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duRXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50LmVsZW1lbnRzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogXCJDaGFyYWN0ZXJcIixcbiAgICAgICAgICAgIHBhcmVudCxcbiAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgcmF3OiB0aGlzLnNvdXJjZS5zbGljZShzdGFydCwgZW5kKSxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgb25CYWNrcmVmZXJlbmNlKHN0YXJ0LCBlbmQsIHJlZikge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLl9ub2RlO1xuICAgICAgICBpZiAocGFyZW50LnR5cGUgIT09IFwiQWx0ZXJuYXRpdmVcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93bkVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5vZGUgPSB7XG4gICAgICAgICAgICB0eXBlOiBcIkJhY2tyZWZlcmVuY2VcIixcbiAgICAgICAgICAgIHBhcmVudCxcbiAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgcmF3OiB0aGlzLnNvdXJjZS5zbGljZShzdGFydCwgZW5kKSxcbiAgICAgICAgICAgIHJlZixcbiAgICAgICAgICAgIHJlc29sdmVkOiBEdW1teUNhcHR1cmluZ0dyb3VwLFxuICAgICAgICB9O1xuICAgICAgICBwYXJlbnQuZWxlbWVudHMucHVzaChub2RlKTtcbiAgICAgICAgdGhpcy5fYmFja3JlZmVyZW5jZXMucHVzaChub2RlKTtcbiAgICB9XG4gICAgb25DaGFyYWN0ZXJDbGFzc0VudGVyKHN0YXJ0LCBuZWdhdGUpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fbm9kZTtcbiAgICAgICAgaWYgKHBhcmVudC50eXBlICE9PSBcIkFsdGVybmF0aXZlXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd25FcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ub2RlID0ge1xuICAgICAgICAgICAgdHlwZTogXCJDaGFyYWN0ZXJDbGFzc1wiLFxuICAgICAgICAgICAgcGFyZW50LFxuICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICBlbmQ6IHN0YXJ0LFxuICAgICAgICAgICAgcmF3OiBcIlwiLFxuICAgICAgICAgICAgbmVnYXRlLFxuICAgICAgICAgICAgZWxlbWVudHM6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBwYXJlbnQuZWxlbWVudHMucHVzaCh0aGlzLl9ub2RlKTtcbiAgICB9XG4gICAgb25DaGFyYWN0ZXJDbGFzc0xlYXZlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuX25vZGU7XG4gICAgICAgIGlmIChub2RlLnR5cGUgIT09IFwiQ2hhcmFjdGVyQ2xhc3NcIiB8fFxuICAgICAgICAgICAgbm9kZS5wYXJlbnQudHlwZSAhPT0gXCJBbHRlcm5hdGl2ZVwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duRXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5lbmQgPSBlbmQ7XG4gICAgICAgIG5vZGUucmF3ID0gdGhpcy5zb3VyY2Uuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgICAgIHRoaXMuX25vZGUgPSBub2RlLnBhcmVudDtcbiAgICB9XG4gICAgb25DaGFyYWN0ZXJDbGFzc1JhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fbm9kZTtcbiAgICAgICAgaWYgKHBhcmVudC50eXBlICE9PSBcIkNoYXJhY3RlckNsYXNzXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd25FcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtZW50cyA9IHBhcmVudC5lbGVtZW50cztcbiAgICAgICAgY29uc3QgbWF4ID0gZWxlbWVudHMucG9wKCk7XG4gICAgICAgIGNvbnN0IGh5cGhlbiA9IGVsZW1lbnRzLnBvcCgpO1xuICAgICAgICBjb25zdCBtaW4gPSBlbGVtZW50cy5wb3AoKTtcbiAgICAgICAgaWYgKCFtaW4gfHxcbiAgICAgICAgICAgICFtYXggfHxcbiAgICAgICAgICAgICFoeXBoZW4gfHxcbiAgICAgICAgICAgIG1pbi50eXBlICE9PSBcIkNoYXJhY3RlclwiIHx8XG4gICAgICAgICAgICBtYXgudHlwZSAhPT0gXCJDaGFyYWN0ZXJcIiB8fFxuICAgICAgICAgICAgaHlwaGVuLnR5cGUgIT09IFwiQ2hhcmFjdGVyXCIgfHxcbiAgICAgICAgICAgIGh5cGhlbi52YWx1ZSAhPT0gSHlwaGVuTWludXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd25FcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBub2RlID0ge1xuICAgICAgICAgICAgdHlwZTogXCJDaGFyYWN0ZXJDbGFzc1JhbmdlXCIsXG4gICAgICAgICAgICBwYXJlbnQsXG4gICAgICAgICAgICBzdGFydCxcbiAgICAgICAgICAgIGVuZCxcbiAgICAgICAgICAgIHJhdzogdGhpcy5zb3VyY2Uuc2xpY2Uoc3RhcnQsIGVuZCksXG4gICAgICAgICAgICBtaW4sXG4gICAgICAgICAgICBtYXgsXG4gICAgICAgIH07XG4gICAgICAgIG1pbi5wYXJlbnQgPSBub2RlO1xuICAgICAgICBtYXgucGFyZW50ID0gbm9kZTtcbiAgICAgICAgZWxlbWVudHMucHVzaChub2RlKTtcbiAgICB9XG59XG5jbGFzcyBSZWdFeHBQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBuZXcgUmVnRXhwUGFyc2VyU3RhdGUob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRvciA9IG5ldyBSZWdFeHBWYWxpZGF0b3IodGhpcy5fc3RhdGUpO1xuICAgIH1cbiAgICBwYXJzZUxpdGVyYWwoc291cmNlLCBzdGFydCA9IDAsIGVuZCA9IHNvdXJjZS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5fc3RhdGUuc291cmNlID0gc291cmNlO1xuICAgICAgICB0aGlzLl92YWxpZGF0b3IudmFsaWRhdGVMaXRlcmFsKHNvdXJjZSwgc3RhcnQsIGVuZCk7XG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSB0aGlzLl9zdGF0ZS5wYXR0ZXJuO1xuICAgICAgICBjb25zdCBmbGFncyA9IHRoaXMuX3N0YXRlLmZsYWdzO1xuICAgICAgICBjb25zdCBsaXRlcmFsID0ge1xuICAgICAgICAgICAgdHlwZTogXCJSZWdFeHBMaXRlcmFsXCIsXG4gICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICBzdGFydCxcbiAgICAgICAgICAgIGVuZCxcbiAgICAgICAgICAgIHJhdzogc291cmNlLFxuICAgICAgICAgICAgcGF0dGVybixcbiAgICAgICAgICAgIGZsYWdzLFxuICAgICAgICB9O1xuICAgICAgICBwYXR0ZXJuLnBhcmVudCA9IGxpdGVyYWw7XG4gICAgICAgIGZsYWdzLnBhcmVudCA9IGxpdGVyYWw7XG4gICAgICAgIHJldHVybiBsaXRlcmFsO1xuICAgIH1cbiAgICBwYXJzZUZsYWdzKHNvdXJjZSwgc3RhcnQgPSAwLCBlbmQgPSBzb3VyY2UubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX3N0YXRlLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5fdmFsaWRhdG9yLnZhbGlkYXRlRmxhZ3Moc291cmNlLCBzdGFydCwgZW5kKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlLmZsYWdzO1xuICAgIH1cbiAgICBwYXJzZVBhdHRlcm4oc291cmNlLCBzdGFydCA9IDAsIGVuZCA9IHNvdXJjZS5sZW5ndGgsIHVGbGFnID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5fc3RhdGUuc291cmNlID0gc291cmNlO1xuICAgICAgICB0aGlzLl92YWxpZGF0b3IudmFsaWRhdGVQYXR0ZXJuKHNvdXJjZSwgc3RhcnQsIGVuZCwgdUZsYWcpO1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUucGF0dGVybjtcbiAgICB9XG59XG5cbmNsYXNzIFJlZ0V4cFZpc2l0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGhhbmRsZXJzKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZXJzID0gaGFuZGxlcnM7XG4gICAgfVxuICAgIHZpc2l0KG5vZGUpIHtcbiAgICAgICAgc3dpdGNoIChub2RlLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJBbHRlcm5hdGl2ZVwiOlxuICAgICAgICAgICAgICAgIHRoaXMudmlzaXRBbHRlcm5hdGl2ZShub2RlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJBc3NlcnRpb25cIjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2l0QXNzZXJ0aW9uKG5vZGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkJhY2tyZWZlcmVuY2VcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2l0QmFja3JlZmVyZW5jZShub2RlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJDYXB0dXJpbmdHcm91cFwiOlxuICAgICAgICAgICAgICAgIHRoaXMudmlzaXRDYXB0dXJpbmdHcm91cChub2RlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJDaGFyYWN0ZXJcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2l0Q2hhcmFjdGVyKG5vZGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkNoYXJhY3RlckNsYXNzXCI6XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpdENoYXJhY3RlckNsYXNzKG5vZGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkNoYXJhY3RlckNsYXNzUmFuZ2VcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2l0Q2hhcmFjdGVyQ2xhc3NSYW5nZShub2RlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJDaGFyYWN0ZXJTZXRcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2l0Q2hhcmFjdGVyU2V0KG5vZGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkZsYWdzXCI6XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpdEZsYWdzKG5vZGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkdyb3VwXCI6XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpdEdyb3VwKG5vZGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIlBhdHRlcm5cIjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2l0UGF0dGVybihub2RlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJRdWFudGlmaWVyXCI6XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpdFF1YW50aWZpZXIobm9kZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiUmVnRXhwTGl0ZXJhbFwiOlxuICAgICAgICAgICAgICAgIHRoaXMudmlzaXRSZWdFeHBMaXRlcmFsKG5vZGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gdHlwZTogJHtub2RlLnR5cGV9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlzaXRBbHRlcm5hdGl2ZShub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVycy5vbkFsdGVybmF0aXZlRW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uQWx0ZXJuYXRpdmVFbnRlcihub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLmVsZW1lbnRzLmZvckVhY2godGhpcy52aXNpdCwgdGhpcyk7XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVycy5vbkFsdGVybmF0aXZlTGVhdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uQWx0ZXJuYXRpdmVMZWF2ZShub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aXNpdEFzc2VydGlvbihub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVycy5vbkFzc2VydGlvbkVudGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVycy5vbkFzc2VydGlvbkVudGVyKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLmtpbmQgPT09IFwibG9va2FoZWFkXCIgfHwgbm9kZS5raW5kID09PSBcImxvb2tiZWhpbmRcIikge1xuICAgICAgICAgICAgbm9kZS5hbHRlcm5hdGl2ZXMuZm9yRWFjaCh0aGlzLnZpc2l0LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25Bc3NlcnRpb25MZWF2ZSkge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlcnMub25Bc3NlcnRpb25MZWF2ZShub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aXNpdEJhY2tyZWZlcmVuY2Uobm9kZSkge1xuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25CYWNrcmVmZXJlbmNlRW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uQmFja3JlZmVyZW5jZUVudGVyKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVycy5vbkJhY2tyZWZlcmVuY2VMZWF2ZSkge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlcnMub25CYWNrcmVmZXJlbmNlTGVhdmUobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlzaXRDYXB0dXJpbmdHcm91cChub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVycy5vbkNhcHR1cmluZ0dyb3VwRW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uQ2FwdHVyaW5nR3JvdXBFbnRlcihub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLmFsdGVybmF0aXZlcy5mb3JFYWNoKHRoaXMudmlzaXQsIHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25DYXB0dXJpbmdHcm91cExlYXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVycy5vbkNhcHR1cmluZ0dyb3VwTGVhdmUobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlzaXRDaGFyYWN0ZXIobm9kZSkge1xuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25DaGFyYWN0ZXJFbnRlcikge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlcnMub25DaGFyYWN0ZXJFbnRlcihub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25DaGFyYWN0ZXJMZWF2ZSkge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlcnMub25DaGFyYWN0ZXJMZWF2ZShub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aXNpdENoYXJhY3RlckNsYXNzKG5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZXJzLm9uQ2hhcmFjdGVyQ2xhc3NFbnRlcikge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlcnMub25DaGFyYWN0ZXJDbGFzc0VudGVyKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUuZWxlbWVudHMuZm9yRWFjaCh0aGlzLnZpc2l0LCB0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZXJzLm9uQ2hhcmFjdGVyQ2xhc3NMZWF2ZSkge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlcnMub25DaGFyYWN0ZXJDbGFzc0xlYXZlKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZpc2l0Q2hhcmFjdGVyQ2xhc3NSYW5nZShub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVycy5vbkNoYXJhY3RlckNsYXNzUmFuZ2VFbnRlcikge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlcnMub25DaGFyYWN0ZXJDbGFzc1JhbmdlRW50ZXIobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aXNpdENoYXJhY3Rlcihub2RlLm1pbik7XG4gICAgICAgIHRoaXMudmlzaXRDaGFyYWN0ZXIobm9kZS5tYXgpO1xuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25DaGFyYWN0ZXJDbGFzc1JhbmdlTGVhdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uQ2hhcmFjdGVyQ2xhc3NSYW5nZUxlYXZlKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZpc2l0Q2hhcmFjdGVyU2V0KG5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZXJzLm9uQ2hhcmFjdGVyU2V0RW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uQ2hhcmFjdGVyU2V0RW50ZXIobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZXJzLm9uQ2hhcmFjdGVyU2V0TGVhdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uQ2hhcmFjdGVyU2V0TGVhdmUobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlzaXRGbGFncyhub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVycy5vbkZsYWdzRW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uRmxhZ3NFbnRlcihub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25GbGFnc0xlYXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVycy5vbkZsYWdzTGVhdmUobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlzaXRHcm91cChub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVycy5vbkdyb3VwRW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uR3JvdXBFbnRlcihub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLmFsdGVybmF0aXZlcy5mb3JFYWNoKHRoaXMudmlzaXQsIHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25Hcm91cExlYXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVycy5vbkdyb3VwTGVhdmUobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlzaXRQYXR0ZXJuKG5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZXJzLm9uUGF0dGVybkVudGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVycy5vblBhdHRlcm5FbnRlcihub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLmFsdGVybmF0aXZlcy5mb3JFYWNoKHRoaXMudmlzaXQsIHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25QYXR0ZXJuTGVhdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uUGF0dGVybkxlYXZlKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZpc2l0UXVhbnRpZmllcihub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVycy5vblF1YW50aWZpZXJFbnRlcikge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlcnMub25RdWFudGlmaWVyRW50ZXIobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aXNpdChub2RlLmVsZW1lbnQpO1xuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25RdWFudGlmaWVyTGVhdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uUXVhbnRpZmllckxlYXZlKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZpc2l0UmVnRXhwTGl0ZXJhbChub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVycy5vblJlZ0V4cExpdGVyYWxFbnRlcikge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlcnMub25SZWdFeHBMaXRlcmFsRW50ZXIobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aXNpdFBhdHRlcm4obm9kZS5wYXR0ZXJuKTtcbiAgICAgICAgdGhpcy52aXNpdEZsYWdzKG5vZGUuZmxhZ3MpO1xuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25SZWdFeHBMaXRlcmFsTGVhdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uUmVnRXhwTGl0ZXJhbExlYXZlKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZVJlZ0V4cExpdGVyYWwoc291cmNlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHBQYXJzZXIob3B0aW9ucykucGFyc2VMaXRlcmFsKFN0cmluZyhzb3VyY2UpKTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUmVnRXhwTGl0ZXJhbChzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cFZhbGlkYXRvcihvcHRpb25zKS52YWxpZGF0ZUxpdGVyYWwoc291cmNlKTtcbn1cbmZ1bmN0aW9uIHZpc2l0UmVnRXhwQVNUKG5vZGUsIGhhbmRsZXJzKSB7XG4gICAgbmV3IFJlZ0V4cFZpc2l0b3IoaGFuZGxlcnMpLnZpc2l0KG5vZGUpO1xufVxuXG5leHBvcnQgeyBhc3QgYXMgQVNULCBSZWdFeHBQYXJzZXIsIFJlZ0V4cFZhbGlkYXRvciwgcGFyc2VSZWdFeHBMaXRlcmFsLCB2YWxpZGF0ZVJlZ0V4cExpdGVyYWwsIHZpc2l0UmVnRXhwQVNUIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbF0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM1RUE7QUFTQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBeENBO0FBQ0E7QUF5Q0E7QUFDQTtBQUNBO0FBTUE7QUFNQTtBQUNBO0FBTUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFNQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUtBO0FBQ0E7QUN2RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3JJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBQ0E7QUFRQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWtHQTtBQUNBO0FBakdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQTdHQTtBQUNBO0FDbEJBO0FBRUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFwQkE7QUFDQTtBQzRFQTtBQUNBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXFTQTtBQW9CQTtBQWxCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU9BO0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBT0E7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVdBO0FBQ0E7QUFRQTtBQUlBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFrQkE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUFBO0FBTUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF3QkE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBa0JBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFjQTtBQUNBO0FBUUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQWlCQTtBQUNBO0FBVUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFnQkE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBbUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQU1BO0FBQ0E7QUFBQTtBQUtBO0FBUUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZ0JBO0FBQ0E7QUFDQTtBQUFBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBaUJBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFrQkE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBZ0JBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQU1BO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaUJBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBT0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQWFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQW1CQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFoaEVBO0FBQ0E7O0FDallBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQVBBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVpBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBU0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEvY0E7QUFDQTtBQXNlQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFTQTtBQUlBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBOUVBO0FBQ0E7OztBQ2xmQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQXpDQTtBQTJDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxMQTtBQUNBO0FDUkE7QUFJQTtBQUNBO0FBQ0E7QUFNQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/regexpp/index.mjs\n");

/***/ })

}]);